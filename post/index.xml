<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on 日々是独想</title>
    <link>https://kazutan.github.io/blog/post/index.xml</link>
    <description>Recent content in Posts on 日々是独想</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <lastBuildDate>Sat, 22 Apr 2017 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://kazutan.github.io/blog/post/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>SpirographをShinyで書いてみた</title>
      <link>https://kazutan.github.io/blog/2017/04/spirograph-shiny/</link>
      <pubDate>Sat, 22 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/spirograph-shiny/</guid>
      <description>&lt;p&gt;今日 #tokyor に参加できなくて寂しかったから記事を書くことにしました。&lt;/p&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;前置き&lt;/h2&gt;
&lt;p&gt;小さい頃,歯車がついた定規でその歯車に鉛筆を使ってぐるぐる回すと,不思議な模様が出てくるので遊んだことありませんか?&lt;/p&gt;
&lt;p&gt;私が子どもの頃にそれを手にし,すごく興奮してひたすら遊び倒してました。でもお気に入りのおもちゃほどよく壊れるもので,あえなく遊べなくなり,名前もわからずに30年ほど経過しました…&lt;/p&gt;
&lt;p&gt;そして先日ふと思い出し,「あれってサイクロイドみたいなやつだよな。てことは座標を数式で表現できるよね?ならRで描写できるんじゃね?」ということで調べました。&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;アレの数式について&lt;/h2&gt;
&lt;p&gt;サイクロイド媒介変数表示は以下の通り:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\begin{cases}
x = a( \theta - \sin \theta) \\
y = a( 1 - \cos \theta) 
\end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;は転がす円の半径,&lt;span class=&#34;math inline&#34;&gt;\(\theta\)&lt;/span&gt;は転がる円が回転した角度を表す。&lt;span class=&#34;math inline&#34;&gt;\(y\)&lt;/span&gt;成分は上下の振動で,&lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;成分は回転した分の円周に振動がゆらぎとして乗っかっている。「横へ転がっている」というのがx成分に追加されているイメージ,かな。&lt;/p&gt;
&lt;p&gt;こんな感じで探していると,&lt;a href=&#34;https://ja.wikipedia.org/wiki/%E3%83%88%E3%83%AD%E3%82%B3%E3%82%A4%E3%83%89&#34;&gt;トコロイド&lt;/a&gt;というのを見つけた&lt;a href=&#34;#fn1&#34; class=&#34;footnoteRef&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;。この内トコロイドこそ,探していたものだった…!&lt;/p&gt;
&lt;p&gt;てことで,数式はこんな感じ:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\begin{cases}
x = (a - b)\cos \theta + p\cos\left(\frac{a-b}{b}\theta\right) \\
y = (a - b)\sin \theta - p\sin\left(\frac{a-b}{b}\theta\right)
\end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;なお,&lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;は定円(外枠の円)の半径,&lt;span class=&#34;math inline&#34;&gt;\(b\)&lt;/span&gt;は動円(中で動いている円)の半径,&lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt;は描画点の半径,&lt;span class=&#34;math inline&#34;&gt;\(\theta\)&lt;/span&gt;は回転角とします。&lt;/p&gt;
&lt;p&gt;この式さえあれば,あとはRで描くなんて簡単です。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;r&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;アレをRで描く&lt;/h2&gt;
&lt;p&gt;てことで,以下のコードを書いてみました:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# 数式のa, b, pを指定
a = 1
b = 0.3
p = 0.11

# 回転数とサンプリングする角度の間隔を指定
turn = 100
by = 0.01

# x, yを算出するためにthetaを準備
theta &amp;lt;- seq(from = 0, to = 2*pi*turn, by = by)

# 座標をdata.frameで生成
df &amp;lt;- data.frame(
  x = (a - b)*cos(theta) + (b-p)*cos((a-b)/b*theta),
  y = (a - b)*sin(theta) - (b-p)*sin((a-b)/b*theta)
)

# 取得した座標を線で結んでプロット
plot(df, type = &amp;quot;l&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://kazutan.github.io/blog/post/2017-04-22-spirograph-shiny_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;いけました。これで&lt;code&gt;b&lt;/code&gt;と&lt;code&gt;p&lt;/code&gt;に指定する値を変更すると,いろんなもの描けます。&lt;strong&gt;30年振りの会合でした&lt;/strong&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;shiny&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;そうだShinyだ&lt;/h2&gt;
&lt;p&gt;ただ,このままだと毎回実行するのも面倒ですし,こういうのこそ簡単にパラメータいじってインタラクティブにしたいものです。&lt;/p&gt;
&lt;p&gt;そうです,Shinyです。もうserver側のコードはほぼできているので,あとはUIまわりを準備してやれば出来上がりとなります。てことで作りました:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kazutan/Spirograph&#34;&gt;kazutan/Spirograph&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;昨日に30分でさくっと作ったのでかなり手抜きです。ちなみにこんな感じです:&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-conversation=&#34;none&#34; data-lang=&#34;ja&#34;&gt;
&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;
てことでさくっとShinyで作ってみた。超楽しい! &lt;a href=&#34;https://t.co/AW0TtdnFWG&#34;&gt;pic.twitter.com/AW0TtdnFWG&lt;/a&gt;
&lt;/p&gt;
— kazutan v3.3.3 (&lt;span class=&#34;citation&#34;&gt;@kazutan&lt;/span&gt;) &lt;a href=&#34;https://twitter.com/kazutan/status/855399890611970048&#34;&gt;2017年4月21日&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;ja&#34;&gt;
&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;
他を固定してbを0.59, 0.60, 0.61へと変化させたらこうなった。 &lt;a href=&#34;https://t.co/Uwr1tgDVfE&#34;&gt;pic.twitter.com/Uwr1tgDVfE&lt;/a&gt;
&lt;/p&gt;
— kazutan v3.3.3 (&lt;span class=&#34;citation&#34;&gt;@kazutan&lt;/span&gt;) &lt;a href=&#34;https://twitter.com/kazutan/status/855409680511676416&#34;&gt;2017年4月21日&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;p&gt;なお,このキャプチャ画面の状態から,さらに&lt;code&gt;alpha&lt;/code&gt;というパラメータを追加していますが,これは全体の回転パラメータです。動かしたらすぐに理解できると思います。&lt;/p&gt;
&lt;p&gt;昨晩これをいろいろ弄ってたらあっという間に時間が過ぎてしまいました…よかったら遊んでください。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;当初名前がわからなかったので,内サイクロイドから頭の中で考えて式を導いてた。まああってたからよかった。&lt;a href=&#34;#fnref1&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>dplyr::selectの活用例メモ</title>
      <link>https://kazutan.github.io/blog/2017/04/dplyr-select-memo/</link>
      <pubDate>Wed, 12 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/dplyr-select-memo/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;タイトルのとおりです。気分転換を兼ねてメモ。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dplyr)
#&amp;gt;  
#&amp;gt;   次のパッケージを付け加えます: &amp;#39;dplyr&amp;#39;
#&amp;gt;   以下のオブジェクトは &amp;#39;package:stats&amp;#39; からマスクされています: 
#&amp;gt;  
#&amp;gt;       filter, lag
#&amp;gt;   以下のオブジェクトは &amp;#39;package:base&amp;#39; からマスクされています: 
#&amp;gt;  
#&amp;gt;       intersect, setdiff, setequal, union&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;列位置を示す数値ベクトルを与えると，それ引っ張ってくる:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, c(1, 4)) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Petal.Width
#&amp;gt;  1          5.1         0.2
#&amp;gt;  2          4.9         0.2
#&amp;gt;  3          4.7         0.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;starts_with()&lt;/code&gt;などの&lt;strong&gt;select_helpers&lt;/strong&gt;関数群は，要するに列位置を表す数値ベクトルを返してくる:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;starts_with(&amp;quot;s&amp;quot;, vars = names(iris))
#&amp;gt;  [1] 1 2 5
ends_with(&amp;quot;s&amp;quot;, vars = names(iris))
#&amp;gt;  [1] 5
contains(&amp;quot;se&amp;quot;, vars = names(iris))
#&amp;gt;  [1] 1 2
matches(&amp;quot;^.e&amp;quot;, vars = names(iris))
#&amp;gt;  [1] 1 2 3 4
one_of(c(&amp;quot;Sepal.Length&amp;quot;, &amp;quot;Species&amp;quot;), vars = names(iris))
#&amp;gt;  [1] 1 5
everything(vars = names(iris))
#&amp;gt;  [1] 1 2 3 4 5&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ちなみに引数の&lt;code&gt;vars&lt;/code&gt;はデフォルトでは&lt;code&gt;vars = current_vars()&lt;/code&gt;となっており，&lt;code&gt;select()&lt;/code&gt;などの中で使うと自動的に&lt;code&gt;.data&lt;/code&gt;引数に指定してあるデータセットから変数名リストを取得してくるというもの。なので&lt;code&gt;select()&lt;/code&gt;内で指定しなくてもいい感じにしてくれる。&lt;/p&gt;
&lt;p&gt;変数をselectする際，名前付きで指定すると変数名を変更してくれてピックアップしてくる:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, kosaki = 5, Sepal.Length) %&amp;gt;% head(3)
#&amp;gt;    kosaki Sepal.Length
#&amp;gt;  1 setosa          5.1
#&amp;gt;  2 setosa          4.9
#&amp;gt;  3 setosa          4.7&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;これが地味に強力で，以下のようなことも可能:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, kosaki = 1:3) %&amp;gt;% head(3)
#&amp;gt;    kosaki1 kosaki2 kosaki3
#&amp;gt;  1     5.1     3.5     1.4
#&amp;gt;  2     4.9     3.0     1.4
#&amp;gt;  3     4.7     3.2     1.3
select(iris, kosaki = starts_with(&amp;quot;s&amp;quot;)) %&amp;gt;% head(3)
#&amp;gt;    kosaki1 kosaki2 kosaki3
#&amp;gt;  1     5.1     3.5  setosa
#&amp;gt;  2     4.9     3.0  setosa
#&amp;gt;  3     4.7     3.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;数値ベクトルで指定できるんだから，こういうことだって可能:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, length(current_vars()):3) %&amp;gt;% head(3)
#&amp;gt;    Species Petal.Width Petal.Length
#&amp;gt;  1  setosa         0.2          1.4
#&amp;gt;  2  setosa         0.2          1.4
#&amp;gt;  3  setosa         0.2          1.3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;current_vars()&lt;/code&gt;を使う理由は，pipeプロセス中で，この時点での変数リストを持ってきたいから。この方が応用できるんで。&lt;/p&gt;
&lt;p&gt;変数の並びを入れ替えたい場合，お約束としては&lt;code&gt;everything()&lt;/code&gt;を活用する:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, 1, 5, everything()) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Species Sepal.Width Petal.Length Petal.Width
#&amp;gt;  1          5.1  setosa         3.5          1.4         0.2
#&amp;gt;  2          4.9  setosa         3.0          1.4         0.2
#&amp;gt;  3          4.7  setosa         3.2          1.3         0.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;あとはorderとかも使える:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, order(current_vars())) %&amp;gt;% head(3)
#&amp;gt;    Petal.Length Petal.Width Sepal.Length Sepal.Width Species
#&amp;gt;  1          1.4         0.2          5.1         3.5  setosa
#&amp;gt;  2          1.4         0.2          4.9         3.0  setosa
#&amp;gt;  3          1.3         0.2          4.7         3.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;select()&lt;/code&gt;だと，多分こんな感じ。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rename()&lt;/code&gt;は関数名につられて「変数名を変更する関数」と思われがちだけど，&lt;code&gt;select()&lt;/code&gt;との比較で考えたほうが適切。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;select()&lt;/code&gt;はヒットした変数を取り出す(もしくは名前を変更)して，それ以外を除外する。一方&lt;code&gt;rename()&lt;/code&gt;は基本&lt;code&gt;select()&lt;/code&gt;と同じ動きをして，ヒットしなかった変数を残す(後ろに回す)。内部的には&lt;code&gt;select()&lt;/code&gt;で変数ピックアップするときに，特に指定していない場合は変数名と同じ文字列を名前として付与して，それを適用してるみたい。&lt;code&gt;rename()&lt;/code&gt;はこの後に変数をドロップしないように残ったものを拾っているみたいで，そこが違いみたい。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;select_all()&lt;/code&gt;を使ってみる。HelpのExampleより:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_all(mtcars, toupper) %&amp;gt;% head(3)
#&amp;gt;                 MPG CYL DISP  HP DRAT    WT  QSEC VS AM GEAR CARB
#&amp;gt;  Mazda RX4     21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
#&amp;gt;  Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
#&amp;gt;  Datsun 710    22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
select_all(mtcars, &amp;quot;toupper&amp;quot;) %&amp;gt;% head(3)
#&amp;gt;                 MPG CYL DISP  HP DRAT    WT  QSEC VS AM GEAR CARB
#&amp;gt;  Mazda RX4     21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
#&amp;gt;  Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
#&amp;gt;  Datsun 710    22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
select_all(mtcars, funs(toupper(.))) %&amp;gt;% head(3)
#&amp;gt;                 MPG CYL DISP  HP DRAT    WT  QSEC VS AM GEAR CARB
#&amp;gt;  Mazda RX4     21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
#&amp;gt;  Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
#&amp;gt;  Datsun 710    22.8   4  108  93 3.85 2.320 18.61  1  1    4    1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;全ての変数名に対して関数が適用される，という感じ。それはいいんだけど，&lt;code&gt;rename_all()&lt;/code&gt;も存在する。この2つ，微妙にコードは違うんだけど，使い分けることってあるのかな…。浮かばない。&lt;/p&gt;
&lt;p&gt;次に&lt;code&gt;select_at()&lt;/code&gt;を使ってみる。これは，第二引数である&lt;code&gt;.vars&lt;/code&gt;に残す変数を指定して，&lt;code&gt;.fun&lt;/code&gt;引数で変数名を処理する関数を指定するという動き。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_at(iris, c(&amp;quot;Sepal.Length&amp;quot;, &amp;quot;Petal.Length&amp;quot;), .funs = toupper) %&amp;gt;% head(3)
#&amp;gt;    SEPAL.LENGTH PETAL.LENGTH
#&amp;gt;  1          5.1          1.4
#&amp;gt;  2          4.9          1.4
#&amp;gt;  3          4.7          1.3
select_at(iris, vars(starts_with(&amp;quot;s&amp;quot;)), .funs = toupper) %&amp;gt;% head(3)
#&amp;gt;    SEPAL.LENGTH SEPAL.WIDTH SPECIES
#&amp;gt;  1          5.1         3.5  setosa
#&amp;gt;  2          4.9         3.0  setosa
#&amp;gt;  3          4.7         3.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;.var&lt;/code&gt;には，変数名の文字列ベクトルならそのまま，列番号なら&lt;code&gt;vars()&lt;/code&gt;で挟み込む必要があるみたい。なお&lt;code&gt;.funs&lt;/code&gt;引数を省略すると現在の変数名をそのまま渡すので変数名は変わらず:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_at(iris, vars(starts_with(&amp;quot;s&amp;quot;))) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Sepal.Width Species
#&amp;gt;  1          5.1         3.5  setosa
#&amp;gt;  2          4.9         3.0  setosa
#&amp;gt;  3          4.7         3.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;使い方としてはこっちがメイン，かな? なお&lt;code&gt;rename_at()&lt;/code&gt;関数もある:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rename_at(iris, vars(starts_with(&amp;quot;s&amp;quot;)), .funs = toupper) %&amp;gt;% head(3)
#&amp;gt;    SEPAL.LENGTH SEPAL.WIDTH Petal.Length Petal.Width SPECIES
#&amp;gt;  1          5.1         3.5          1.4         0.2  setosa
#&amp;gt;  2          4.9         3.0          1.4         0.2  setosa
#&amp;gt;  3          4.7         3.2          1.3         0.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;.var&lt;/code&gt;引数で選択した変数に対して&lt;code&gt;.funs&lt;/code&gt;引数で指定した変数名変更用関数を適用し，残りはそのまま持ってくる，という仕事をする。こっちは変数名を変更することが前提なので，&lt;code&gt;.funs&lt;/code&gt;を指定しないとエラーで怒られる。これまでの挙動を考えると納得いかない…。&lt;/p&gt;
&lt;p&gt;最後に&lt;code&gt;select_if()&lt;/code&gt;を使ってみる。これは，第二引数である&lt;code&gt;.predicate&lt;/code&gt;に関数を準備し，各変数をこの関数に当てていく。そして&lt;code&gt;TRUE&lt;/code&gt;を返した関数を残す(選択する)，という仕事をする。ベタな例を以下に:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_if(iris, is.numeric) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width
#&amp;gt;  1          5.1         3.5          1.4         0.2
#&amp;gt;  2          4.9         3.0          1.4         0.2
#&amp;gt;  3          4.7         3.2          1.3         0.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;各変数に&lt;code&gt;is.numeric&lt;/code&gt;を適用し，&lt;code&gt;TRUE&lt;/code&gt;(つまり数値の変数)だけを取り出してる。なお，関数を自作して適用するのも可能:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;f &amp;lt;- function(x) {
 if(is.numeric(x)){
   mean(x) &amp;gt; 3
 } else {
   return(TRUE)
 }
}
select_if(iris, f) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Sepal.Width Petal.Length Species
#&amp;gt;  1          5.1         3.5          1.4  setosa
#&amp;gt;  2          4.9         3.0          1.4  setosa
#&amp;gt;  3          4.7         3.2          1.3  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;この場合，「変数が数値型の場合，平均が3より大きかったら残す。それ以外の型なら残す」という仕事をさせてる。また，列数と同じ数の論理値ベクトルを与えてもOK:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_if(iris, c(TRUE, TRUE, FALSE, TRUE, FALSE)) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Sepal.Width Petal.Width
#&amp;gt;  1          5.1         3.5         0.2
#&amp;gt;  2          4.9         3.0         0.2
#&amp;gt;  3          4.7         3.2         0.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;また，&lt;code&gt;.Predicate&lt;/code&gt;で指定するのは関数だけでなくformulaでもいいみたい。省略。あと第三引数&lt;code&gt;.funs&lt;/code&gt;はこれまでのパターン同様&lt;strong&gt;変数名を変更するための関数&lt;/strong&gt;です。&lt;code&gt;select_if()&lt;/code&gt;においてはオプショナルなものです:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_if(iris, is.numeric, toupper) %&amp;gt;% head(3)
#&amp;gt;    SEPAL.LENGTH SEPAL.WIDTH PETAL.LENGTH PETAL.WIDTH
#&amp;gt;  1          5.1         3.5          1.4         0.2
#&amp;gt;  2          4.9         3.0          1.4         0.2
#&amp;gt;  3          4.7         3.2          1.3         0.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;一方，&lt;code&gt;rename_if()&lt;/code&gt;は&lt;code&gt;select_if()&lt;/code&gt;とほぼ同じような動きをしますが，&lt;strong&gt;名前変更なので&lt;code&gt;.funs&lt;/code&gt;が必須&lt;/strong&gt;なのと，&lt;strong&gt;選択されなかった変数も残る&lt;/strong&gt;という違いがあります:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rename_if(iris, is.numeric, toupper) %&amp;gt;% head(3)
#&amp;gt;    SEPAL.LENGTH SEPAL.WIDTH PETAL.LENGTH PETAL.WIDTH Species
#&amp;gt;  1          5.1         3.5          1.4         0.2  setosa
#&amp;gt;  2          4.9         3.0          1.4         0.2  setosa
#&amp;gt;  3          4.7         3.2          1.3         0.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;だいたいこんな感じです。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sessionInfo()
#&amp;gt;  R version 3.3.3 (2017-03-06)
#&amp;gt;  Platform: x86_64-pc-linux-gnu (64-bit)
#&amp;gt;  Running under: Ubuntu 16.04.1 LTS
#&amp;gt;  
#&amp;gt;  locale:
#&amp;gt;   [1] LC_CTYPE=ja_JP.UTF-8       LC_NUMERIC=C              
#&amp;gt;   [3] LC_TIME=ja_JP.UTF-8        LC_COLLATE=ja_JP.UTF-8    
#&amp;gt;   [5] LC_MONETARY=ja_JP.UTF-8    LC_MESSAGES=ja_JP.UTF-8   
#&amp;gt;   [7] LC_PAPER=ja_JP.UTF-8       LC_NAME=C                 
#&amp;gt;   [9] LC_ADDRESS=C               LC_TELEPHONE=C            
#&amp;gt;  [11] LC_MEASUREMENT=ja_JP.UTF-8 LC_IDENTIFICATION=C       
#&amp;gt;  
#&amp;gt;  attached base packages:
#&amp;gt;  [1] stats     graphics  grDevices utils     datasets  base     
#&amp;gt;  
#&amp;gt;  other attached packages:
#&amp;gt;  [1] dplyr_0.5.0.9004
#&amp;gt;  
#&amp;gt;  loaded via a namespace (and not attached):
#&amp;gt;   [1] Rcpp_0.12.10     bookdown_0.3.14  assertthat_0.2.0 digest_0.6.12   
#&amp;gt;   [5] rprojroot_1.2    R6_2.2.0         backports_1.0.5  magrittr_1.5    
#&amp;gt;   [9] evaluate_0.10    blogdown_0.0.25  rlang_0.0.0.9018 stringi_1.1.5   
#&amp;gt;  [13] rmarkdown_1.4    tools_3.3.3      stringr_1.2.0    glue_1.0.0      
#&amp;gt;  [17] yaml_2.1.14      htmltools_0.3.5  knitr_1.15.17    tibble_1.3.0    
#&amp;gt;  [21] methods_3.3.3&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>MathJax CDNがシャットダウンされることによるR Markdownへの影響</title>
      <link>https://kazutan.github.io/blog/2017/04/mathjax-cdn-rmd/</link>
      <pubDate>Tue, 11 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/mathjax-cdn-rmd/</guid>
      <description>

&lt;h2 id=&#34;経緯&#34;&gt;経緯&lt;/h2&gt;

&lt;p&gt;先日,こういう情報が流れてきました:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.mathjax.org/cdn-shutting-down/&#34;&gt;MathJax CDN shutting down on April 30, 2017.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;内容としては,「MathJaxの自前CDNサーバーを4/30に閉じますよ」って話で,「ローカルに落としとくか代替となるクラウドサーバーを使ってね」ということです。&lt;/p&gt;

&lt;p&gt;さてこのMathJaxというのは,HTMLドキュメントなどで数式を綺麗に出してくれるライブラリです。Markdownなど利用していると,&lt;code&gt;$&lt;/code&gt;や&lt;code&gt;$$&lt;/code&gt;などでTeX記法の数式を挟み込むと数式をレンダリングしてくれる機能を提供してくれたりします。&lt;/p&gt;

&lt;p&gt;このMathJaxですが,R Markdownの数式でも利用されていますし,RStudioのリアルタイムプレビュー機能もおそらくは利用されています。ということは,&lt;strong&gt;R Markdownなどに影響が出るかもしれない&lt;/strong&gt;のです。というわけで調べてみました。&lt;/p&gt;

&lt;h2 id=&#34;調査結果&#34;&gt;調査結果&lt;/h2&gt;

&lt;h3 id=&#34;rstudioの場合&#34;&gt;RStudioの場合&lt;/h3&gt;

&lt;p&gt;RStudioはbuildの際にMathJaxを組み込んでいるようです。Ubuntu版だと&lt;code&gt;/usr/lib/rstudio/resources/mathjax-26/&lt;/code&gt;にいました。きっちりと確認してませんが,Rmdファイル編集中に表示されるリアルタイム数式プレビューはlocalのを利用しているはずなので,&lt;strong&gt;おそらくは大丈夫&lt;/strong&gt;だと思います。&lt;/p&gt;

&lt;h3 id=&#34;r-markdownの場合&#34;&gt;R Markdownの場合&lt;/h3&gt;

&lt;p&gt;結論から言うと,&lt;strong&gt;影響を受けます&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;まず,html_documentをデフォルトで出力した場合,Pandocに送られる内容は以下の記事にまとめてます:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://qiita.com/kazutan/items/eb15a42607f87f57b525#15-16%E8%A1%8C%E7%9B%AE-%E6%95%B0%E5%BC%8F%E3%81%BE%E3%82%8F%E3%82%8A%E3%81%AE%E8%A8%AD%E5%AE%9A&#34;&gt;RStudioの&amp;rdquo;knit HTML&amp;rdquo;でPandocに送っている内容 - Qiita&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;このurlは,まさに最初に紹介したMathJaxの記事で記載されている,停止するCDNサーバーです。なおこれは現在のversionでも変更がないのを確認しています。&lt;/p&gt;

&lt;p&gt;したがって,&lt;strong&gt;このままですと4/30以降にknitしたRmdでは,MathJaxを標準設定のままではうまく表示されない可能性があります&lt;/strong&gt;。したがって対応を考える必要があるでしょう。&lt;/p&gt;

&lt;p&gt;なお,すでに作ってきたhtml_documentの場合はどうなるかというと,&lt;strong&gt;こちらも影響を受けます&lt;/strong&gt;。ただ,&lt;code&gt;self_contained: TRUE&lt;/code&gt;(デフォ値)にしてれば組み込まれるんで大丈夫じゃないか? と思われるかもしれません。ですが,MathJaxはself_contained: TRUEであっても直接WebのCDNから読みこむように設定してあります。理由は省略しますが,気になる方はコメントで書き込んでください。&lt;/p&gt;

&lt;h2 id=&#34;対策&#34;&gt;対策&lt;/h2&gt;

&lt;h3 id=&#34;影響する範囲&#34;&gt;影響する範囲&lt;/h3&gt;

&lt;p&gt;rmarkdownパッケージは完全に影響を受けます。あとR Markdownのテンプレートなどを提供するパッケージにも影響します。たとえば&lt;a href=&#34;https://github.com/yihui/xaringan&#34;&gt;xaringanパッケージ&lt;/a&gt;は確実に影響を受けるでしょう。&lt;/p&gt;

&lt;h3 id=&#34;基本的な考え方&#34;&gt;基本的な考え方&lt;/h3&gt;

&lt;p&gt;MathJaxは先の記事で代替となる場所を示していますので,そちらを利用するように調整すればOKです。&lt;/p&gt;

&lt;p&gt;YAMLフロントマターに,以下のような感じで追加してKnitすればOKです:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;---
output:
  html_document:
    mathjax: &amp;quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML&amp;quot;
---
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;これで差し替わります。またURLの途中にある数値(version)を書き換えてやればそれに対応したものが当たるようになります。&lt;/p&gt;

&lt;h3 id=&#34;すでに生成したドキュメントについて&#34;&gt;すでに生成したドキュメントについて&lt;/h3&gt;

&lt;p&gt;Rmdがあるのであれば,再度レンダリングするのがはやいかと。Rmdがないのであれば,サイトなどのHTMLを編集する必要があります。&lt;/p&gt;

&lt;h3 id=&#34;パッケージ側を編集する&#34;&gt;パッケージ側を編集する&lt;/h3&gt;

&lt;p&gt;rmarkdownをフォークするなりして,該当箇所を修正したもので使っていくという方法もあります。あるいはプルリクを出してそのものを変更していく,という方法もあります。&lt;/p&gt;

&lt;p&gt;ひとまず該当箇所を修正してプルリクを出してみたけど,どうなるかな…&lt;/p&gt;

&lt;h2 id=&#34;雑感&#34;&gt;雑感&lt;/h2&gt;

&lt;p&gt;てことで調べてみて行動してみたけれど,RStudioやR Markdownまわりで全然話題になってないのよ…影響ない,とは思えないんだけど間違ってるのかな。不安でしょうがないです。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>今年度前期。</title>
      <link>https://kazutan.github.io/blog/2017/04/17a-timetable/</link>
      <pubDate>Sun, 09 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/17a-timetable/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;明日から始まるのでいつも通りタイムテーブルを作ってみた。いちいちDTでやるの面倒だから&lt;code&gt;knitr::kable&lt;/code&gt;で。&lt;/p&gt;
&lt;table&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:unnamed-chunk-1&#34;&gt;Table 1: &lt;/span&gt;2017年前期 週間スケジュール
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
&lt;/th&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
月曜日
&lt;/th&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
火曜日
&lt;/th&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
水曜日
&lt;/th&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
木曜日
&lt;/th&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
金曜日
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
PC演習
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
会議
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
非常勤へ
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
PC演習
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
PC演習
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
心理系講義
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
PC演習
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
3
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
初年次科目
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
本務校へ
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
4
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
ゼミ演習
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
PC演習
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
PC演習
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
情報系講義
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
PC演習
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
5
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
卒研指導
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
オフィスアワー
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
PC相談ブース
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
会議
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
    </item>
    
    <item>
      <title>DiagrammeRのrankdirのテスト</title>
      <link>https://kazutan.github.io/blog/2017/04/dgr-rankdir-test/</link>
      <pubDate>Thu, 06 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/dgr-rankdir-test/</guid>
      <description>&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/viz/viz.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/DiagrammeR-styles/styles.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/grViz-binding/grViz.js&#34;&gt;&lt;/script&gt;

&lt;p&gt;書捨て用のメモ記事。&lt;/p&gt;
&lt;div id=&#34;rankdir&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;rankdirのテスト&lt;/h2&gt;
&lt;p&gt;データフレームからgraph attrを当てていくの，便利なようで面倒だった。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(DiagrammeR)
grViz(&amp;quot;
      digraph dot {
      graph [rankdir = TB]
      a -&amp;gt; {b,c}
      }
      &amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-85e5f9954133f1cb238a&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;grViz html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-85e5f9954133f1cb238a&#34;&gt;{&#34;x&#34;:{&#34;diagram&#34;:&#34;\n      digraph dot {\n      graph [rankdir = TB]\n      a -&gt; {b,c}\n      }\n      &#34;,&#34;config&#34;:{&#34;engine&#34;:&#34;dot&#34;,&#34;options&#34;:null}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ndf &amp;lt;- create_node_df(
  n = 3,
  type = c(&amp;quot;cat&amp;quot;, &amp;quot;takayanagi3&amp;quot;, &amp;quot;takayanagi3&amp;quot;),
  label = TRUE
)

edf &amp;lt;- create_edge_df(
  from = c(1, 1),
  to = c(2, 3)
)

graph1 &amp;lt;- create_graph(
  nodes_df = ndf,
  edges_df = edf
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in sample.int(length(x), size, replace, prob): &amp;#39;.Random.seed&amp;#39; が整
## 数ベクトルではなくタイプ &amp;#39;NULL&amp;#39; になっているため、無視されました&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;render_graph(graph1)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-e25a8e7a0f609d623ec8&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;grViz html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-e25a8e7a0f609d623ec8&#34;&gt;{&#34;x&#34;:{&#34;diagram&#34;:&#34;digraph {\n\ngraph [layout = \&#34;neato\&#34;,\n       outputorder = \&#34;edgesfirst\&#34;]\n\nnode [fontname = \&#34;Helvetica\&#34;,\n     fontsize = \&#34;10\&#34;,\n     shape = \&#34;circle\&#34;,\n     fixedsize = \&#34;true\&#34;,\n     width = \&#34;0.5\&#34;,\n     style = \&#34;filled\&#34;,\n     fillcolor = \&#34;aliceblue\&#34;,\n     color = \&#34;gray70\&#34;,\n     fontcolor = \&#34;gray50\&#34;]\n\nedge [len = \&#34;1.5\&#34;,\n     color = \&#34;gray40\&#34;,\n     arrowsize = \&#34;0.5\&#34;]\n\n  \&#34;1\&#34; [label = \&#34;1\&#34;] \n  \&#34;2\&#34; [label = \&#34;2\&#34;] \n  \&#34;3\&#34; [label = \&#34;3\&#34;] \n\&#34;1\&#34;-&gt;\&#34;2\&#34; [id = \&#34;1\&#34;] \n\&#34;1\&#34;-&gt;\&#34;3\&#34; [id = \&#34;2\&#34;] \n}&#34;,&#34;config&#34;:{&#34;engine&#34;:null,&#34;options&#34;:null}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;graph2 &amp;lt;- graph1 %&amp;gt;% 
  add_global_graph_attrs(
    &amp;quot;rankdir&amp;quot;, &amp;quot;TB&amp;quot;, &amp;quot;graph&amp;quot;
  ) %&amp;gt;% 
  add_global_graph_attrs(
    &amp;quot;layout&amp;quot;, &amp;quot;dot&amp;quot;, &amp;quot;graph&amp;quot;
  )

render_graph(graph2)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-d646958d7ec580ad9bae&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;grViz html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-d646958d7ec580ad9bae&#34;&gt;{&#34;x&#34;:{&#34;diagram&#34;:&#34;digraph {\n\ngraph [layout = \&#34;dot\&#34;,\n       outputorder = \&#34;edgesfirst\&#34;,\n       rankdir = \&#34;TB\&#34;]\n\nnode [fontname = \&#34;Helvetica\&#34;,\n     fontsize = \&#34;10\&#34;,\n     shape = \&#34;circle\&#34;,\n     fixedsize = \&#34;true\&#34;,\n     width = \&#34;0.5\&#34;,\n     style = \&#34;filled\&#34;,\n     fillcolor = \&#34;aliceblue\&#34;,\n     color = \&#34;gray70\&#34;,\n     fontcolor = \&#34;gray50\&#34;]\n\nedge [len = \&#34;1.5\&#34;,\n     color = \&#34;gray40\&#34;,\n     arrowsize = \&#34;0.5\&#34;]\n\n  \&#34;1\&#34; [label = \&#34;1\&#34;] \n  \&#34;2\&#34; [label = \&#34;2\&#34;] \n  \&#34;3\&#34; [label = \&#34;3\&#34;] \n\&#34;1\&#34;-&gt;\&#34;2\&#34; [id = \&#34;1\&#34;] \n\&#34;1\&#34;-&gt;\&#34;3\&#34; [id = \&#34;2\&#34;] \n}&#34;,&#34;config&#34;:{&#34;engine&#34;:null,&#34;options&#34;:null}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;公式ドキュメントが整備されていないので手探りでやりました。早く整備しないと…。&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>blogdownのTips</title>
      <link>https://kazutan.github.io/blog/2017/04/blogdown-tips/</link>
      <pubDate>Sun, 02 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/blogdown-tips/</guid>
      <description>&lt;p&gt;最近まわりで何かと&lt;strong&gt;blogdown&lt;/strong&gt;パッケージが話題です。このブログも&lt;strong&gt;blogdown&lt;/strong&gt;で作成していますし,紹介する記事も増えてきました。&lt;/p&gt;

&lt;p&gt;そこで自分の中で検証して,現時点でわかったことをTipsとしてまとめてみようと思います。また新たにわかったことは別記事にでも書こうかと思います。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;blogdown入門&#34;&gt;blogdown入門&lt;/h2&gt;

&lt;h3 id=&#34;blogdownとは&#34;&gt;blogdownとは&lt;/h3&gt;

&lt;p&gt;blogdownはRを使ってblogのような静的Webサイトを生成するためのパッケージです。サイト生成には&lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt;というサイト生成アプリケーションを利用しており,これはGo言語で書かれています。&lt;/p&gt;

&lt;h3 id=&#34;hugoについて&#34;&gt;Hugoについて&lt;/h3&gt;

&lt;p&gt;このHugoの特徴としては生成処理が早く,またモダンなデザインのテンプレートがいろいろあって,すぐに実用的なものが作成可能というのがあります。&lt;/p&gt;

&lt;p&gt;またHugoの重要なポイントとして,公式ドキュメントが非常に充実していることが挙げられます。blogdownでやりたいことや行き詰まることが出たら,Hugoの公式サイトを参照するのをおすすめします:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://gohugo.io/overview/introduction/&#34;&gt;Hugo - Introduction to Hugo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;blogdownのスタートアップ&#34;&gt;blogdownのスタートアップ&lt;/h3&gt;

&lt;p&gt;blogdownがどういうものか,そして導入の方法については,すでにいい記事がありますので,以下を参照してください:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ytake2.github.io/blog2/post/blogdown/&#34;&gt;RStudioではグラブれないけど、ブログれる&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.hoxo-m.com/2017/03/29/hello-world/&#34;&gt;ホクソエムブログの作り方&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;tips&#34;&gt;Tips&lt;/h2&gt;

&lt;p&gt;上記の記事に記載されていなくて,自分の中でメモしときたい内容をいくつか。&lt;/p&gt;

&lt;h3 id=&#34;blogdownの仕組みについて&#34;&gt;blogdownの仕組みについて&lt;/h3&gt;

&lt;p&gt;ちょっと込み入った内容です。&lt;/p&gt;

&lt;h4 id=&#34;blogdownの実体&#34;&gt;blogdownの実体&lt;/h4&gt;

&lt;p&gt;blogdownは,正直&lt;strong&gt;ほとんどHugoのR向けWrapper&lt;/strong&gt;です。&lt;/p&gt;

&lt;p&gt;例えばサイトを作成する&lt;code&gt;new_site()&lt;/code&gt;は,初期値を確認・設定した上で,それらを&lt;code&gt;hugo_cmd()&lt;/code&gt;に送っています。また,&lt;code&gt;new_content()&lt;/code&gt;もhugoへ新しいコンテツを作成するためのコマンドを送っています。そしてサイトを生成する&lt;code&gt;build_site()&lt;/code&gt;は設定などを整理・確認して&lt;code&gt;build_rmds()&lt;/code&gt;へ送り,Rmdを処理したうえで&lt;code&gt;hugo_build()&lt;/code&gt;でbuildしています。この&lt;code&gt;build_site()&lt;/code&gt;のコードおよびそこからの流れはblogdownの中身を把握する上でポイントとなるので,余力があるならぜひ覗いてみてください。&lt;/p&gt;

&lt;h4 id=&#34;rmd-or-md&#34;&gt;Rmd or md?&lt;/h4&gt;

&lt;p&gt;blogdownでbuildすると,content内にあるRmdやmdがレンダリングされて,自動的に最適な形で出力先へ出てくるようになります。つまりはblog記事はmdでもRmdでもどちらでも可能でhtmlが生成されます。ただし,&lt;strong&gt;この時用いられるレンダリングエンジンがRmdとmdで異なります&lt;/strong&gt;。詳しくは&lt;a href=&#34;https://bookdown.org/yihui/blogdown/output-format.html&#34;&gt;blogdownのドキュメントのここ&lt;/a&gt;を参照してください。&lt;/p&gt;

&lt;p&gt;Rmdの場合,通常のR Markdownと同様でknit - Pandocという処理を行います。この時ベースになるoutputは&lt;code&gt;blogdown::html_page()&lt;/code&gt;で,これは&lt;code&gt;bookdown::html_document2()&lt;/code&gt;でいくつかの設定をblog(hugo)向けに絞ったものとなっています。なのでいつものR Markdownのoutputオプションを指定したい場合,以下のように指定すればOKです:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;---
title: R Markdownでの諸々のテスト
author: kazutan
date: &#39;2017-03-22&#39;
slug: rmd-test
categories:
  - R
  - R Markdown
tags:
  - R
  - R Markdown
archives:
  - &amp;quot;2017&amp;quot;
  - &amp;quot;2017/03&amp;quot;
output:
  blogdown::html_page:
    toc: true
---
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;これはこのブログの&lt;a href=&#34;https://kazutan.github.io/blog/2017/03/rmd-test/&#34;&gt;この記事&lt;/a&gt;のyamlフロントマターで当てている内容です。このような設定は,Rmdで記事を作成した場合に有効です。&lt;/p&gt;

&lt;p&gt;なお,&lt;strong&gt;Rmdで作成するとHugoがmdレンダリングで使用する&lt;a href=&#34;https://github.com/russross/blackfriday&#34;&gt;Blackfliday&lt;/a&gt;の機能などが使えない&lt;/strong&gt;という制約がつきます。なのでよくHugo関連のドキュメントで書いてあるような拡張機能が使えない場合があるので注意してください。&lt;/p&gt;

&lt;p&gt;一方mdの場合,Hugoがmdをレンダリングします。Hugoは&lt;a href=&#34;https://github.com/russross/blackfriday&#34;&gt;Blackfliday&lt;/a&gt;を利用してレンダリングしています。またHugoが提供している拡張機能もそのままドキュメントに盛り込めます。例えば,&lt;code&gt;HUGOMORE42&lt;/code&gt;は手動で「続きを読む」みたいな区切りを設定するものですが,mdファイルであればこれを差し込むことで実装できます。ただし,Rmdファイルで記事を書いた場合には機能しません。&lt;/p&gt;

&lt;p&gt;では「Rmdとmdのどっちがいいの?」と聞かれそうですが,ケースバイケースと言わざるを得ません。Rチャンクなどを埋め込みたいのであればRmd一択になるでしょうし,Blackfridayなどを利用したいのであれば,mdも選択肢になる,と言った感じでしょうか。まだ私がそこまでBlackfridayなどに明るくないのでRmdにより多くのメリットを感じていますが,そのうち機会があれば調べてみたいとは思ってます。&lt;/p&gt;

&lt;h3 id=&#34;コメント機能の実装&#34;&gt;コメント機能の実装&lt;/h3&gt;

&lt;p&gt;Hugoは静的なサイトなので,CMSで標準で実装されているコメント機能などは難しくなります。ここはシンプルに外部サービスを利用するのが楽だと思います。&lt;/p&gt;

&lt;p&gt;このブログでは&lt;a href=&#34;https://disqus.com/&#34;&gt;disqus&lt;/a&gt;という外部サービスを利用しています。詳しくは&lt;code&gt;disque 使い方&lt;/code&gt;とかでググってもらえれば,アカウント登録のやり方など解説している記事がヒットするでしょう。有償版もありますが,無償版でも使えます。&lt;/p&gt;

&lt;p&gt;blogdown(というかhugo)では割と簡単に組み込むことができます。&lt;a href=&#34;https://gohugo.io/extras/comments/&#34;&gt;Hugo公式ドキュメントのこちら&lt;/a&gt;を参照してください。多分大抵のテーマでさくっといけるはずです。&lt;/p&gt;

&lt;h3 id=&#34;出力先ディレクトリの設定など&#34;&gt;出力先ディレクトリの設定など&lt;/h3&gt;

&lt;p&gt;blogdown(というかHugo)のデフォルトは&lt;code&gt;public/&lt;/code&gt;となっています。通常のWebサーバに設置したいのであれば,単にこの中身をまるっと設置すればOKなのですが,github.ioを利用するとなると面倒です。&lt;/p&gt;

&lt;p&gt;最初の方に紹介した2つの記事では「&lt;code&gt;public/&lt;/code&gt;の中身を&lt;code&gt;docs&lt;/code&gt;にコピーして&lt;code&gt;push&lt;/code&gt;」とありますが,これも手間です。もうちょっと簡単にやる方法が&lt;a href=&#34;https://gohugo.io/tutorials/github-pages-blog/&#34;&gt;Hugo公式ドキュメントのこちら&lt;/a&gt;に記載してありますので参照してください。&lt;/p&gt;

&lt;p&gt;なお,単に出力先を&lt;code&gt;docs/&lt;/code&gt;に変更したいだけなら,&lt;code&gt;config.toml&lt;/code&gt;に以下の一行を追加してください:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-toml&#34;&gt;publishDir = &amp;quot;docs&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;またgh-pagesブランチで運用したいなら,先ほど紹介したリンク先に詳細手順が紹介してあります。多少gitの知識が入りますが,丁寧な解説なのでそれほど苦しくはないと思います。&lt;/p&gt;

&lt;h3 id=&#34;hugoでcjk対応&#34;&gt;Hugoでcjk対応&lt;/h3&gt;

&lt;p&gt;英語オンリーなブログであれば不要なのですが,日本語ベースでblogdown(Hugo)を利用するならcjk対応をさせておくほうがいいでしょう(cjkは中国語&amp;copy;,日本語(j),韓国語(k)のこと)。これを設定しておかないと,トップページなどで記事一覧を出した時,記事の要約が自動でうまく処理してくれずに面倒なこととなります。&lt;/p&gt;

&lt;p&gt;設定方法は,&lt;code&gt;config.toml&lt;/code&gt;に以下の一文を記述してください:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-toml&#34;&gt;hasCJKLanguage = true
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;その他の全体設定について&#34;&gt;その他の全体設定について&lt;/h3&gt;

&lt;p&gt;Hugoではいわゆるブログ全体設定というものがかなりたくさんありますし,拡張機能もたくさん準備してあります。詳しくは公式ドキュメントをざっと見てみてください。&lt;/p&gt;

&lt;p&gt;ただし,&lt;strong&gt;Hugoはテーマテンプレートによって設定項目がかなり変わってくる&lt;/strong&gt;のを注意してください。正直これがかなり面倒で,&lt;strong&gt;必ず設定したテーマのドキュメントをよく読んでください&lt;/strong&gt;。このブログで設定しているテーマは&lt;a href=&#34;http://themes.gohugo.io/hugo-tranquilpeak-theme/&#34;&gt;Tranquilpeak&lt;/a&gt;で,多機能でいろいろカスタマイズ可能ということで選びました。&lt;/p&gt;

&lt;h3 id=&#34;新規postはrstudio-addinで&#34;&gt;新規PostはRStudio Addinで&lt;/h3&gt;

&lt;p&gt;最近のblogdownなら,&lt;strong&gt;新規Postを準備するためのRStudio Addinが準備されています&lt;/strong&gt;。RStudioの&lt;strong&gt;Addin&amp;hellip;&lt;/strong&gt;ボタンから,&lt;strong&gt;New Post&lt;/strong&gt;を選択してください:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://kazutan.github.io/blog/img/new_post.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;このようなダイアログボックスが出てきます。基本的に必要な事項はここで設定できます。設定したら右下の&lt;strong&gt;OK&lt;/strong&gt;をクリックすれば,新規Post用のファイルが自動的に適切な場所に生成されます。&lt;/p&gt;

&lt;p&gt;なおCategoriesやtagsもここで設定できますし,これらですでに使ったことがあるものであればクリックで選択して入力していくことが可能ですし,新規で作ることも可能です。いちいち他のところで設定しなくても後でBuildした時にHugoが自動的に対応してくれます。便利です。&lt;/p&gt;

&lt;h3 id=&#34;下書き-draft&#34;&gt;下書き(draft)&lt;/h3&gt;

&lt;p&gt;上記のようにRStudioのAddinで作成した場合,yamlフロントマターに&lt;code&gt;draft: yes&lt;/code&gt;というのが自動で組み込まれているかと思います。これはまさにdraft機能で,yesなので下書きモードとなっています。&lt;/p&gt;

&lt;p&gt;下書きモードがONになっていると,&lt;code&gt;build_site()&lt;/code&gt;を実行してもその記事はサイトには組み込まれない(publicには入ってこない)ようになります。私の場合,記事を書きながらknitを実行して表示を確認し,書き終えたら&lt;code&gt;draft: false&lt;/code&gt;に書き換えて&lt;code&gt;serve_site()&lt;/code&gt;で確認するようにしています。&lt;/p&gt;

&lt;p&gt;また,記事を書いていく時に「ちょっと今さくっとどんな感じになるか確認したいな」と思ったら,&lt;code&gt;knit&lt;/code&gt;を実行してください。テーマなどは当たりませんが,チャンクが実行されてhtmlが生成され,確認することができます。毎度毎度buildしたりしなくていいので楽ちんですよ。&lt;/p&gt;

&lt;h3 id=&#34;build-site-と-serve-site-について&#34;&gt;&lt;code&gt;build_site()&lt;/code&gt;と&lt;code&gt;serve_site()&lt;/code&gt;について&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;serve_site()&lt;/code&gt;を実行するとbuildされ,RStudioのViewerペインに表示されます。実際何をしているかといういと,まず&lt;code&gt;build_site(TRUE)&lt;/code&gt;を実行し,&lt;code&gt;servr::httw()&lt;/code&gt;にてローカルサーバーを立てて表示させています。つまり,&lt;strong&gt;&lt;code&gt;serve_site()&lt;/code&gt;を実行するとLocal用にbuildして,それをローカルで表示させている&lt;/strong&gt;を実行しています。&lt;/p&gt;

&lt;p&gt;blog設定や内容にもよりますが,&lt;code&gt;serve_site()&lt;/code&gt;はあくまでローカルでの表示用にbuildしていますので,そのまま公開するとうまく表示されない場合があります。このようなことがあるので,公開用に設置する前に一度&lt;code&gt;build_site()&lt;/code&gt;を実行する手順を加えておくことをおすすめします。&lt;/p&gt;

&lt;h2 id=&#34;参考資料&#34;&gt;参考資料&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://bookdown.org/yihui/blogdown/&#34;&gt;blogdown: Creating Websites with R Markdown&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;blogdown公式ドキュメント&lt;/li&gt;
&lt;li&gt;でも全然整備されていない…つらい&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gohugo.io/overview/introduction/&#34;&gt;Hugo - Introduction to Hugo&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Hugoの公式ドキュメント&lt;/li&gt;
&lt;li&gt;非常に充実&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Getting Started&lt;/strong&gt;, &lt;strong&gt;Content&lt;/strong&gt;, &lt;strong&gt;Themes&lt;/strong&gt;のところはぜひ読んでください&lt;/li&gt;
&lt;li&gt;いろいろやりたくなったら,&lt;strong&gt;Template&lt;/strong&gt;, &lt;strong&gt;Taxonomies&lt;/strong&gt;, &lt;strong&gt;Extras&lt;/strong&gt;に手を出してください&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;その他わからないところや詰まったところがあったらr-wakalangの#rmarkdownチャンネルなどで質問するといいかも。&lt;/p&gt;

&lt;p&gt;またいろいろTipsみつけたら続編を書くかもしれません。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>この10年。</title>
      <link>https://kazutan.github.io/blog/2017/03/ten-years/</link>
      <pubDate>Fri, 31 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/03/ten-years/</guid>
      <description>&lt;p&gt;本日の業務をもって,現所属10年を終えました。なんとか生き延びました。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;まあこんなタイミングはなかなかないので,せっかくだから振り返りでもしようかなと思った次第です。ただ仕事的なものを含むと面倒なことが多いので,自分がやってきたスキル的なものに絞ってみようかなと。&lt;/p&gt;

&lt;h3 id=&#34;一年目&#34;&gt;一年目&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;HTMLとCSSの基礎をやりなおす&lt;/li&gt;
&lt;li&gt;Word, Excel, PowerPointで困らなくなった&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;情報系の教員として赴任したので,今まで雰囲気でやっていたこのあたりをきっちりとやってました。以降Office製品まわりで自分が作る分にはほぼ困ることはなくなりました。またHTMLやCSSはちょうど移行期だったので,いい感じで勉強できました。&lt;/p&gt;

&lt;h2 id=&#34;二年目-三年目&#34;&gt;二年目,三年目&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;MovableTypeを運用&lt;/li&gt;
&lt;li&gt;レンタルサーバーと独自ドメイン開始&lt;/li&gt;
&lt;li&gt;Bootstrapを使いはじめる&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;業務上必要になったため,MTに手を出すことに。書籍を数冊買って試していくうちにCMSのイメージがなんとなくつかめてきた。ただ自分が(まだ)完全に構築することはなかったけど,デザイン周りでいじらないと行けないことが増えたため,Webデザイン関連の勉強をひたすらやってた。この頃のはてブはWebデザイン周りばっかりだった気がする。その関連でBootstrapを使い始めて,今のサイトを作ったような気がします。&lt;/p&gt;

&lt;p&gt;あと,業務の都合により要件定義だのERPだのワークフローだのマネジメントだの,そういった今まで知らなかったことを勉強せざるを得なくなった。このあたりからなんか色が変わってきた気がする。&lt;/p&gt;

&lt;h2 id=&#34;四年目-五年目&#34;&gt;四年目,五年目&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;WordPressを運用&lt;/li&gt;
&lt;li&gt;情報系資格取得&lt;/li&gt;
&lt;li&gt;データベースの勉強開始&lt;/li&gt;
&lt;li&gt;R関連の情報収集開始&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HiRoshima.R #1に参加&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;この時期はまあ,停滞してました。多分この頃から年間20コマ超えが当たり前になって,もうボロボロで記憶がないです。でもいろんなことに手を伸ばし始めてた時期でした。学生や周りに促されたこともあって,情報系の資格を取得してたのはこの時期な気がします。ITパスポートとか,Office系の資格とか…。あと今まで逃げていたDBまわりにも手を出してきました。&lt;/p&gt;

&lt;p&gt;あと,R関連に関することもこの頃からみたいです。よく誤解されますが,&lt;strong&gt;HiRoshima.R出身&lt;/strong&gt;です。まだこの頃はまともに使えずに手詰まりになることが多かったです。&lt;/p&gt;

&lt;h2 id=&#34;六年目&#34;&gt;六年目&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Ubuntuに出会う&lt;/li&gt;
&lt;li&gt;Rをメインの分析環境へ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;この頃「このままじゃだめだ,なんとか打破したい」と漠然と思うことが多く,絞り込んで自分の資源を配分していた気がします。今ではメインのUbuntuを使い始めたのもこの頃ですね。そのちょっと前からMacも使うようになっていたので,Win, Mac, Ubuntuの3つを並行して使っていくスタイルがこの頃に出来上がったと言えます。&lt;/p&gt;

&lt;p&gt;あとこの時期から腰を据えてRに移行しようとしてました。データハンドリングでものすごく苦労してたのですが,ただSピーSSにはもう戻らないぞと決意した時期でもありました。「Rによるやさしい統計学」を写経してなんとか自分の手に馴染むようにしてたのを覚えてます。&lt;/p&gt;

&lt;h1 id=&#34;七年目&#34;&gt;七年目&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;ほぼUbuntuに移行&lt;/li&gt;
&lt;li&gt;ベイズに出会う&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Rが楽しくなる&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;テキストマイニングをやり始める&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ほぼ今の方針がこの頃に決まってきた印象です。まず春に&lt;a href=&#34;http://psychonomic.jp/forum/2013_1.html&#34;&gt;こちらのフォーラム&lt;/a&gt;に参加し,酸素濃度が低い中okd先生の講演で興奮して終わったあと会場のKO大のベンチで独りブツブツなんか言ってたのを思い出します。これに参加できたのは大きな転機でした。&lt;/p&gt;

&lt;p&gt;あと研究的に必要になりテキストマイニングを勉強し始めました。この分析を実施するためにRへの比重を上げていったのですが,ものすごく楽しかったです。&lt;/p&gt;

&lt;h2 id=&#34;八年目&#34;&gt;八年目&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ベイズ関連で発表など&lt;/li&gt;
&lt;li&gt;テキストマイニングで学会発表など&lt;/li&gt;
&lt;li&gt;全国のR勉強会巡業スタート&lt;/li&gt;
&lt;li&gt;R Markdownに惚れる&lt;/li&gt;
&lt;li&gt;Hijiyama.Rスタート&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ぞうさん通信スタート&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ここに来て一気にRに染まるようになります。なので私の中ではこの頃から使い始めた,としてます。ioslidesで学会発表したりとR Markdownにハマったのはこの頃ですね。またHijiyama.Rを主催したりぞうさん通信をはじめたりと,明らかに積極的になりました。&lt;/p&gt;

&lt;p&gt;この頃から「楽しいことをしよう。それが結局全てだよな」と考えるようになりました。この辺の話はまたどこかで話すかもしれないです。あとひたすらインプットに徹してた気もします。この時期に大量にインプットしたのが後でかなり効いたと思います。&lt;/p&gt;

&lt;h2 id=&#34;九年目&#34;&gt;九年目&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;データベース再履修&lt;/li&gt;
&lt;li&gt;MCMC再履修&lt;/li&gt;
&lt;li&gt;全国R勉強会行脚&lt;/li&gt;
&lt;li&gt;Pandocの勉強&lt;/li&gt;
&lt;li&gt;htmlwidgets系に触れる&lt;/li&gt;
&lt;li&gt;dplyr, tidyrへ移行&lt;/li&gt;
&lt;li&gt;スクレイピング&amp;amp;台風プロット&lt;/li&gt;
&lt;li&gt;仮想環境に手を伸ばす&lt;/li&gt;
&lt;li&gt;Git/GitHubを使いはじめる&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;この頃からスケジュールがあえば全国のR関連イベントに行くようになりました。またhtmlwidgets系の可視化パッケージに触れることで,&lt;strong&gt;完全に自分のためにRをするようになりました&lt;/strong&gt;。データ処理もdplyrやtidyrなどを使うようになり,業務でも使えるところは使うようになりました。&lt;/p&gt;

&lt;p&gt;またPandoc Markdownの仕様を調べたり,昔修めたHTML&amp;amp;CSSを活用しつつ,昔覚えたBootstrapを利用したりと,Web系の知識とが組み合わさって急速に利活用が個人的に進みました。一年目から三年目の頃の知識がここに来て発揮されてくるようになりました。&lt;/p&gt;

&lt;p&gt;さらに,色々と困ることが多くなりRによる分析環境を仮想化してインスタンス化したいと強く思うようになりました。そこでVagrantで環境構築できるようにしたり,いろいろやるようになりました。それに付随し,Git/GitHubも使い始めていくようになりました。&lt;/p&gt;

&lt;h2 id=&#34;十年目&#34;&gt;十年目&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ベイズ推定勉強&lt;/li&gt;
&lt;li&gt;全国R勉強会発表行脚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;今年なのですが,発表件数自体は昨年度と同一ぐらいでいろいろやりました。また細かく書くときりがないので諦めました。全体的には九年目の内容をそれぞれ深化させた感じで進みました。でもこれまでやってきたことが面白い感じでからみ合ってきたなぁという印象です。&lt;/p&gt;

&lt;p&gt;たとえば,blogdownパッケージを実践するに当たり,ベースとなるHugoの知識が必要となるのですが,こういったパターンはすでにR MarkdownのPandoc Markdownの時と同じ流れでしたし,さらにHugoの内容を理解しようとするときにMovableTypeでやってきた内容がかなり効きました。多分他の人からは「全然違うじゃねぇか」と言われるかもしれませんが,本質的というか,私のなかで変換されてうまい具合に理解が促進されたんで…。&lt;/p&gt;

&lt;p&gt;また全てにおいて,バージョン管理およびGitHubでやるようになったのも大きいです。だいぶそのコンセプトとコマンドに慣れてきたので,うまいこと運用できるようになりました。さらに仮想環境に対して勉強してきたおかげで,Dockerでオレオレ環境構築できるようになりました。この根底にはサーバの知識とかも生きてます。&lt;/p&gt;

&lt;h2 id=&#34;振り返ってみて&#34;&gt;振り返ってみて&lt;/h2&gt;

&lt;p&gt;なんだかんだで,Web系の技術・知識がスタートになっている以上はこういう流れになるのかなと思いました。書くほどじゃないかなというスキルを含めても,活かせるような感じで回せてきたんだなぁと。業務上やむなく勉強してきた内容もありますが,それを活かせるようにやってこれた自分とその環境に感謝しています。&lt;/p&gt;

&lt;p&gt;あと,単純な選択と集中じゃダメなんだなと思いました。インプットに徹する時期と,それを元に構築してアウトプットする時期とを周期的に繰り返すのがスムーズなのかも,と。個人的にはアウトプットモードに移行しているので楽しさが多少減衰してますが,小刻みなものでインプットで楽しさを補充していきたいです。&lt;/p&gt;

&lt;h2 id=&#34;これからの10年に向けて&#34;&gt;これからの10年に向けて&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;生き延びる&lt;/strong&gt;。あと,&lt;strong&gt;楽しいことをやっていく&lt;/strong&gt;。それだけです。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>R Markdownのhtml出力にスライドを埋め込む方法</title>
      <link>https://kazutan.github.io/blog/2017/03/embed-slide-into-rmd/</link>
      <pubDate>Thu, 30 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/03/embed-slide-into-rmd/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a&gt;やりたかったこと&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;成果&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;解説&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#slideshare&#34;&gt;slideshareについて&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#speakerdeck&#34;&gt;SpeakerDeckについて&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#html&#34;&gt;その他のHTMLスライドについて&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;実際の関数のコードについて&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#todo&#34;&gt;ToDo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;タイトルのまんまです。&lt;/p&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;やりたかったこと&lt;/h2&gt;
&lt;p&gt;R Markdownで解説ページをしていると，slideshareやspeakerdeck，あるいはrevealjsなどで作成したhtmlスライドを埋め込みたいと思うことが頻出しました。大抵のslide公開サービスだと埋め込み用のタグを生成してくれたりするのですが，どうも面倒に感じたため，色々調べたり実装したりしてみました。&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;成果&lt;/h2&gt;
&lt;p&gt;自分専用にコツコツ作ってきた&lt;a href=&#34;https://github.com/kazutan/zousan&#34;&gt;zousan&lt;/a&gt;パッケージに，&lt;code&gt;embed_slide()&lt;/code&gt;関数を準備しました。cranにはないので以下のようにインストールします:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# devtoolsの場合
devtools::install_github(&amp;quot;kazutan/zousan&amp;quot;)
# githubinstallでもOK
githubinstall::githubinstall(&amp;quot;zousan&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;以下のように&lt;strong&gt;閲覧用のurl&lt;/strong&gt;を渡すと，html出力した際に自動で埋め込まれます:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(zousan)
embed_slide(&amp;quot;http://www.slideshare.net/makotohirakawa3/osakastan2-chap51&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;iframe src=&#34;https://www.slideshare.net/slideshow/embed_code/key/aCQxCPihKjMxYk&#34; width=&#34;427&#34; height=&#34;356&#34; frameborder=&#34;0&#34; marginwidth=&#34;0&#34; marginheight=&#34;0&#34; scrolling=&#34;no&#34; style=&#34;border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;&#34; allowfullscreen&gt; &lt;/iframe&gt; &lt;div style=&#34;margin-bottom:5px&#34;&gt; &lt;strong&gt; &lt;a href=&#34;https://www.slideshare.net/makotohirakawa3/osakastan2-chap51&#34; title=&#34;Osaka.stan#2 chap5-1&#34; target=&#34;_blank&#34;&gt;Osaka.stan#2 chap5-1&lt;/a&gt; &lt;/strong&gt; from &lt;strong&gt;&lt;a target=&#34;_blank&#34; href=&#34;https://www.slideshare.net/makotohirakawa3&#34;&gt;Makoto Hirakawa&lt;/a&gt;&lt;/strong&gt; &lt;/div&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;embed_slide(&amp;quot;https://speakerdeck.com/yamano357/tokyor49-stringr-stringi&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;iframe allowfullscreen=&#34;true&#34; allowtransparency=&#34;true&#34; frameborder=&#34;0&#34; height=&#34;596&#34; id=&#34;talk_frame_306451&#34; mozallowfullscreen=&#34;true&#34; src=&#34;https://speakerdeck.com/player/df3979c0ad814170904106053f7073be&#34; style=&#34;border:0; padding:0; margin:0; background:transparent;&#34; webkitallowfullscreen=&#34;true&#34; width=&#34;710&#34;&gt;&lt;/iframe&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;embed_slide(&amp;quot;https://kazutan.github.io/methoken201702/Rmd_workshop.html#/&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;iframe src=&#34;https://kazutan.github.io/methoken201702/Rmd_workshop.html#/&#34; width=&#34;672&#34; height=&#34;400px&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;解説&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;knitr::include_url()&lt;/code&gt;という関数があり，この関数にurlを渡すとそのアドレスをiframeでいい感じで埋め込むように加工してtagオブジェクトを返してくるようになってます。これを応用しました。&lt;/p&gt;
&lt;div id=&#34;slideshare&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;slideshareについて&lt;/h3&gt;
&lt;p&gt;slideshareの埋め込み用コードはわりと簡単な構造をしていて，上記のひとつ目の分なら以下のようにできます:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;knitr::include_url(&amp;quot;https://www.slideshare.net/slideshow/embed_code/key/aCQxCPihKjMxYk&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;iframe src=&#34;https://www.slideshare.net/slideshow/embed_code/key/aCQxCPihKjMxYk&#34; width=&#34;672&#34; height=&#34;400px&#34;&gt;
&lt;/iframe&gt;
&lt;p&gt;ただ，実際にこれをやろうと思うと,&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;公開スライドのページヘアクセス&lt;/li&gt;
&lt;li&gt;埋め込み用のアドレスを表示&lt;/li&gt;
&lt;li&gt;それをコピー&lt;/li&gt;
&lt;li&gt;&lt;code&gt;knitr::include_url()&lt;/code&gt;内に入れる&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;…となりちょっと面倒です。特に埋め込み用のurlがkeyになっててスライドタイトルが推測できなくなる，というのが苦痛でした。そこで&lt;strong&gt;oEmbed&lt;/strong&gt;のAPIを利用することにしました。これの内容については以下の記事を参照してください:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://syncer.jp/oembed-api-matome&#34;&gt;oEmbed APIの使い方まとめ！URLから埋め込みHTMLタグを作ろう！&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;slideshareはこのoEmbedに対応しています。詳しくは以下のドキュメントを参照してください:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.slideshare.net/developers/oembed&#34;&gt;OEmbed Documentation - SlideShare&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;これを利用して実装しました。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;speakerdeck&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;SpeakerDeckについて&lt;/h3&gt;
&lt;p&gt;SpeakerDeckの埋め込み用URLは中々に面倒で，はじめからoEmbedのAPIを利用しました:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://speakerdeck.com/faq#oembed&#34; class=&#34;uri&#34;&gt;https://speakerdeck.com/faq#oembed&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ただ，これで取得したとしても中々うまく出力してくれず，試行錯誤してなんとか実装しました。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;html&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;その他のHTMLスライドについて&lt;/h3&gt;
&lt;p&gt;revealjsなどのスライドはhtmlファイルなので，普通に&lt;code&gt;knitr::include_url()&lt;/code&gt;でそのまま引き渡しました&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;実際の関数のコードについて&lt;/h3&gt;
&lt;p&gt;具体的なコードはGitHubの該当ファイルを参照してしてください:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/kazutan/zousan/blob/master/R/embed_iframe.R#L24&#34; class=&#34;uri&#34;&gt;https://github.com/kazutan/zousan/blob/master/R/embed_iframe.R#L24&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;urlを見て，slideshareのサイトならそれ用に，SpeakerDeckのサイトならそれ用にoEmbedを利用して整形してtagオブジェクトとなるようにしています。パイプ演算子つかってたりその他かなり雑ですが，今のところうまくいっているのでいいかなと。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;todo&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;ToDo&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;埋め込みのサイズ調整&lt;/li&gt;
&lt;li&gt;他のプラットフォームへの対応(リクエストと技術的にいけるなら)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>R MarkdownでWebサイト作成</title>
      <link>https://kazutan.github.io/blog/2017/03/rmd-de-website/</link>
      <pubDate>Mon, 27 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/03/rmd-de-website/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;2017/03/25に&lt;a href=&#34;https://fukuoka-r.connpass.com/event/50986/&#34;&gt;fukuoka.R #7&lt;/a&gt;にて発表してきました。&lt;/p&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;資料置き場&lt;/h2&gt;
&lt;p&gt;GitHubに当日使った資料などを置いています:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kazutan/RmdSite_tuto&#34; class=&#34;uri&#34;&gt;https://github.com/kazutan/RmdSite_tuto&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;コメント&lt;/h2&gt;
&lt;div id=&#34;r-markdownweb&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;R MarkdownでWebサイトを構築する理由&lt;/h3&gt;
&lt;p&gt;まあ色々ありますが，当日口頭でしか伝えてなかったので補足しますと…&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Rを含むコードと実行結果をそのまま組み込んで公開できる&lt;/li&gt;
&lt;li&gt;静的なサイトなので公開がスムーズ&lt;/li&gt;
&lt;li&gt;CMSばりのことができる&lt;/li&gt;
&lt;li&gt;htmlをRで生成できる(プログラマブル)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;などです。すべてオープンソースでかなりのことができる，というのは大きいでしょう。&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;必要な技術・知識について&lt;/h3&gt;
&lt;p&gt;実のところ，R Markdownの知識や技術が一通り必要です。私が考えるR Markdownのスキルマップでは最後の方に位置づけています。こう言うと「やべぇめっちゃむずかしいんじゃねぇの手を出すのやめようか…」と思われそうですが，「Bootstrap組み込んでjQuery使えるようにしてページを部品化してプロジェクトとして管理して運用する」というのを実現しようとするなら，HTML, CSS, JavaScriptなどの相当な知識と技能が求められます。これらを習得しようとするよりも，はるかに簡単に到達することができるでしょう。&lt;/p&gt;
&lt;p&gt;必須になる技術・知識は以下のような感じです:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;R Markdownの記述方法
&lt;ul&gt;
&lt;li&gt;yamlフロントマターの基礎&lt;/li&gt;
&lt;li&gt;chunkオプションの基礎&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;navbarの記述方法&lt;/li&gt;
&lt;li&gt;公開するWebサーバーへの設置方法&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;さらに以下の技術・知識があると便利になるでしょう:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cssの記述方法&lt;/li&gt;
&lt;li&gt;pandocの仕様&lt;/li&gt;
&lt;li&gt;JavaScript(jQuery)の知識&lt;/li&gt;
&lt;li&gt;htmltoolsパッケージ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;だいたいこんな感じです。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;参考資料など&lt;/h2&gt;
&lt;p&gt;基本的には，公式ドキュメントを参照してください:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://rmarkdown.rstudio.com/rmarkdown_websites.html&#34; class=&#34;uri&#34;&gt;http://rmarkdown.rstudio.com/rmarkdown_websites.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;あとは私の上記GitHubのREADMEなどで紹介している記事を適宜参照してください。もしわからないところがありましたら，&lt;span class=&#34;citation&#34;&gt;[@kazutan]&lt;/span&gt;(&lt;a href=&#34;https://twitter.com/kazutan)へメンションやDM,あるいはr-wakalangに質問を投下してください&#34; class=&#34;uri&#34;&gt;https://twitter.com/kazutan)へメンションやDM,あるいはr-wakalangに質問を投下してください&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>R Markdownでの諸々のテスト</title>
      <link>https://kazutan.github.io/blog/2017/03/rmd-test/</link>
      <pubDate>Wed, 22 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/03/rmd-test/</guid>
      <description>&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/jquery/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leaflet/leaflet.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leaflet/leaflet.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leafletfix/leafletfix.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leaflet-label/leaflet.label.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leaflet-label/leaflet.label.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leaflet-binding/leaflet.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/viz/viz.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/DiagrammeR-styles/styles.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/grViz-binding/grViz.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/plotlyjs/plotly-htmlwidgets.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/plotlyjs/plotly-latest.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/plotly-binding/plotly.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/crosstalk/css/crosstalk.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/crosstalk/js/crosstalk.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/typedarray/typedarray.min.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a&gt;コードと出力について&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#plot&#34;&gt;plotについて&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#htmlwidgets&#34;&gt;htmlwidgets系のテスト&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#leaflet&#34;&gt;leaflet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#diagrammer&#34;&gt;DiagrammeR&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#plotly&#34;&gt;Plotly&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;ちょっとRの出力を色々試してみたいと思います。&lt;/p&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;コードと出力について&lt;/h2&gt;
&lt;p&gt;collapseで表(data.frame)をそのまま出力。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- iris %&amp;gt;% 
  select(starts_with(&amp;quot;S&amp;quot;)) %&amp;gt;% 
  group_by(Species) %&amp;gt;% 
  head()
x
#&amp;gt;  Source: local data frame [6 x 3]
#&amp;gt;  Groups: Species [1]
#&amp;gt;  
#&amp;gt;    Sepal.Length Sepal.Width Species
#&amp;gt;           &amp;lt;dbl&amp;gt;       &amp;lt;dbl&amp;gt;  &amp;lt;fctr&amp;gt;
#&amp;gt;  1          5.1         3.5  setosa
#&amp;gt;  2          4.9         3.0  setosa
#&amp;gt;  3          4.7         3.2  setosa
#&amp;gt;  4          4.6         3.1  setosa
#&amp;gt;  5          5.0         3.6  setosa
#&amp;gt;  6          5.4         3.9  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;knitr::kable()を利用して表を出力。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;knitr::kable(x)&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;right&#34;&gt;Sepal.Length&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Sepal.Width&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Species&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;5.1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4.9&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4.7&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4.6&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;5.0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.6&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;5.4&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.9&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;plot&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;plotについて&lt;/h2&gt;
&lt;p&gt;簡単なものでテスト。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://kazutan.github.io/blog/post/2017-03-22-rmd-test_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;htmlwidgets&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;htmlwidgets系のテスト&lt;/h2&gt;
&lt;p&gt;やってみる。&lt;/p&gt;
&lt;div id=&#34;leaflet&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;leaflet&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(leaflet)
leaflet() %&amp;gt;% 
  addTiles() %&amp;gt;% 
  addMarkers(lng = 135.0000, lat = 35.0000)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-82d34085ea1a2fe5b3cd&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;leaflet html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-82d34085ea1a2fe5b3cd&#34;&gt;{&#34;x&#34;:{&#34;options&#34;:{&#34;crs&#34;:{&#34;crsClass&#34;:&#34;L.CRS.EPSG3857&#34;,&#34;code&#34;:null,&#34;proj4def&#34;:null,&#34;projectedBounds&#34;:null,&#34;options&#34;:{}}},&#34;calls&#34;:[{&#34;method&#34;:&#34;addTiles&#34;,&#34;args&#34;:[&#34;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#34;,null,null,{&#34;minZoom&#34;:0,&#34;maxZoom&#34;:18,&#34;maxNativeZoom&#34;:null,&#34;tileSize&#34;:256,&#34;subdomains&#34;:&#34;abc&#34;,&#34;errorTileUrl&#34;:&#34;&#34;,&#34;tms&#34;:false,&#34;continuousWorld&#34;:false,&#34;noWrap&#34;:false,&#34;zoomOffset&#34;:0,&#34;zoomReverse&#34;:false,&#34;opacity&#34;:1,&#34;zIndex&#34;:null,&#34;unloadInvisibleTiles&#34;:null,&#34;updateWhenIdle&#34;:null,&#34;detectRetina&#34;:false,&#34;reuseTiles&#34;:false,&#34;attribution&#34;:&#34;&amp;copy; &lt;a href=\&#34;http://openstreetmap.org\&#34;&gt;OpenStreetMap&lt;\/a&gt; contributors, &lt;a href=\&#34;http://creativecommons.org/licenses/by-sa/2.0/\&#34;&gt;CC-BY-SA&lt;\/a&gt;&#34;}]},{&#34;method&#34;:&#34;addMarkers&#34;,&#34;args&#34;:[35,135,null,null,null,{&#34;clickable&#34;:true,&#34;draggable&#34;:false,&#34;keyboard&#34;:true,&#34;title&#34;:&#34;&#34;,&#34;alt&#34;:&#34;&#34;,&#34;zIndexOffset&#34;:0,&#34;opacity&#34;:1,&#34;riseOnHover&#34;:false,&#34;riseOffset&#34;:250},null,null,null,null,null,null,null]}],&#34;limits&#34;:{&#34;lat&#34;:[35,35],&#34;lng&#34;:[135,135]}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;diagrammer&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;DiagrammeR&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;http://rich-iannone.github.io/DiagrammeR/graphviz_and_mermaid.html#examples&#34;&gt;公式ドキュメント&lt;/a&gt;にあるサンプルから。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(DiagrammeR)
grViz(&amp;quot;
digraph a_nice_graph {

# node definitions with substituted label text
node [fontname = Helvetica]
a [label = &amp;#39;@@1&amp;#39;]
b [label = &amp;#39;@@2-1&amp;#39;]
c [label = &amp;#39;@@2-2&amp;#39;]
d [label = &amp;#39;@@2-3&amp;#39;]
e [label = &amp;#39;@@2-4&amp;#39;]
f [label = &amp;#39;@@2-5&amp;#39;]
g [label = &amp;#39;@@2-6&amp;#39;]
h [label = &amp;#39;@@2-7&amp;#39;]
i [label = &amp;#39;@@2-8&amp;#39;]
j [label = &amp;#39;@@2-9&amp;#39;]

# edge definitions with the node IDs
a -&amp;gt; {b c d e f g h i j}
}

[1]: &amp;#39;top&amp;#39;
[2]: 10:20
&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-265d72f3efbbcbf4d0c0&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;grViz html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-265d72f3efbbcbf4d0c0&#34;&gt;{&#34;x&#34;:{&#34;diagram&#34;:&#34;\ndigraph a_nice_graph {\n\n# node definitions with substituted label text\nnode [fontname = Helvetica]\na [label = \&#34;top\&#34;]\nb [label = \&#34;10\&#34;]\nc [label = \&#34;11\&#34;]\nd [label = \&#34;12\&#34;]\ne [label = \&#34;13\&#34;]\nf [label = \&#34;14\&#34;]\ng [label = \&#34;15\&#34;]\nh [label = \&#34;16\&#34;]\ni [label = \&#34;17\&#34;]\nj [label = \&#34;18\&#34;]\n\n# edge definitions with the node IDs\na -&gt; {b c d e f g h i j}\n}&#34;,&#34;config&#34;:{&#34;engine&#34;:&#34;dot&#34;,&#34;options&#34;:null}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;plotly&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Plotly&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://plot.ly/r/box-plots/&#34;&gt;公式サイトにある例&lt;/a&gt;から一部修正して。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(plotly)
#&amp;gt;  
#&amp;gt;   次のパッケージを付け加えます: &amp;#39;plotly&amp;#39;
#&amp;gt;   以下のオブジェクトは &amp;#39;package:ggplot2&amp;#39; からマスクされています: 
#&amp;gt;  
#&amp;gt;       last_plot
#&amp;gt;   以下のオブジェクトは &amp;#39;package:stats&amp;#39; からマスクされています: 
#&amp;gt;  
#&amp;gt;       filter
#&amp;gt;   以下のオブジェクトは &amp;#39;package:graphics&amp;#39; からマスクされています: 
#&amp;gt;  
#&amp;gt;       layout
p &amp;lt;- ggplot2::diamonds[sample(nrow(diamonds), 5000),] %&amp;gt;% 
  plot_ly(y = ~price, color = ~cut, type = &amp;quot;box&amp;quot;)
p&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-4ff081ab9ee04d4274ed&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-4ff081ab9ee04d4274ed&#34;&gt;{&#34;x&#34;:{&#34;visdat&#34;:{&#34;2fdbfe9384a&#34;:[&#34;function () &#34;,&#34;plotlyVisDat&#34;]},&#34;cur_data&#34;:&#34;2fdbfe9384a&#34;,&#34;attrs&#34;:{&#34;2fdbfe9384a&#34;:{&#34;y&#34;:{},&#34;color&#34;:{},&#34;alpha&#34;:1,&#34;sizes&#34;:[10,100],&#34;type&#34;:&#34;box&#34;}},&#34;layout&#34;:{&#34;margin&#34;:{&#34;b&#34;:40,&#34;l&#34;:60,&#34;t&#34;:25,&#34;r&#34;:10},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;title&#34;:&#34;price&#34;},&#34;xaxis&#34;:{&#34;domain&#34;:[0,1]},&#34;dragmode&#34;:&#34;zoom&#34;,&#34;showlegend&#34;:true},&#34;source&#34;:&#34;A&#34;,&#34;config&#34;:{&#34;modeBarButtonsToAdd&#34;:[{&#34;name&#34;:&#34;Collaborate&#34;,&#34;icon&#34;:{&#34;width&#34;:1000,&#34;ascent&#34;:500,&#34;descent&#34;:-50,&#34;path&#34;:&#34;M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z&#34;},&#34;click&#34;:&#34;function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == &#39;?viewer_pane=1&#39;) {\n          alert(&#39;To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html&#39;);\n        } else {\n          window.open(&#39;https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html&#39;, &#39;_blank&#39;);\n        }\n      }&#34;}],&#34;modeBarButtonsToRemove&#34;:[&#34;sendDataToCloud&#34;]},&#34;data&#34;:[{&#34;y&#34;:[17986,660,540,536,995,4341,12295,1080,2386,17825,928,1836,6509,4639,422,2004,2909,949,3103,1452,972,988,11633,838,958,5128,2290,1408,618,1061,844,1114,3601,12713,477,11584,912,3111,2918,767,4750,2013,1402,1449,5646,12698,579,1174,850,3399,10615,708,10786,3310,1453,1576,3030,1186,3672,11688,2891,673,779,648,475,658,596,926,805,11559,9530,770,658,2224,1046,503,2947,972,941,2583,1395,1163,10412,5795,1842,2575,5125,2718,836,4808,707,708,1754,789,1008,622,1061,1760,4350,3181,11435,824,2346,11163,2737,523,8299,12618,718,3997,665,1357,786,660,645,2083,3201,1103,407,760,3075,7990,1163,397,628,2501,1601,7845,1695,8736,810,719,943,1802,1769,7099,926,919,1560,9233,2492,2262,498,18440,4698,391,1187,805,1787,3064,14283,1243,1783,9704,1807,1389,589,854,449,1020,2093,2563,1372,1367,18172,9413,4974,1646,3321,8275,1013,4281,5973,663,2319,9448,1690,1922,702,4405,702,1768,5885,648,1790,1020,4751,6837,1068,552,489,8870,2434,2878,5408,532,802,3075,17114,1668,1080,764,1591,591,544,805,2122,603,930,2066,628,8486,5050,853,1625,581,11015,1126,1556,866,8238,2327,702,715,1580,12193,2669,2680,10313,673,1197,746,561,11228,15246,645,6338,463,1008,777,2558,16960,1270,1151,784,4089,892,5535,6984,487,1106,979,9261,5387,767,12736,12810,3997,10869,6017,3612,854,755,706,3455,448,3826,5650,612,984,914,14957,1789,829,8221,7217,6632,1389,2801,3412,5586,3033,3201,766,801,864,3165,1059,1034,665,1087,5551,705,706,788,1834,630,631,808,6048,1040,3099,945,4172,1576,579,1258,4832,758,12316,7477,1113,802,815,1784,688,1063,1107,11333,1827,1793,16316,895,1721,865,2283,802,17051,16769,8075,3540,832,515,408,828,1326,1865,666,477,1991,5751,6755,844,449,1084,613,1763,13485,529,2998,438,9540,7562,696,702,6112,586,746,1238,3097,1991,874,5937,3900,1665,1173,6387,5922,709,436,1115,1859,883,18729,1549,753,8212,4764,1377,5082,3273,12506,1110,3856,1385,1360,666,918,1881,5096,1061,675,14039,1235,952,678,962,1084,974,10633,7869,1754,743,816,2995,865,5547,1059,1822,579,4749,2487,17747,579,789,11525,702,6701,1422,3154,1074,457,538,5220,9709,1770,1098,4334,828,900,4795,1002,1441,826,1698,1708,650,645,6069,733,3648,1969,6004,2107,5044,1712,1359,1659,689,3121,10556,16319,896,1235,2259,4773,1166,731,918,776,15288,2683,3832,1104,666,2090,2024,2030,8645,531,828,2377,2129,3380,5221,4745,9404,1669,459,2633,5396,874,1427,8873,1160,733,6488,1822,1180,803,420,5367,2947,7440,645,9650,645,5229,885,749,3467,1170,2362,545,4619,7955,1280,618,2551,11649,1381,3529,9176,4144,4743,734,3464,15887,10639,2394,12707,654,1431,823,854,2573,7325,2753,3179,7276,2197,1177,1836,720,3309,723,2225,5926,851,2323,10061,942,8645,983,827,1626,730,5063,1131,2594,4821,1715,1781,1245,2234,5779,1346,596,2340,1063,974,4956,14167,5810,2033,827,1246,8112,9817,6518,1728,805,7177,9669,514,1056,506,684,8203,6401,1017,914,1192,12332,1130,1610,2334,6286,11654,3179,2682,1656,854,10051,900,775,1427,574,17182,1668,4743,15275,682,535,1322,609,1007,1779,556,7079,8701,8358,1998,9761,5743,6406,2416,6239,6685,1985,11302,8736,4347,4516,3259,561,1417,2193,955,452,956,16589,810,4280,2590,1725,5697,1890,984,3576,12743,4226,7900,1162,2751,4231,1728,838,906,7792,2671,1053,5834,2326,3007,4092,1823,648,1067,14775,1255,665,13917,838,6013,630,17710,910,1103,1613,828,1027,3880,2353,391,12273,2079,482,749,1035,7917,9295,810,3146,1550,718,5756,838,648,2154,1008,913,18535,13588,907,619,1665,665,983,4007,413,7349,2717,5006,4398,4378,964,610,1442,3844,3478,736,906,535,612,2501,3985,4997,828,10153,1069,851,3721,2407,605,6416,4120,838,422,1724,924,1094,3648,9926,4871,9005,929,1007,17892,1292,1007,828,1580,3169,837,947,4798,660,1607,568,879,523,1200,1140,5600,955,879,5253,6666,4065,1985,866,4875,2745,524,3884,1080,540,5469,11522,707,1235,685,815,829,8348,6858,918,928,5197,10976,13398,3053,942,4869,839,6982,1595,927,1292,3304,1874,5031,2553,6661,788,2005,557,8011,5804,952,6290,956,1214,953,1884,7465,665,1593,2442,1828,15942,3283,5231,8100,1612,3601,789,4001,1732,16754,863,6190,720,730,5543,452,3772,9214,8951,453,1010,6962,1569,956,709,12206,2118,2756,4623,3306,773,14838,3533,2475,4327,1389,403,7783,452,895,1709,2099,1059,1683,489,4808,2139,891,5778,918,1134,586,844,430,764,864,781,702,918,1580,5564,6112,1400,2760,7284,684,11405,5234,2452,942,558,452,738,15031,808,1654,716,1024,5520,917,1692,6291,663,11525,7695,886,928,710,5683,12375,1956,5018,2818,837,3775,1264,8431,5793,742,1574,7072,9526,2165,13257,11262,663,535,4443,722,765,2804,921,1813,417,3440,906,1044,3041,1007,2129,2741,9323,765,1774,1966,978,1359,1667,6715,6569,3867,599,2680,2842,2902,1115,814,2867,765,5352,15688,720,2817,673,12150,3002,3125,3307,816,857,5019,11470,749,2100,7120,5306,645,738,1140,1330,694,1625,2110,5861,1020,15857,515,1781,4276,1035,516,4017,2039,1240,1255,1608,5125,972,3710,2894,776,3936,7014,4182,1213,2125,603,9070,995,1619,1367,10920,2224,902,1727,828,16688,854,828,10368,1028,7294,1290,1130,4099,727,668,2831,586,367,1607,802,3694,1071,600,2443,994,2694,1205,1668,2041,2824,1287,605,765,516,10357,7451,842,631,1185,680,657,4087,2733,523,2394,539,1844,778,700,544,2886,1192,1949,8030,10243,837,6728,1059,6320,394,6469,997,1559,955,490,1822,834,2685,1295,854,5388,1837,6720,15475,1114,1040,850,18324,5539,917,504,666,8552,7357,10852,6796,961,477,1882,7916,1676,422,884,454,1919,972,1857,765,764,886,1963,14083,4234,456,663,10438,826,709,642,556,5880,4336,4174,2903,1433,1255,1781,10053,1031,5000,7761,556,1168,7937,982,1754,1449,2421,5751,900,17820,12778,504,1716,748,5461,1210,6239,1393,1267,3053,749,449,1033,507,5281,766,1911,2147,828,788,1715,3137,4829,4082,717,747,5880,1169,1764,4489,3462,11730,18693,2741,3522,1020,596,7946,675,941,7742,1097,3799,901,675,9176,3263,7134,14429,2197,8481,2373,672,3198,2674,3036,3759,5147,1438,5188,2456,1929,5767,5436,10919,9996,3345,1389,2373,1308,17569,624,3306,1247,1240,5982,5412,12392,1747,596,568,671,1767,2321,734,1263,981,725,864,1211,2445,13250,2033,7592,1238,562,1088,1699,2869,1158,953,1728,942,834,2421,495,436,844,799,2609,1412,493,8776,3397,758,972,781,619,5358,5649,2027,3399,1679,1421,1974,8896,1439,1107,848,16131,1956,7256,1044,1087,816,1073,4372,5195,1083,1624,7439,723,1125,2066,750,673,3647,18179,625,765,2846,731,6108,1787,936,2309,1013,689,2702,2123,11047,3442,2405,6398,2398,1018,1927,716,6044,1812,1759,11221,641,672,10589,852,3922,833,3805,14294,1874,2528,8639,1064,2493,601,1809,5221,6321,8733,3068,990,432,1622,8465,1783,4382,1120,4509,633,818,666,1790,1306,4157,475,2355,8061,3688,821,3625,1884,4368,975,1335,834,576,1593,2487,733,9972,768,628,6471,877,507,7513,810,709,1240,4954,10093,656,1014,1661,872,5037,3601,5761,1955,2690,5311,8701,5030,1899,1892,669,5631,750,14519,886,7678,983,844,734,8707,881,791,776,2325,2184,427,1235,1026,780,666,747,814,2175,8887,880,4053,833,807,7752,1340,10602,4297,911,7103,605,4095,751,10959,3701,781,2276,758,4804,8415,870,1851,4101,3724,5029,10016,1061,2058,1014,1219,4384,868,832,2462,1220,1901,1031,2508,3941,2677,696,3204,9494,5149,789,648,1897,1649,819,3471,500,710,1648,589,1055,3234,10482,1450,15968,9331,1893,3702,990,3444,848,6776,687,1079,765,926,789,1080,1655,470,956,720,3064,5932,9519,760,2561,1044,787,2879,974,1359,6709,1367,648,925,1846,10732,1031,2890,5145,1919,658,911,2925,1008,1046,6260,4830,491,1350,918,5763,407,3303,787,1801,743,3424,5266,459,2682,960,1243,422,1161,4099,5914,914,1057,1207,4070,1073,948,3763,1264,2251,1849,6235,5232,842,612,923,2052,4879,2459,2867,1125,539,723,1623,550,1669,1608,2707,1150,2757,665,945,1015,16955,9901,10646,633,5331,2778,765,556,907,1115,890,1993,5141,5489,561,13196,1787,7286,4313,1316,459,12731,6939,11148,2382,718,1208,3422,1155,1698,3489,877,4880,2607,7693,5175,854,767,1400,802,9901,11011,2242,1949,7988,1076,4011,1554,4537,8063,816,1766,2104,7881,9781,898,855,803,552,890,2422,802,4482,1854,2676,11226,12170,1115,702,1813,1708,744,1095,1754,5690,1580,3089,4900,5004,725,16599,790,5889,18299,639,1158,5303,2385,2591,1327,7175,545,491,2222,1117,7078,1599,1941,1273,14982,1126,1003,8523,2074,906,1678,6830,4025,1053,8742,10560,4939,607,833,803,1662,12225,3283,3219,1308,1883,1569,487,828,2892,1138,11199,1200,2245,3248,506,766,5694,8864,3388,438,2279,14321,12897,764,2096,11403,912,1117,911,3794,689,15606,1698,4814,7299,803,765,1433,2650,6363,11255,17123,2896,828,5373,4798,5232,3080,1332,3404,1230,1031,1752,3326,805,799,840,907,4196,982,1408,816,1023,743,1441,827,942,10222,2230,665,3152,863,1818,1441,5392,502,2438,580,4369,4317,14618,800,849,1221,2012,1323,692,1397,2671,4764,11302,10219,2998,5504,1412,1080,2663,923,12447,7066,1759,3759,5816,572,3146,702,1013,9281,3343,6504,1624,2564,667,1400,675,685,3016,698,651,771,490,3336,1353,2529,872,5155,5020,8920,2835,698,2230,8796,871,802,565,7634,2203,628,990,3886,1557,16274,936,1076,6449,3517,5108,15729,8217,2093,2361,961,2650,1725,2270,2601,816,768,1791,4229,1170,1031,863,683,449,2974,6972,4579,2232,7385,7773,906,1789,2177,680,766,2923,1103,1019,8620,4778,846,2107,886,1033,6698,4157,1013,2295,8256,1065,12261,814,1061,854,828,2901,1607,764,541,1572,1781,943,814,776,1353,1345,17590,1120,1341,1125,1418,1840,14421,1721,2489,1277,1847,843,3665,645,4559,987,7392,4458,1151,3013,1142,863,794,6773,2308,2835,6579,9352,1079,1911,918,2287,776,4508,811,5826,1050,566,2378,7762,9014,957,4428,2924,765,1273,2690,10847,929,1628,1295,596,999,412,530,1035,447,1026,4350,2480,645,891,6340,4314,6573,786,1872,4811,900,13334,984,4079,1223,595,1600,1319,3245,1888,625,9565,988,799,11040,17949,6597,2821,1370,4899,8590,1998,15992,464,18344,16704,2654,5556,802,2914,918,5306,645,17838,1864,2742,5003,2535,872,658,8344,1607,1020,829],&#34;type&#34;:&#34;box&#34;,&#34;name&#34;:&#34;Ideal&#34;,&#34;line&#34;:{&#34;fillcolor&#34;:&#34;rgba(253,231,37,0.5)&#34;,&#34;color&#34;:&#34;rgba(253,231,37,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;y&#34;:[1608,3861,506,8316,1351,518,6668,827,12681,540,2514,2386,2580,15522,4242,13298,1016,1846,2394,743,12794,709,833,579,1443,5914,1123,3823,3749,9383,15520,1987,1447,3898,4158,709,982,3965,4372,3192,8120,10437,10065,477,4707,7812,14214,3625,3808,573,876,2013,681,1134,4200,776,746,6150,982,3752,17358,2519,421,12196,4751,8133,956,1910,1247,5864,1294,7486,784,4654,7864,4230,2475,10098,15278,2447,5316,2873,537,8139,2016,1087,2147,5202,3556,1010,12308,933,6383,1882,7827,895,4238,5740,2278,1781,523,720,4955,544,10115,956,4234,500,2766,961,7813,15996,1931,12787,3966,898,1333,3879,945,844,2948,631,1881,5506,675,596,1940,1815,4155,3175,473,990,5433,1113,3556,10012,5191,1345,2316,2578,3808,561,775,13474,15223,2019,16544,1219,14904,5000,9354,1828,8265,5398,1061,561,14662,608,4488,1746,2211,17045,4134,1593,3749,3853,473,1577,2724,11437,5000,11268,4480,1764,941,5643,689,4200,919,734,18318,3547,1257,1664,594,2235,7283,2975,9188,15818,3312,5791,11519,4158,2832,4989,2913,5139,544,3546,4639,4853,11565,1605,10570,9476,2972,5858,4234,3774,608,3234,4483,4488,4318,8954,5105,1597,14372,4815,1163,2900,1406,894,3447,1727,1815,3804,1847,3801,2863,4603,4061,1920,9078,1993,3346,1122,2608,860,1420,14319,608,14364,1076,6689,1838,4737,6856,1715,4598,7213,13460,4277,4702,7056,945,789,4916,1048,3720,500,4168,954,698,17892,2096,12492,743,12722,7358,1226,1016,700,961,12738,907,4805,14918,11206,1819,3101,826,3175,879,16112,1812,1061,13194,4101,985,5664,1013,1295,8848,1716,673,3856,683,1980,492,3568,1552,1063,6021,702,2381,523,2920,608,3391,3768,827,720,1935,492,5686,554,6108,16628,9761,1687,709,1654,9645,1028,6033,906,3999,8676,1020,3346,4892,5759,1662,8015,4793,6137,734,14024,6602,4548,16472,612,6048,707,2415,2176,13543,16934,3392,13606,8816,9050,1196,6445,8852,1076,6653,11853,900,7911,574,4788,1630,421,1264,996,3923,14105,2387,2553,593,11231,5544,1124,1011,965,8456,743,3480,7644,3599,876,4704,15394,18188,730,6535,1107,3810,7466,18371,802,605,1046,3387,4903,2867,4513,720,743,6499,8120,2770,15291,7766,5203,5027,11888,1369,698,789,716,459,6169,3198,1041,4321,13203,4284,9916,7319,605,1819,719,12738,1080,603,833,746,7989,720,757,4242,7665,1827,1196,2700,3656,919,648,4150,5773,734,15987,605,4725,1786,574,16506,770,11481,10869,1248,3428,10910,7076,1004,580,5312,1428,5864,716,3769,6296,15035,612,583,12823,5793,4892,403,2321,5376,6001,596,7931,752,5645,729,4320,1040,969,574,851,5206,1348,5845,776,1399,5405,4510,5979,7074,5250,4462,1746,12880,854,1080,5640,14790,551,5156,1192,5593,5382,1372,653,898,5546,625,2227,5671,901,7420,4641,911,2232,942,4839,3237,776,9261,772,9116,18139,3553,854,891,4622,828,3936,2148,11781,1657,1159,4552,5654,600,2415,4798,1662,936,953,1555,8835,2470,2331,4416,829,698,1291,2975,12787,3013,6963,5818,1624,1035,650,5510,756,1088,872,608,18710,1846,11248,7079,14410,1008,462,666,1709,2349,11322,6217,743,6416,5766,1142,10558,1739,5908,5695,725,4928,1153,7130,1131,1066,435,5266,4160,5836,1148,16820,12380,2744,938,752,1389,14375,3199,2375,11299,4238,681,5190,10905,1323,732,537,2040,949,8736,14558,1749,2553,1965,5351,4657,2999,5956,2131,18377,10888,1921,3437,537,880,705,2515,2812,4497,1026,12300,1152,5910,5689,1229,4242,4207,5946,6827,4659,2234,5101,5480,2896,1046,3084,3352,6076,2376,15716,11817,5152,936,3405,5060,3519,4836,1026,567,475,14180,7644,7182,3639,9541,540,3822,10716,2576,2172,1056,16715,8062,998,1781,4360,911,932,626,743,3877,8064,1046,5740,1646,491,6202,527,734,872,16195,9821,8777,12417,720,11575,17606,1974,2389,6666,13317,1013,3701,898,18766,7610,2337,648,3053,2447,4514,7321,802,4348,698,5436,5876,596,15102,1280,6787,15148,1629,2197,4051,10666,645,6653,1389,14918,9757,2942,1800,10860,13182,984,12872,2515,13233,2732,1637,4764,4098,545,7656,1727,6261,12305,13942,9486,14032,576,3473,3837,558,6300,6301,1933,13731,1388,6425,9710,2950,4629,1094,2203,2695,1838,6070,5181,6300,5057,541,1069,5243,737,4295,4831,10267,4973,9505,4827,3993,2679,3674,16097,3689,1851,367,3669,14666,1690,745,1752,3830,1730,752,1235,4788,2838,700,7677,756,669,5237,1263,15248,756,4209,7314,2415,1050,4836,4308,552,2005,2074,3001,3701,9055,698,10306,2181,4808,10688,2351,10874,4227,2975,4675,5300,926,6171,1953,1607,593,1966,2512,6586,668,1960,5247,7062,6354,628,2364,5912,2596,1094,13052,6266,1116,842,5107,16879,684,1559,717,6931,1843,995,1815,628,641,3511,755,11435,11118,8190,2681,3758,5550,2761,789,4956,4355,521,8888,720,1024,608,668,1081,8946,2717,2825,15801,943,11480,5902,12530,2169,4448,4332,579,2268,2234,3180,2666,14892,17714,1265,1814,13678,13387,3141,649,3685,1413,765,8442,533,4340,14071,737,6075,6729,17038,2268,982,593,1320,14424,11790,1362,6774,4416,1173,12224,1367,1896,6573,4400,1082,561,5521,4990,4241,4702,4661,6335,3508,2644,13326,589,776,666,842,8118,3016,1958,5430,4805,6730,1059,1142,522,1080,13092,2822,5384,4238,4769,6108,2496,2093,2954,7320,10669,1402,8616,2441,1229,5226,4407,776,2902,6653,4672,5923,1035,975,3722,5088,1698,1009,854,776,702,9930,4641,5280,9039,14790,14648,4687,8809,763,14108,4562,4435,3299,4620,1559,3105,7577,13720,5671,16241,574,7550,1033,11534,12522,10738,8102,7762,7844,11368,14224,684,610,1153,816,608,1196,1053,923,675,14127,12407,9967,4810,365,5002,4366,6969,928,10043,4310,961,16813,2513,1746,7260,984,2757,7452,933,2832,1044,1799,2528,2467,3107,1656,7338,1286,1009,5312,5058,4739,8736,3848,7389,4817,6733,2387,5786,1940,604,5729,17068,7608,12832,4120,855,8688,561,5166,2803,5183,6261,1687,3584,816,4327,17816,1050,4862,984,4875,5006,6068,18055,2011,4541,882,2142,2737,4688,7812,2797,3282,877,1546,449,999,5043,792,11380,965,828,6851,2394,11491,6048,7589,3441,3822,4480,3989,2311,926,1122,879,1415,6438,3577,8184,1074,544,6250,4277,4256,8779,746,4704,624,2599,3125,18477,4197,789,743,1687,1071,6097,574,7554,666,1013,12738,1163,6750,4452,1736,2782,4571,4687,7577,4123,6209,18066,9682,992,18342,505,957,829,612,12587,869,6115,907,7954,945,7168,12261,710,1786,10362,3984,1046,2756,730,6174,15889,5176,912,1882,3856,7426,13212,8190,1087,1629,5779,4498,1753,4892,17221,5310,4642,12554,5556,675,4014,1097,504,6172,5606,13420,4270,4158,4583,739,5618,6470,554,561,894,2147,4368,2016,14775,5600,5303,646,4038,14328,2920,1775,581,3892,368,844,710,11153,1928,650,12238,3704,5008,3296,1607,8499,13939,8938,7797,1710,576,958,1243,5228,13132,2393,5489,3003,995,1395,4293,755,1629,816,6965,10880,776,526,1013,7785,11635,8737,828,2671,10338,983,16636,2155,1229,3856,4362,2307,1796,7502,6140,827,720,1219],&#34;type&#34;:&#34;box&#34;,&#34;name&#34;:&#34;Premium&#34;,&#34;line&#34;:{&#34;fillcolor&#34;:&#34;rgba(93,200,99,0.5)&#34;,&#34;color&#34;:&#34;rgba(93,200,99,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;y&#34;:[4690,5672,3438,2114,1624,378,3507,14592,9389,10255,14477,825,926,4398,8868,6208,6139,814,4066,8454,1079,5628,3644,620,1349,658,1014,741,2549,17932,789,1806,4666,449,6296,575,4083,4624,971,8912,5998,12196,2666,2558,1079,1565,3745,6019,11780,698,716,4075,6537,524,687,4566,2512,6732,6031,667,1616,6925,552,756,2485,5286,2495,597,473,1147,15334,890,2236,683,720,11216,453,956,4969,7773,645,10697,1100,1437,5723,3832,4303,470,9706,1111,5287,2721,11957,1795,13499,8907,548,1744,742,463,5051,2206,3366,2359,3575,8072,828,575,579,7600,608,1031,871,2986,5102,4241,9331,526,5995,716,2862,3644,976,541,2266,9965,2553,357,594,8008,648,5759,707,7006,4689,8375,7432,2129,2703,10766,3902,16955,5236,1415,805,6440,554,3664,717,6435,3907,4912,4617,2223,4840,602,2532,3009,2386,871,4836,2784,5452,621,544,591,620,12311,6459,1087,1189,9885,650,12526,4158,1722,455,3519,5600,5072,1615,2310,1258,1007,2200,402,524,2200,789,2841,5249,15025,2347,726,579,2724,2137,9069,7738,12654,992,7739,822,13369,756,13869,7567,2396,477,4805,485,645,5759,6285,633,5352,4247,2656,910,1176,862,7991,666,3308,3353,4573,15306,607,622,3580,589,3059,6563,4253,14735,5736,689,394,3432,538,3831,4978,4717,6600,6887,675,6399,1778,6613,1080,552,1565,10362,868,1692,4195,3734,772,4851,3370,6166,3158,790,1757,506,8291,684,2276,2130,1250,15145,12271,1989,5224,1207,967,1767,18176,7001,2880,485,6666,2455,4849,3878,2755,5197,3771,645,485,16392,9593,12381,3381,2003,2141,1104,675,5305,3246,477,625,516,7893,8077,1053,664,1148,1717,3082,530,2241,5408,2889,2136,17062,9071,4400,3006,9837,9487,8291,3445,1622,6663,3270,4642,548,769,12291,2692,4914,899,5322,3200,7534,18691,9540,658,2922,561,4263,720,3857,5600,14740,1577,560,8257,596,6855,10165,4437,407,2657,11968,1007,4332,1615,14938,3382,18509,2578,6086,2988,2777,552,3061,2437,473,3888,3551,4514,6787,552,1978,4989,4299,2198,3927,567,752,449,7481,363,1554,4328,1686,664,658,2274,9574,4737,18077,5002,8518,4328,631,4432,4155,5777,1261,3252,7775,783,2312,3581,986,6159,1187,1139,3705,7747,3512,1788,11565,10185,564,1071,2441,526,3264,1576,708,2403,882,1425,11333,816,3601,6350,4508,4789,1440,13799,526,1293,7695,1715,10954,12515,659,5000,7039,5661,1056,658,692,6558,537,15140,2274,10584,450,823,1784,789,708,447,606,1000,847,1786,7171,3169,3387,6249,3307,2972,1588,821,8212,14112,544,829,17772,707,2395,10912,6296,2146,6702,4855,447,8998,626,705,3009,533,1047,16616,447,1794,548,7528,397,2336,6773,5832,1655,1311,2487,1404,3531,3920,2638,5010,552,2724,419,6419,575,491,1279,2332,16086,4702,4668,1007,2400,4521,10497,5083,4677,2256,3906,4681,572,1336,6453,700,1161,3344,5696,7666,4766,432,645,1183,1438,3012,3567,795,5231,848,14824,473,5789,698,904,5854,10567,421,660,5709,3007,3437,4444,5372,12084,7891,663,4165,2265,561,939,585,452,2523,4242,1331,5919,583,1959,1107,2527,3075,447,3497,4363,3387,1396,575,3293,921,7722,2881,540,1778,470,891,705,816,825,4088,6726,5335,436,1305,4903,11514,2196,837,4316,734,17837,1551,2276,15017,800,6818,2799,394,4620,2094,1276,2966,2179,672,4964,16694,427,4664,5049,7152,2239,12614,2316,4600,3374,784,6914,865,9987,2939,336,1907,6677,778,4753,7139,784,3763,1556,624,2915,2873,1343,6915,2628,692,2586,9224,2797,492,2767,1795,3974,12386,548,4136,689,3392,7378,3323,1398,1378,5755,552,418,3963,7911,544,827,4543,3911,4136,5526,2671,1010,856,1406,14842,3388,9707,5291,1226,1748,4823,10284,486,6369,608,926,2277,2135,1105,13337,4581,9972,2857,579,2141,5339,616,2228,6787,8194,1563,1301,484,878,14066,3752,7226,9586,1172,3045,658,761,2275,752,504,14256,982,8654,1099,432,1283,2482,1292,10069,4355,404,492,1644,2401,394,2243,2153,17759,4685,7950,2489,655,776,4712,1006,12937,450,4925,394,5245,6931,3592,3945,3992,10029,4995,991,4469,1852,16169,5025,2479,2009,3567,2006,2092,2542,4626,1197,2695,1768,4518,6985,6316,1451,492,5000,704,3063,10078,2584,1781,4023,7145,4588,9218,9290,3801,792,2800,6733,4107,460,773,816,10419,530,5294,2586,3884,4788,458,879,2239,1075,8654,4157,3763,3204,4430,2896,4785,5113,7677,1145,4633,4531,1932,526,732,4791,9735,10823,3044,616,3131,5361,4401,791,1565,886,644,745,530,1878,5111,9306,3837,638,720,11286,926,9896,1244,5055,833,6595,10164,368,4413,2057,4719,575,1013,1624,833,1777,3720,1689,6063,662,8408,3894,850,5750,3288,6831,666,9728,626,4135,3666,6564,17244,730,644,710,1083,921,2843,954,764,2929,3290,3037,2808,4063,8650,525,4435,2553,648,981,666,4484,6962,1773,1909,505,9218,526,1842,1689,17530,3234,8242,16219,4791,2397,559,3543,5397,2921,672,16397,14810,4389,2802,1254,2748,7989,1077,5013,2797,949,2745,631,4112,9681,670,3093,596,5644,755,1197,2673,9968,683,544,1817,2171,5051,2739,1357,605,6483,8951,3541,1337,921,1631,620,1067,13579,1588,3879,5819,1048,13622,5195,3898,435,11390,530,3573,2806,3863,2906,491,741,1981,436,9586,10141,1120,7939,9254,10321,5259,784,413,5342,10437,4418,2431,596,4443,16378,16087,4406,3927,645,5088,4214,7448,2715,10204,802,478,5381,3950,1154,1151,13488,402,14383,7682,1729,5918,660,468,2200,5324,530,2321,705,3699,1214,2501,474,10473,3247,357,675,525,2362,401,2550,486,1952,726,4373,3009,4873,12839,6600,526,2001,4693,4959,538,1590,666,17871,7272,630,1234,8684,1197,1438,504,3323,3357,8893,2479,645,6463,1180,8174,4462,2123,2177,7343,6566,3703,3051,4052,2213,1205,1284,10329,890,645,776,1722,11737,662,15563,816,1030],&#34;type&#34;:&#34;box&#34;,&#34;name&#34;:&#34;Very Good&#34;,&#34;line&#34;:{&#34;fillcolor&#34;:&#34;rgba(33,144,140,0.5)&#34;,&#34;color&#34;:&#34;rgba(33,144,140,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;y&#34;:[5567,2258,544,7291,4179,6906,947,2899,3363,11640,1154,1806,7957,2345,4389,2034,8385,5211,599,15708,12870,915,4182,1407,3936,1727,4150,4909,4909,9784,1169,5987,814,564,625,1072,1125,2306,1132,4898,3024,4528,625,1376,1040,4468,3419,4459,2372,1816,1663,1666,851,2239,4269,4140,3671,737,14148,1110,394,12319,584,4517,4302,1806,6713,8313,6748,2250,4619,963,487,1601,5001,18236,378,3246,2496,4183,1644,17115,5094,4998,2606,675,2195,5331,4710,5002,743,4598,4203,12779,7137,596,2572,13109,5208,2072,641,4284,4498,586,1624,5386,1406,5898,2308,1813,8778,570,7602,2156,9368,4642,1594,473,2435,605,2436,1244,3699,3121,945,1229,6830,3353,522,12554,8956,4456,6397,3726,5592,622,4685,2873,1119,6088,2250,12787,2062,3471,1292,7863,5560,5096,3669,8960,4445,2386,2700,1294,4253,1228,2599,1406,5420,6042,403,15231,425,6098,2401,537,5021,11921,4669,2394,504,5575,3902,5766,4542,4463,684,7127,4345,2020,3950,5361,5299,2846,565,4517,739,351,4193,574,14654,593,1821,628,4004,3823,680,7848,891,2318,7639,2028,765,12423,449,6046,1966,4221,4138,2270,1882,687,11336,10184,8742,2573,3284,2062,3465,526,3580,4238,4242,461,1389,882,4817,5483,619,638,10995,6666,10528,3312,15919,979,1316,2104,4989,2278,3801,871,13978,4824,1792,6389,1367,1026,1141,1266,16036,1318,561,462,5833,655,9741,9660,6030,3871,1064,394,13622,4276,5050,761,7022,1180,432,6421,5544,3416,653,16406,687,4201,3002,3285,4443,581,1960,4312,1254,462,1364,3001,1410,5598,1179,952,16294,1350,1745,855,4121,1728,6446,1635,544,3033,4480,8108,5416,3110,8280,2708,489,3073,14918,2074,724,2577,8943,3919,5914,8430,1155,462,3734,2290,645,6163,771,545,1308,4194,5913,2390,2801,462,17151,3061,1778,3290,526,2647,3860,589,14973,11716,2307,10868,4309,755,625,3806,1635,1241,2641,1272,2583,2363,3148,2117,526,15765,2053,500,2351,2542,663,3283,3512,7154,526,3611,6344,1988,1858,6152,5310,3017,945,17760,4435,3127,2401,421,3632,1596,4457,6247,579,6798,1626,2620,1132,9173,17869,3932,655,628,3578,544,1433,4672,1312,825,4914,3282,4476,4399,2647,718,13187,948,16241,1390,5544,4540,4543,14920,12117,11526,2438,1023,5989,1811,3239,3878,12756,524,1760,9730,718,3002,4493,3649,5110,1841,4512,2788,2310,1924,1077,3370,565,2810,8161,1619,3626,10769,7862,4882,3454,488,1922,13919,605,524,4401,4878,7392,1637,681,4166,718,6794,631,1764,3016,2427,698],&#34;type&#34;:&#34;box&#34;,&#34;name&#34;:&#34;Good&#34;,&#34;line&#34;:{&#34;fillcolor&#34;:&#34;rgba(59,82,139,0.5)&#34;,&#34;color&#34;:&#34;rgba(59,82,139,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;y&#34;:[2368,1147,7469,6753,2982,4637,4838,1762,586,4838,3697,2595,6653,5681,4375,2699,2359,5334,2763,1808,4056,2117,1827,659,4751,2363,4704,11322,833,5919,1901,3816,3337,3734,7188,3864,2317,15695,2401,1089,4252,922,2375,1865,3765,2594,972,14652,772,893,1896,5533,2862,1238,8190,1848,3172,1982,813,2763,1014,5171,6814,2882,3403,11189,563,1323,7300,4281,2873,3816,2823,5226,871,2414,5027,1577,7019,5504,1304,6002,5696,3622,3669,3226,11263,5919,593,644,2550,337,1915,2051,2800,1193,2553,369,6503,3669,4798,13701,1229,3473,4057,4732,727,2724,3473,3418,16970,2579,10217,1174,2856,2318,2381,5538,4423,2484,1158,695,2376,2394,2297,5106,4791,3733,3965,3323,6632,1949,1952,627,8714,4972,945,2102,2357,7303,3833,4129,2892,2167,3540,5096,8001,2045,2438,4853,9996,5624,3302,816,2921,2203,1334,2964,5840,4746,5430,2697,3199,3003],&#34;type&#34;:&#34;box&#34;,&#34;name&#34;:&#34;Fair&#34;,&#34;line&#34;:{&#34;fillcolor&#34;:&#34;rgba(68,1,84,0.5)&#34;,&#34;color&#34;:&#34;rgba(68,1,84,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null}],&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_selected&#34;,&#34;off&#34;:&#34;plotly_relayout&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;showInLegend&#34;:false,&#34;ctGroups&#34;:[]},&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[&#34;config.modeBarButtonsToAdd.0.click&#34;],&#34;jsHooks&#34;:{&#34;render&#34;:[{&#34;code&#34;:&#34;function(el, x) { var ctConfig = crosstalk.var(&#39;plotlyCrosstalkOpts&#39;).set({\&#34;on\&#34;:\&#34;plotly_selected\&#34;,\&#34;off\&#34;:\&#34;plotly_relayout\&#34;,\&#34;persistent\&#34;:false,\&#34;dynamic\&#34;:false,\&#34;color\&#34;:{},\&#34;selectize\&#34;:false,\&#34;defaultValues\&#34;:{},\&#34;opacityDim\&#34;:0.2,\&#34;hoverinfo\&#34;:{},\&#34;showInLegend\&#34;:false}); }&#34;,&#34;data&#34;:null}]}}&lt;/script&gt;
&lt;p&gt;ひとますはこの辺で。だいたいいけそうです。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>ブックレビュー「Rによるスクレイピング入門」</title>
      <link>https://kazutan.github.io/blog/2017/03/book-r-scraping/</link>
      <pubDate>Wed, 22 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/03/book-r-scraping/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a&gt;本書の構成と全体的な印象&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a&gt;構成&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;全体的な印象&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;早く手にしたかった理由&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a&gt;スクレイピングから位置情報を取得・可視化&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#api&#34;&gt;APIを叩いてデータを取得&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;さいごに&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;著者の方より，標記の書籍をご恵贈いただきました:&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;ja&#34;&gt;
&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;
著者の方より「Rによるスクレイピング入門」 &lt;a href=&#34;https://t.co/XrLvK1QrjJ&#34;&gt;https://t.co/XrLvK1QrjJ&lt;/a&gt; をご恵贈いただきました。私が苦手なWeb技術の基礎や，APIの実践など，本当に貴重な情報と豊富なコード実例が盛り沢山で素晴らしいの一言です。ありがとうございます! &lt;a href=&#34;https://t.co/kLTsm33MkD&#34;&gt;pic.twitter.com/kLTsm33MkD&lt;/a&gt;
&lt;/p&gt;
— kazutan v3.3.3 (&lt;span class=&#34;citation&#34;&gt;@kazutan&lt;/span&gt;) &lt;a href=&#34;https://twitter.com/kazutan/status/844041232326254592&#34;&gt;2017年3月21日&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;p&gt;上記ツイート内に記述したのですが，非常に素晴らしい本です。著者の4名には日頃からRに関してお世話になっていて，よく公開されている資料を読んでは自分でスクレイピングやAPIを叩いたりしていました。&lt;/p&gt;
&lt;p&gt;ただ，本音を言うと，&lt;strong&gt;もっと早くこの書籍を手にしたかった&lt;/strong&gt;です。&lt;/p&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;本書の構成と全体的な印象&lt;/h2&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;構成&lt;/h3&gt;
&lt;p&gt;この書籍は6章編成となっています。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CHAPTER 01 ウェブスクレイピングの準備
&lt;ul&gt;
&lt;li&gt;R, RStudioの導入とデータハンドリングの基礎。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;CHAPTER 02 ウェブ技術の基礎
&lt;ul&gt;
&lt;li&gt;HTMLの基礎からXPATH, XML, JSONからHTTPプロトコルから認証といった，&lt;strong&gt;Web技術に関する基礎をRを使って説明するという画期的な内容&lt;/strong&gt;。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;CHAPTER 03 ウェブスクレイピング・API入門
&lt;ul&gt;
&lt;li&gt;比較的簡単な課題を用いて，実際にスクレイピングを実施したりAPIを叩いたり。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;CHAPTER 04 ウェブスクレイピング実践
&lt;ul&gt;
&lt;li&gt;ブログから情報抽出，抜き出したJSONから変換，そして&lt;strong&gt;ログイン認証が必要なサイトへの対応&lt;/strong&gt;などかなり実践的な内容。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;CHAPTER 05 API実践
&lt;ul&gt;
&lt;li&gt;e-StatやGitHubといったより実践的なAPIの利用と，そのデータの活用が解説。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;CHAPTER 06 オープンデータの活用
&lt;ul&gt;
&lt;li&gt;実際に公開されているオープンデータについて，紹介も含めデータ取得と整形および活用を紹介。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;思ったよりもコンパクトな書籍で全体的なページ量もそこまで多くありません。そして&lt;strong&gt;コードと実行結果がたくさんあります&lt;/strong&gt;。また第2章が最も分厚く，その次に第5章が多めです。&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;全体的な印象&lt;/h3&gt;
&lt;p&gt;まえがきにもあるのですが，この本は1章と2章の基礎編と，3章以降の応用編と明確に分かれています。そして&lt;strong&gt;この本を決定的に特徴づけるのは2章&lt;/strong&gt;だと私は考えます。&lt;/p&gt;
&lt;p&gt;スクレイピングと聞くと「豊富な実例やテクが大事!!」と思われますが，Webに関する基礎的なお話が理解できないと，いざ自分がやろうとした時にあっという間に止まります。書籍に何度も出てきますが，&lt;strong&gt;Webサイトの構成やAPIの仕様はもうバラバラ&lt;/strong&gt;で，それぞれで対応しないといけないことがたくさんあります。そのためにはドキュメントを読まなきゃいけないのですが，Web技術の基礎がなければお手上げです。私もこれまでこんな感じで，その度に解説資料などを読んでいきましたが，Web関連技術なんて雰囲気でやってきた私にはハードルが高くて何度も泣いてました。&lt;/p&gt;
&lt;p&gt;ところがこの書籍は「&lt;strong&gt;Rのコードを実行しながら学ぼうじゃないか&lt;/strong&gt;」と提案してくれるのです。感動です。またこの2章で説明したり使っているパッケージや関数がそのまま3章以降の実践でも活躍します。非常に綺麗な流れでスムーズに学べるなと思いました。&lt;strong&gt;もっと早くこの書籍を手にしたかった&lt;/strong&gt;です。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;早く手にしたかった理由&lt;/h2&gt;
&lt;p&gt;さっきからしつこく言っている理由ですが…ようするに毎度苦労しながらやってきたからです。&lt;/p&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;スクレイピングから位置情報を取得・可視化&lt;/h3&gt;
&lt;p&gt;3章や4章あたりにあるこの流れですが，以前こんなことやってました:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://rpubs.com/kazutan/typhoon&#34;&gt;RPubs - 台風15号の予想進路&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rpubs.com/kazutan/typhoon2&#34;&gt;RPubs - 台風17号と18号&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rpubs.com/kazutan/typhoon3&#34;&gt;RPubs - 台風20号&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rpubs.com/kazutan/typhoon4&#34;&gt;RPubs - 台風21号&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rpubs.com/kazutan/typhoon5&#34;&gt;RPubs - 台風22号と23号&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;これらは気象庁HPの台風情報からスクレイピングして整形し，それを可視化したものです。&lt;strong&gt;こいつは一体何がしてくてこんなことしてたんだ&lt;/strong&gt;と今では自分でも思います。とはいえはじめてのスクレイピングで，&lt;strong&gt;この書籍の1章と2章を当時読めてたらどれだけ楽になったことか&lt;/strong&gt;と今なら思います。&lt;/p&gt;
&lt;p&gt;これが2015年後半で，以降趣味だけではなく調べものなどでも活用していくようになりました。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;api&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;APIを叩いてデータを取得&lt;/h3&gt;
&lt;p&gt;個人的な必要だったり，業務上必要になったりで，この1年半くらい頻繁にAPIを叩くようになりました。たとえばこんなことなど:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://kazutan.github.io/HijiyamaR4/e-stat_test.html&#34;&gt;e-statをRでたたいてみる&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://qiita.com/kazutan/items/08c3ad07f81caadd990e&#34;&gt;RでGitHubAPIを利用してリポジトリ情報などを取得する - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;はい，そうです。&lt;strong&gt;この2つとも5章で詳細に解説されています&lt;/strong&gt;。もちろん著者の方々がすでに公開されていた資料を元に進めていたのですが，&lt;strong&gt;基礎がないので四苦八苦してなんとかやってたけどこの書籍読めば一発だよね&lt;/strong&gt;と思いました。&lt;/p&gt;
&lt;p&gt;他にも最近では&lt;a href=&#34;https://habitica.com/static/front?lang=ja&#34;&gt;Habitica&lt;/a&gt;の&lt;a href=&#34;https://habitica.com/apidoc/&#34;&gt;API&lt;/a&gt;を叩いて自分の生活を可視化(して反省)しようと，Rからデータ取得したりした(内容は未公開)のですが，基礎的なことがわからず相当な時間を消費しました。&lt;strong&gt;2章と5章に書いてある内容を知っていれば&lt;/strong&gt;と今では思います。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;さいごに&lt;/h2&gt;
&lt;p&gt;スクレイピングという言葉に反応したRユーザーの皆さん，&lt;strong&gt;買いましょう&lt;/strong&gt;。&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>ブログ移転(仮)</title>
      <link>https://kazutan.github.io/blog/2017/03/firstpost/</link>
      <pubDate>Wed, 22 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/03/firstpost/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;いろいろ思うことがあり,ブログをこちらに移転することにしました。&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;以前まで続けていた&lt;a href=&#34;http://blog.kz-md.net/&#34;&gt;こっちのブログ&lt;/a&gt;についてはしばらく残しておく予定です。移転する理由などについてはそのうち書きます。&lt;/p&gt;
&lt;p&gt;あとまだ(仮)なので,急な変更などがあると思いますが,どうかご容赦ください。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>