<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>R on 日々是独想</title>
    <link>https://kazutan.github.io/blog/tags/r/index.xml</link>
    <description>Recent content in R on 日々是独想</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <atom:link href="https://kazutan.github.io/blog/tags/r/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Rbindというプロジェクトが立ち上がったみたいです</title>
      <link>https://kazutan.github.io/blog/2017/04/whatis-rbindio/</link>
      <pubDate>Wed, 26 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/whatis-rbindio/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;2017/04/26の朝に，以下のようなツイートが届きました:&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;ja&#34;&gt;
&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;
blogdown界の&lt;a href=&#34;https://t.co/cIRkAK63nC&#34;&gt;https://t.co/cIRkAK63nC&lt;/a&gt;的なものを目指してるらしい。おもしろそう。&lt;a href=&#34;https://twitter.com/kazutan&#34;&gt;&lt;span class=&#34;citation&#34;&gt;@kazutan&lt;/span&gt;&lt;/a&gt; さんの解説を待とう。 &lt;a href=&#34;https://t.co/aiEtH20kRE&#34;&gt;https://t.co/aiEtH20kRE&lt;/a&gt;
&lt;/p&gt;
— Hiroaki Yutani (&lt;span class=&#34;citation&#34;&gt;@yutannihilation&lt;/span&gt;) &lt;a href=&#34;https://twitter.com/yutannihilation/status/856995260479676416&#34;&gt;2017年4月25日&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;p&gt;というわけで調べてみました。3行でまとめると以下のとおりです:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Yihuiが「blogdown使ってRユーザーでBindしようぜ」と&lt;a href=&#34;https://github.com/rbind&#34;&gt;Rbindio&lt;/a&gt;というOrganizationをGitHub上に準備&lt;/li&gt;
&lt;li&gt;「リポジトリをここに設置すれば簡単にブログやWebサイトを公開できるようにするよ」&lt;/li&gt;
&lt;li&gt;「ドメイン名がない? &lt;code&gt;*.rbind.io&lt;/code&gt;で準備できるよ!」&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;rbind&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Rbindとは&lt;/h2&gt;
&lt;p&gt;世の中にはWordPress.comのように，気軽にWebサイトやblogを設置できるサービスが存在します。これらを利用すれば楽に自分のサイトやブログを設置することが可能となります。しかしこれらは特定の会社によって提供されているものです。&lt;/p&gt;
&lt;p&gt;そこでYihuiを含んだ有志&lt;a href=&#34;#fn1&#34; class=&#34;footnoteRef&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;によって「コミュニティによるこういったサービスを提供しようじゃないか」と準備されたのがこのRbindというプロジェクトのようです。&lt;/p&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;理念的なもの&lt;/h3&gt;
&lt;p&gt;詳しくは&lt;a href=&#34;https://support.rbind.io/about/&#34;&gt;こちらのページ&lt;/a&gt;を参照してください。冒頭を引用します:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The goal of the Rbind project is to provide a service like WordPress.com or Medium, but driven by the community1 instead of a certain company. We hope users can help each other to build the websites they want. Currently most websites in this project are built using the blogdown package, but you are welcome to use other tools if you want.&lt;/p&gt;
&lt;p&gt;To make it easier to discover websites and get inspirations from other people’s websites, we created the Github organization “rbind” as a central place to host all websites. For example, if you are curious about how a particular website was built, you may study its source files, or even ask the author via Github issues.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;要点は以下の通り:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;コミュニティベースでWordPress.comみたいなサービスを提供したい&lt;/li&gt;
&lt;li&gt;Webサイトづくりにおいて，お互いに助け合いながらやっていきたい&lt;/li&gt;
&lt;li&gt;現状は&lt;code&gt;blogdown&lt;/code&gt;で作ってるのが多いけど，別に他のでも構わないよ!&lt;/li&gt;
&lt;li&gt;お互いのサイトを見つけたりインスピレーションが得られるよう，GitHubで&lt;strong&gt;rbind&lt;/strong&gt;という組織準備して，ここに集約してホスティングすることにしたよ
&lt;ul&gt;
&lt;li&gt;それぞれのサイトで興味がでたらソースコードみればいいし，分からなければGitHub issuesで聞けるよ&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;また，こちらのページも参考にしてください:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://support.rbind.io/2017/04/24/launching-rbind-support/&#34; class=&#34;uri&#34;&gt;https://support.rbind.io/2017/04/24/launching-rbind-support/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;参加資格&lt;/h3&gt;
&lt;p&gt;まあわりとゆるい感じです。上述のページでの該当箇所を引用します:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We do not really have hard restrictions on what kind of websites we expect to see in Rbind, but we will certainly be happy to host websites related to R and/or statistics.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Rや統計に関連してるようなものなら大歓迎だよ!ということです。言語的な縛りについては…どうなんだろう?割とアリな気もするけど，だれかissuesに投げないかな。&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;参加方法&lt;/h3&gt;
&lt;p&gt;シンプルです。該当箇所を引用します&lt;a href=&#34;#fn2&#34; class=&#34;footnoteRef&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you do not have a website yet, please file a Github issue and we can help you create one in the Rbind organization using blogdown, otherwise you can transfer your existing Github repo to Rbind. In either case, if you do not own a domain name, we can offer a subdomain *.rbind.io to you for free, and just let us know in your Github issue.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;要点は以下の通り:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;もしまだWebサイトを持ってないなら，issuesにその旨を送ってくれれば私たちが手伝うよ&lt;/li&gt;
&lt;li&gt;もうWebサイトを持ってるなら，そのGitHubリポジトリを移行(transfer)すればいいだけだよ&lt;/li&gt;
&lt;li&gt;ドメイン名がないのなら，&lt;code&gt;*.rbind.io&lt;/code&gt;のサブドメインをフリーで提供するよ&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;メリットとデメリット&lt;/h2&gt;
&lt;p&gt;ここからは私の主観的な判断ですので，ご了承ください。&lt;/p&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;メリット&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;blogdownによるWebサイト/ブログの構築・設置において，コミュニティサポートが得やすくなる&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;このブログもblogdownで作っていますが，まだそれほど情報があるとは言えません。でもここに参加すれば，&lt;strong&gt;あのYihuiを含むコミュニティの方々からサポート&lt;/strong&gt;してもらいやすくなります。これ以上心強いものはないかもしれません。&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;ホスティングを気にせずWebサイト/ブログを準備できる&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;地味に面倒なのがこのあたりで，下手に自分でホスティングサービス探すよりも有効です。また自分がすでに有している独自ドメインも割当可能なので，サイトURLを変更せずに引っ越せます。&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;多くの人に見てもらえる，かも&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;これは完全に無根拠な予想なのですが，ある程度集まってきたら&lt;a href=&#34;https://rbind.io&#34;&gt;本家トップ(現在は404)&lt;/a&gt;が整備されて「新着記事一覧」とかジャンル別とかにまとめられたりするんじゃないかなと，WordPress.comのトップをみながら思ってます。そうなると公開した記事がより多くの人に読まれることになるでしょう。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;デメリット&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;すでにあるリポジトリを引っ越すのが(ちょっとだけ)面倒&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;「もう運用してるしなぁ…引っ越す手続きもめんどくさい」と多少感じるかも。すでにblogdownで運用しているならそう感じるでしょう。余談ですがblogdownはHugoで生成してますが，WordPressからHugoに移行するためのWordPressプラグインは存在します&lt;a href=&#34;#fn3&#34; class=&#34;footnoteRef&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;。&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;多分こんなところです。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;まとめ&lt;/h2&gt;
&lt;p&gt;おそらくblogdownでこれから作っていくという方には，いい感じのサービスになるのではないでしょうか。なによりコミュニティ運用でこのようなサービスが立ち上がるというのは素敵だと思います。気になる方は気軽にissueで聞いてみてはいかがでしょうか。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;補足と参考資料&lt;/h2&gt;
&lt;p&gt;この&lt;a href=&#34;https://support.rbind.io/&#34;&gt;RBind Support&lt;/a&gt;では，blogdownのテクニカルサポート情報が挙げられていくそうです。なので&lt;strong&gt;blogdownユーザーは確実にチェックすることをおすすめします&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;参考資料:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://support.rbind.io/2017/04/24/launching-rbind-support/&#34;&gt;Launching the Rbind support website · Rbind Support&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://support.rbind.io/2017/04/25/yihui-website/&#34;&gt;A Technical Introduction to Yihui&#39;s personal website · Rbind Support&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://support.rbind.io/about/&#34;&gt;About Rbind Support · Rbind Support&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/rbind&#34;&gt;RBindio - GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;Yihuiが発起人の一人だとは思いますが，本人からのメッセージを受け取ってるわけではないので確証は…でもRbindIO内リポジトリのContributorをチェックする限りほぼ間違いないでしょう。&lt;a href=&#34;#fnref1&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;この文には脚注およびリンクが含まれていましたがここでは省略します。詳しくは元ページを参照してください。&lt;a href=&#34;#fnref2&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;未検証なので深くは言及しませんが，私はそのうちこれを使って過去の記事を移行しようかと思ってます。ただ多分面倒なことになりそうなんだよなぁ…記事数多いし。&lt;a href=&#34;#fnref3&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>SpirographをShinyで書いてみた</title>
      <link>https://kazutan.github.io/blog/2017/04/spirograph-shiny/</link>
      <pubDate>Sat, 22 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/spirograph-shiny/</guid>
      <description>&lt;p&gt;今日 #tokyor に参加できなくて寂しかったから記事を書くことにしました。&lt;/p&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;前置き&lt;/h2&gt;
&lt;p&gt;小さい頃,歯車がついた定規でその歯車に鉛筆を使ってぐるぐる回すと,不思議な模様が出てくるので遊んだことありませんか?&lt;/p&gt;
&lt;p&gt;私が子どもの頃にそれを手にし,すごく興奮してひたすら遊び倒してました。でもお気に入りのおもちゃほどよく壊れるもので,あえなく遊べなくなり,名前もわからずに30年ほど経過しました…&lt;/p&gt;
&lt;p&gt;そして先日ふと思い出し,「あれってサイクロイドみたいなやつだよな。てことは座標を数式で表現できるよね?ならRで描写できるんじゃね?」ということで調べました。&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;アレの数式について&lt;/h2&gt;
&lt;p&gt;サイクロイド媒介変数表示は以下の通り:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\begin{cases}
x = a( \theta - \sin \theta) \\
y = a( 1 - \cos \theta) 
\end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;は転がす円の半径,&lt;span class=&#34;math inline&#34;&gt;\(\theta\)&lt;/span&gt;は転がる円が回転した角度を表す。&lt;span class=&#34;math inline&#34;&gt;\(y\)&lt;/span&gt;成分は上下の振動で,&lt;span class=&#34;math inline&#34;&gt;\(x\)&lt;/span&gt;成分は回転した分の円周に振動がゆらぎとして乗っかっている。「横へ転がっている」というのがx成分に追加されているイメージ,かな。&lt;/p&gt;
&lt;p&gt;こんな感じで探していると,&lt;a href=&#34;https://ja.wikipedia.org/wiki/%E3%83%88%E3%83%AD%E3%82%B3%E3%82%A4%E3%83%89&#34;&gt;トコロイド&lt;/a&gt;というのを見つけた&lt;a href=&#34;#fn1&#34; class=&#34;footnoteRef&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;。この内トコロイドこそ,探していたものだった…!&lt;/p&gt;
&lt;p&gt;てことで,数式はこんな感じ:&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;math display&#34;&gt;\[
\begin{cases}
x = (a - b)\cos \theta + p\cos\left(\frac{a-b}{b}\theta\right) \\
y = (a - b)\sin \theta - p\sin\left(\frac{a-b}{b}\theta\right)
\end{cases}
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;なお,&lt;span class=&#34;math inline&#34;&gt;\(a\)&lt;/span&gt;は定円(外枠の円)の半径,&lt;span class=&#34;math inline&#34;&gt;\(b\)&lt;/span&gt;は動円(中で動いている円)の半径,&lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt;は描画点の半径,&lt;span class=&#34;math inline&#34;&gt;\(\theta\)&lt;/span&gt;は回転角とします。&lt;/p&gt;
&lt;p&gt;この式さえあれば,あとはRで描くなんて簡単です。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;r&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;アレをRで描く&lt;/h2&gt;
&lt;p&gt;てことで,以下のコードを書いてみました:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# 数式のa, b, pを指定
a = 1
b = 0.3
p = 0.11

# 回転数とサンプリングする角度の間隔を指定
turn = 100
by = 0.01

# x, yを算出するためにthetaを準備
theta &amp;lt;- seq(from = 0, to = 2*pi*turn, by = by)

# 座標をdata.frameで生成
df &amp;lt;- data.frame(
  x = (a - b)*cos(theta) + (b-p)*cos((a-b)/b*theta),
  y = (a - b)*sin(theta) - (b-p)*sin((a-b)/b*theta)
)

# 取得した座標を線で結んでプロット
plot(df, type = &amp;quot;l&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://kazutan.github.io/blog/post/2017-04-22-spirograph-shiny_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;いけました。これで&lt;code&gt;b&lt;/code&gt;と&lt;code&gt;p&lt;/code&gt;に指定する値を変更すると,いろんなもの描けます。&lt;strong&gt;30年振りの会合でした&lt;/strong&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;shiny&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;そうだShinyだ&lt;/h2&gt;
&lt;p&gt;ただ,このままだと毎回実行するのも面倒ですし,こういうのこそ簡単にパラメータいじってインタラクティブにしたいものです。&lt;/p&gt;
&lt;p&gt;そうです,Shinyです。もうserver側のコードはほぼできているので,あとはUIまわりを準備してやれば出来上がりとなります。てことで作りました:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kazutan/Spirograph&#34;&gt;kazutan/Spirograph&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;昨日に30分でさくっと作ったのでかなり手抜きです。ちなみにこんな感じです:&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-conversation=&#34;none&#34; data-lang=&#34;ja&#34;&gt;
&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;
てことでさくっとShinyで作ってみた。超楽しい! &lt;a href=&#34;https://t.co/AW0TtdnFWG&#34;&gt;pic.twitter.com/AW0TtdnFWG&lt;/a&gt;
&lt;/p&gt;
— kazutan v3.3.3 (&lt;span class=&#34;citation&#34;&gt;@kazutan&lt;/span&gt;) &lt;a href=&#34;https://twitter.com/kazutan/status/855399890611970048&#34;&gt;2017年4月21日&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;ja&#34;&gt;
&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;
他を固定してbを0.59, 0.60, 0.61へと変化させたらこうなった。 &lt;a href=&#34;https://t.co/Uwr1tgDVfE&#34;&gt;pic.twitter.com/Uwr1tgDVfE&lt;/a&gt;
&lt;/p&gt;
— kazutan v3.3.3 (&lt;span class=&#34;citation&#34;&gt;@kazutan&lt;/span&gt;) &lt;a href=&#34;https://twitter.com/kazutan/status/855409680511676416&#34;&gt;2017年4月21日&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;p&gt;なお,このキャプチャ画面の状態から,さらに&lt;code&gt;alpha&lt;/code&gt;というパラメータを追加していますが,これは全体の回転パラメータです。動かしたらすぐに理解できると思います。&lt;/p&gt;
&lt;p&gt;昨晩これをいろいろ弄ってたらあっという間に時間が過ぎてしまいました…よかったら遊んでください。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;当初名前がわからなかったので,内サイクロイドから頭の中で考えて式を導いてた。まああってたからよかった。&lt;a href=&#34;#fnref1&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>dplyr::selectの活用例メモ</title>
      <link>https://kazutan.github.io/blog/2017/04/dplyr-select-memo/</link>
      <pubDate>Wed, 12 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/dplyr-select-memo/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;タイトルのとおりです。気分転換を兼ねてメモ。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dplyr)
#&amp;gt;  
#&amp;gt;   次のパッケージを付け加えます: &amp;#39;dplyr&amp;#39;
#&amp;gt;   以下のオブジェクトは &amp;#39;package:stats&amp;#39; からマスクされています: 
#&amp;gt;  
#&amp;gt;       filter, lag
#&amp;gt;   以下のオブジェクトは &amp;#39;package:base&amp;#39; からマスクされています: 
#&amp;gt;  
#&amp;gt;       intersect, setdiff, setequal, union&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;列位置を示す数値ベクトルを与えると，それ引っ張ってくる:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, c(1, 4)) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Petal.Width
#&amp;gt;  1          5.1         0.2
#&amp;gt;  2          4.9         0.2
#&amp;gt;  3          4.7         0.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;starts_with()&lt;/code&gt;などの&lt;strong&gt;select_helpers&lt;/strong&gt;関数群は，要するに列位置を表す数値ベクトルを返してくる:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;starts_with(&amp;quot;s&amp;quot;, vars = names(iris))
#&amp;gt;  [1] 1 2 5
ends_with(&amp;quot;s&amp;quot;, vars = names(iris))
#&amp;gt;  [1] 5
contains(&amp;quot;se&amp;quot;, vars = names(iris))
#&amp;gt;  [1] 1 2
matches(&amp;quot;^.e&amp;quot;, vars = names(iris))
#&amp;gt;  [1] 1 2 3 4
one_of(c(&amp;quot;Sepal.Length&amp;quot;, &amp;quot;Species&amp;quot;), vars = names(iris))
#&amp;gt;  [1] 1 5
everything(vars = names(iris))
#&amp;gt;  [1] 1 2 3 4 5&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ちなみに引数の&lt;code&gt;vars&lt;/code&gt;はデフォルトでは&lt;code&gt;vars = current_vars()&lt;/code&gt;となっており，&lt;code&gt;select()&lt;/code&gt;などの中で使うと自動的に&lt;code&gt;.data&lt;/code&gt;引数に指定してあるデータセットから変数名リストを取得してくるというもの。なので&lt;code&gt;select()&lt;/code&gt;内で指定しなくてもいい感じにしてくれる。&lt;/p&gt;
&lt;p&gt;変数をselectする際，名前付きで指定すると変数名を変更してくれてピックアップしてくる:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, kosaki = 5, Sepal.Length) %&amp;gt;% head(3)
#&amp;gt;    kosaki Sepal.Length
#&amp;gt;  1 setosa          5.1
#&amp;gt;  2 setosa          4.9
#&amp;gt;  3 setosa          4.7&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;これが地味に強力で，以下のようなことも可能:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, kosaki = 1:3) %&amp;gt;% head(3)
#&amp;gt;    kosaki1 kosaki2 kosaki3
#&amp;gt;  1     5.1     3.5     1.4
#&amp;gt;  2     4.9     3.0     1.4
#&amp;gt;  3     4.7     3.2     1.3
select(iris, kosaki = starts_with(&amp;quot;s&amp;quot;)) %&amp;gt;% head(3)
#&amp;gt;    kosaki1 kosaki2 kosaki3
#&amp;gt;  1     5.1     3.5  setosa
#&amp;gt;  2     4.9     3.0  setosa
#&amp;gt;  3     4.7     3.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;数値ベクトルで指定できるんだから，こういうことだって可能:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, length(current_vars()):3) %&amp;gt;% head(3)
#&amp;gt;    Species Petal.Width Petal.Length
#&amp;gt;  1  setosa         0.2          1.4
#&amp;gt;  2  setosa         0.2          1.4
#&amp;gt;  3  setosa         0.2          1.3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;current_vars()&lt;/code&gt;を使う理由は，pipeプロセス中で，この時点での変数リストを持ってきたいから。この方が応用できるんで。&lt;/p&gt;
&lt;p&gt;変数の並びを入れ替えたい場合，お約束としては&lt;code&gt;everything()&lt;/code&gt;を活用する:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, 1, 5, everything()) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Species Sepal.Width Petal.Length Petal.Width
#&amp;gt;  1          5.1  setosa         3.5          1.4         0.2
#&amp;gt;  2          4.9  setosa         3.0          1.4         0.2
#&amp;gt;  3          4.7  setosa         3.2          1.3         0.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;あとはorderとかも使える:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select(iris, order(current_vars())) %&amp;gt;% head(3)
#&amp;gt;    Petal.Length Petal.Width Sepal.Length Sepal.Width Species
#&amp;gt;  1          1.4         0.2          5.1         3.5  setosa
#&amp;gt;  2          1.4         0.2          4.9         3.0  setosa
#&amp;gt;  3          1.3         0.2          4.7         3.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;select()&lt;/code&gt;だと，多分こんな感じ。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rename()&lt;/code&gt;は関数名につられて「変数名を変更する関数」と思われがちだけど，&lt;code&gt;select()&lt;/code&gt;との比較で考えたほうが適切。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;select()&lt;/code&gt;はヒットした変数を取り出す(もしくは名前を変更)して，それ以外を除外する。一方&lt;code&gt;rename()&lt;/code&gt;は基本&lt;code&gt;select()&lt;/code&gt;と同じ動きをして，ヒットしなかった変数を残す(後ろに回す)。内部的には&lt;code&gt;select()&lt;/code&gt;で変数ピックアップするときに，特に指定していない場合は変数名と同じ文字列を名前として付与して，それを適用してるみたい。&lt;code&gt;rename()&lt;/code&gt;はこの後に変数をドロップしないように残ったものを拾っているみたいで，そこが違いみたい。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;select_all()&lt;/code&gt;を使ってみる。HelpのExampleより:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_all(mtcars, toupper) %&amp;gt;% head(3)
#&amp;gt;                 MPG CYL DISP  HP DRAT    WT  QSEC VS AM GEAR CARB
#&amp;gt;  Mazda RX4     21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
#&amp;gt;  Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
#&amp;gt;  Datsun 710    22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
select_all(mtcars, &amp;quot;toupper&amp;quot;) %&amp;gt;% head(3)
#&amp;gt;                 MPG CYL DISP  HP DRAT    WT  QSEC VS AM GEAR CARB
#&amp;gt;  Mazda RX4     21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
#&amp;gt;  Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
#&amp;gt;  Datsun 710    22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
select_all(mtcars, funs(toupper(.))) %&amp;gt;% head(3)
#&amp;gt;                 MPG CYL DISP  HP DRAT    WT  QSEC VS AM GEAR CARB
#&amp;gt;  Mazda RX4     21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
#&amp;gt;  Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
#&amp;gt;  Datsun 710    22.8   4  108  93 3.85 2.320 18.61  1  1    4    1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;全ての変数名に対して関数が適用される，という感じ。それはいいんだけど，&lt;code&gt;rename_all()&lt;/code&gt;も存在する。この2つ，微妙にコードは違うんだけど，使い分けることってあるのかな…。浮かばない。&lt;/p&gt;
&lt;p&gt;次に&lt;code&gt;select_at()&lt;/code&gt;を使ってみる。これは，第二引数である&lt;code&gt;.vars&lt;/code&gt;に残す変数を指定して，&lt;code&gt;.fun&lt;/code&gt;引数で変数名を処理する関数を指定するという動き。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_at(iris, c(&amp;quot;Sepal.Length&amp;quot;, &amp;quot;Petal.Length&amp;quot;), .funs = toupper) %&amp;gt;% head(3)
#&amp;gt;    SEPAL.LENGTH PETAL.LENGTH
#&amp;gt;  1          5.1          1.4
#&amp;gt;  2          4.9          1.4
#&amp;gt;  3          4.7          1.3
select_at(iris, vars(starts_with(&amp;quot;s&amp;quot;)), .funs = toupper) %&amp;gt;% head(3)
#&amp;gt;    SEPAL.LENGTH SEPAL.WIDTH SPECIES
#&amp;gt;  1          5.1         3.5  setosa
#&amp;gt;  2          4.9         3.0  setosa
#&amp;gt;  3          4.7         3.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;.var&lt;/code&gt;には，変数名の文字列ベクトルならそのまま，列番号なら&lt;code&gt;vars()&lt;/code&gt;で挟み込む必要があるみたい。なお&lt;code&gt;.funs&lt;/code&gt;引数を省略すると現在の変数名をそのまま渡すので変数名は変わらず:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_at(iris, vars(starts_with(&amp;quot;s&amp;quot;))) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Sepal.Width Species
#&amp;gt;  1          5.1         3.5  setosa
#&amp;gt;  2          4.9         3.0  setosa
#&amp;gt;  3          4.7         3.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;使い方としてはこっちがメイン，かな? なお&lt;code&gt;rename_at()&lt;/code&gt;関数もある:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rename_at(iris, vars(starts_with(&amp;quot;s&amp;quot;)), .funs = toupper) %&amp;gt;% head(3)
#&amp;gt;    SEPAL.LENGTH SEPAL.WIDTH Petal.Length Petal.Width SPECIES
#&amp;gt;  1          5.1         3.5          1.4         0.2  setosa
#&amp;gt;  2          4.9         3.0          1.4         0.2  setosa
#&amp;gt;  3          4.7         3.2          1.3         0.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;.var&lt;/code&gt;引数で選択した変数に対して&lt;code&gt;.funs&lt;/code&gt;引数で指定した変数名変更用関数を適用し，残りはそのまま持ってくる，という仕事をする。こっちは変数名を変更することが前提なので，&lt;code&gt;.funs&lt;/code&gt;を指定しないとエラーで怒られる。これまでの挙動を考えると納得いかない…。&lt;/p&gt;
&lt;p&gt;最後に&lt;code&gt;select_if()&lt;/code&gt;を使ってみる。これは，第二引数である&lt;code&gt;.predicate&lt;/code&gt;に関数を準備し，各変数をこの関数に当てていく。そして&lt;code&gt;TRUE&lt;/code&gt;を返した関数を残す(選択する)，という仕事をする。ベタな例を以下に:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_if(iris, is.numeric) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width
#&amp;gt;  1          5.1         3.5          1.4         0.2
#&amp;gt;  2          4.9         3.0          1.4         0.2
#&amp;gt;  3          4.7         3.2          1.3         0.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;各変数に&lt;code&gt;is.numeric&lt;/code&gt;を適用し，&lt;code&gt;TRUE&lt;/code&gt;(つまり数値の変数)だけを取り出してる。なお，関数を自作して適用するのも可能:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;f &amp;lt;- function(x) {
 if(is.numeric(x)){
   mean(x) &amp;gt; 3
 } else {
   return(TRUE)
 }
}
select_if(iris, f) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Sepal.Width Petal.Length Species
#&amp;gt;  1          5.1         3.5          1.4  setosa
#&amp;gt;  2          4.9         3.0          1.4  setosa
#&amp;gt;  3          4.7         3.2          1.3  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;この場合，「変数が数値型の場合，平均が3より大きかったら残す。それ以外の型なら残す」という仕事をさせてる。また，列数と同じ数の論理値ベクトルを与えてもOK:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_if(iris, c(TRUE, TRUE, FALSE, TRUE, FALSE)) %&amp;gt;% head(3)
#&amp;gt;    Sepal.Length Sepal.Width Petal.Width
#&amp;gt;  1          5.1         3.5         0.2
#&amp;gt;  2          4.9         3.0         0.2
#&amp;gt;  3          4.7         3.2         0.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;また，&lt;code&gt;.Predicate&lt;/code&gt;で指定するのは関数だけでなくformulaでもいいみたい。省略。あと第三引数&lt;code&gt;.funs&lt;/code&gt;はこれまでのパターン同様&lt;strong&gt;変数名を変更するための関数&lt;/strong&gt;です。&lt;code&gt;select_if()&lt;/code&gt;においてはオプショナルなものです:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;select_if(iris, is.numeric, toupper) %&amp;gt;% head(3)
#&amp;gt;    SEPAL.LENGTH SEPAL.WIDTH PETAL.LENGTH PETAL.WIDTH
#&amp;gt;  1          5.1         3.5          1.4         0.2
#&amp;gt;  2          4.9         3.0          1.4         0.2
#&amp;gt;  3          4.7         3.2          1.3         0.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;一方，&lt;code&gt;rename_if()&lt;/code&gt;は&lt;code&gt;select_if()&lt;/code&gt;とほぼ同じような動きをしますが，&lt;strong&gt;名前変更なので&lt;code&gt;.funs&lt;/code&gt;が必須&lt;/strong&gt;なのと，&lt;strong&gt;選択されなかった変数も残る&lt;/strong&gt;という違いがあります:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rename_if(iris, is.numeric, toupper) %&amp;gt;% head(3)
#&amp;gt;    SEPAL.LENGTH SEPAL.WIDTH PETAL.LENGTH PETAL.WIDTH Species
#&amp;gt;  1          5.1         3.5          1.4         0.2  setosa
#&amp;gt;  2          4.9         3.0          1.4         0.2  setosa
#&amp;gt;  3          4.7         3.2          1.3         0.2  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;だいたいこんな感じです。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sessionInfo()
#&amp;gt;  R version 3.4.0 (2017-04-21)
#&amp;gt;  Platform: x86_64-pc-linux-gnu (64-bit)
#&amp;gt;  Running under: Ubuntu 16.04.2 LTS
#&amp;gt;  
#&amp;gt;  Matrix products: default
#&amp;gt;  BLAS: /usr/lib/libblas/libblas.so.3.6.0
#&amp;gt;  LAPACK: /usr/lib/lapack/liblapack.so.3.6.0
#&amp;gt;  
#&amp;gt;  locale:
#&amp;gt;   [1] LC_CTYPE=ja_JP.UTF-8       LC_NUMERIC=C              
#&amp;gt;   [3] LC_TIME=ja_JP.UTF-8        LC_COLLATE=ja_JP.UTF-8    
#&amp;gt;   [5] LC_MONETARY=ja_JP.UTF-8    LC_MESSAGES=ja_JP.UTF-8   
#&amp;gt;   [7] LC_PAPER=ja_JP.UTF-8       LC_NAME=C                 
#&amp;gt;   [9] LC_ADDRESS=C               LC_TELEPHONE=C            
#&amp;gt;  [11] LC_MEASUREMENT=ja_JP.UTF-8 LC_IDENTIFICATION=C       
#&amp;gt;  
#&amp;gt;  attached base packages:
#&amp;gt;  [1] stats     graphics  grDevices utils     datasets  base     
#&amp;gt;  
#&amp;gt;  other attached packages:
#&amp;gt;  [1] dplyr_0.5.0.9004
#&amp;gt;  
#&amp;gt;  loaded via a namespace (and not attached):
#&amp;gt;   [1] Rcpp_0.12.10         bookdown_0.3.18      assertthat_0.2.0    
#&amp;gt;   [4] digest_0.6.12        rprojroot_1.2        R6_2.2.0            
#&amp;gt;   [7] backports_1.0.5      magrittr_1.5         evaluate_0.10       
#&amp;gt;  [10] blogdown_0.0.27      rlang_0.0.0.9018     stringi_1.1.5       
#&amp;gt;  [13] rmarkdown_1.4.0.9001 tools_3.4.0          stringr_1.2.0       
#&amp;gt;  [16] glue_1.0.0           yaml_2.1.14          compiler_3.4.0      
#&amp;gt;  [19] htmltools_0.3.6      knitr_1.15.20        tibble_1.3.0        
#&amp;gt;  [22] methods_3.4.0&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>MathJax CDNがシャットダウンされることによるR Markdownへの影響</title>
      <link>https://kazutan.github.io/blog/2017/04/mathjax-cdn-rmd/</link>
      <pubDate>Tue, 11 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/mathjax-cdn-rmd/</guid>
      <description>

&lt;h2 id=&#34;経緯&#34;&gt;経緯&lt;/h2&gt;

&lt;p&gt;先日,こういう情報が流れてきました:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.mathjax.org/cdn-shutting-down/&#34;&gt;MathJax CDN shutting down on April 30, 2017.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;内容としては,「MathJaxの自前CDNサーバーを4/30に閉じますよ」って話で,「ローカルに落としとくか代替となるクラウドサーバーを使ってね」ということです。&lt;/p&gt;

&lt;p&gt;さてこのMathJaxというのは,HTMLドキュメントなどで数式を綺麗に出してくれるライブラリです。Markdownなど利用していると,&lt;code&gt;$&lt;/code&gt;や&lt;code&gt;$$&lt;/code&gt;などでTeX記法の数式を挟み込むと数式をレンダリングしてくれる機能を提供してくれたりします。&lt;/p&gt;

&lt;p&gt;このMathJaxですが,R Markdownの数式でも利用されていますし,RStudioのリアルタイムプレビュー機能もおそらくは利用されています。ということは,&lt;strong&gt;R Markdownなどに影響が出るかもしれない&lt;/strong&gt;のです。というわけで調べてみました。&lt;/p&gt;

&lt;h2 id=&#34;調査結果&#34;&gt;調査結果&lt;/h2&gt;

&lt;h3 id=&#34;rstudioの場合&#34;&gt;RStudioの場合&lt;/h3&gt;

&lt;p&gt;RStudioはbuildの際にMathJaxを組み込んでいるようです。Ubuntu版だと&lt;code&gt;/usr/lib/rstudio/resources/mathjax-26/&lt;/code&gt;にいました。きっちりと確認してませんが,Rmdファイル編集中に表示されるリアルタイム数式プレビューはlocalのを利用しているはずなので,&lt;strong&gt;おそらくは大丈夫&lt;/strong&gt;だと思います。&lt;/p&gt;

&lt;h3 id=&#34;r-markdownの場合&#34;&gt;R Markdownの場合&lt;/h3&gt;

&lt;p&gt;結論から言うと,&lt;strong&gt;影響を受けます&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;まず,html_documentをデフォルトで出力した場合,Pandocに送られる内容は以下の記事にまとめてます:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://qiita.com/kazutan/items/eb15a42607f87f57b525#15-16%E8%A1%8C%E7%9B%AE-%E6%95%B0%E5%BC%8F%E3%81%BE%E3%82%8F%E3%82%8A%E3%81%AE%E8%A8%AD%E5%AE%9A&#34;&gt;RStudioの&amp;rdquo;knit HTML&amp;rdquo;でPandocに送っている内容 - Qiita&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;このurlは,まさに最初に紹介したMathJaxの記事で記載されている,停止するCDNサーバーです。なおこれは現在のversionでも変更がないのを確認しています。&lt;/p&gt;

&lt;p&gt;したがって,&lt;strong&gt;このままですと4/30以降にknitしたRmdでは,MathJaxを標準設定のままではうまく表示されない可能性があります&lt;/strong&gt;。したがって対応を考える必要があるでしょう。&lt;/p&gt;

&lt;p&gt;なお,すでに作ってきたhtml_documentの場合はどうなるかというと,&lt;strong&gt;こちらも影響を受けます&lt;/strong&gt;。ただ,&lt;code&gt;self_contained: TRUE&lt;/code&gt;(デフォ値)にしてれば組み込まれるんで大丈夫じゃないか? と思われるかもしれません。ですが,MathJaxはself_contained: TRUEであっても直接WebのCDNから読みこむように設定してあります。理由は省略しますが,気になる方はコメントで書き込んでください。&lt;/p&gt;

&lt;h2 id=&#34;対策&#34;&gt;対策&lt;/h2&gt;

&lt;h3 id=&#34;影響する範囲&#34;&gt;影響する範囲&lt;/h3&gt;

&lt;p&gt;rmarkdownパッケージは完全に影響を受けます。あとR Markdownのテンプレートなどを提供するパッケージにも影響します。たとえば&lt;a href=&#34;https://github.com/yihui/xaringan&#34;&gt;xaringanパッケージ&lt;/a&gt;は確実に影響を受けるでしょう。&lt;/p&gt;

&lt;h3 id=&#34;基本的な考え方&#34;&gt;基本的な考え方&lt;/h3&gt;

&lt;p&gt;MathJaxは先の記事で代替となる場所を示していますので,そちらを利用するように調整すればOKです。&lt;/p&gt;

&lt;p&gt;YAMLフロントマターに,以下のような感じで追加してKnitすればOKです:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;---
output:
  html_document:
    mathjax: &amp;quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML&amp;quot;
---
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;これで差し替わります。またURLの途中にある数値(version)を書き換えてやればそれに対応したものが当たるようになります。&lt;/p&gt;

&lt;h3 id=&#34;すでに生成したドキュメントについて&#34;&gt;すでに生成したドキュメントについて&lt;/h3&gt;

&lt;p&gt;Rmdがあるのであれば,再度レンダリングするのがはやいかと。Rmdがないのであれば,サイトなどのHTMLを編集する必要があります。&lt;/p&gt;

&lt;h3 id=&#34;パッケージ側を編集する&#34;&gt;パッケージ側を編集する&lt;/h3&gt;

&lt;p&gt;rmarkdownをフォークするなりして,該当箇所を修正したもので使っていくという方法もあります。あるいはプルリクを出してそのものを変更していく,という方法もあります。&lt;/p&gt;

&lt;p&gt;ひとまず該当箇所を修正してプルリクを出してみたけど,どうなるかな…&lt;/p&gt;

&lt;h2 id=&#34;雑感&#34;&gt;雑感&lt;/h2&gt;

&lt;p&gt;てことで調べてみて行動してみたけれど,RStudioやR Markdownまわりで全然話題になってないのよ…影響ない,とは思えないんだけど間違ってるのかな。不安でしょうがないです。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>DiagrammeRのrankdirのテスト</title>
      <link>https://kazutan.github.io/blog/2017/04/dgr-rankdir-test/</link>
      <pubDate>Thu, 06 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/dgr-rankdir-test/</guid>
      <description>&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/viz/viz.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/DiagrammeR-styles/styles.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/grViz-binding/grViz.js&#34;&gt;&lt;/script&gt;

&lt;p&gt;書捨て用のメモ記事。&lt;/p&gt;
&lt;div id=&#34;rankdir&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;rankdirのテスト&lt;/h2&gt;
&lt;p&gt;データフレームからgraph attrを当てていくの，便利なようで面倒だった。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(DiagrammeR)
grViz(&amp;quot;
      digraph dot {
      graph [rankdir = TB]
      a -&amp;gt; {b,c}
      }
      &amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;grViz html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;diagram&#34;:&#34;\n      digraph dot {\n      graph [rankdir = TB]\n      a -&gt; {b,c}\n      }\n      &#34;,&#34;config&#34;:{&#34;engine&#34;:&#34;dot&#34;,&#34;options&#34;:null}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ndf &amp;lt;- create_node_df(
  n = 3,
  type = c(&amp;quot;cat&amp;quot;, &amp;quot;takayanagi3&amp;quot;, &amp;quot;takayanagi3&amp;quot;),
  label = TRUE
)

edf &amp;lt;- create_edge_df(
  from = c(1, 1),
  to = c(2, 3)
)

graph1 &amp;lt;- create_graph(
  nodes_df = ndf,
  edges_df = edf
)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning in sample.int(length(x), size, replace, prob): &amp;#39;.Random.seed&amp;#39; が整
## 数ベクトルではなくタイプ &amp;#39;NULL&amp;#39; になっているため、無視されました&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;render_graph(graph1)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-2&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;grViz html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-2&#34;&gt;{&#34;x&#34;:{&#34;diagram&#34;:&#34;digraph {\n\ngraph [layout = \&#34;neato\&#34;,\n       outputorder = \&#34;edgesfirst\&#34;]\n\nnode [fontname = \&#34;Helvetica\&#34;,\n     fontsize = \&#34;10\&#34;,\n     shape = \&#34;circle\&#34;,\n     fixedsize = \&#34;true\&#34;,\n     width = \&#34;0.5\&#34;,\n     style = \&#34;filled\&#34;,\n     fillcolor = \&#34;aliceblue\&#34;,\n     color = \&#34;gray70\&#34;,\n     fontcolor = \&#34;gray50\&#34;]\n\nedge [len = \&#34;1.5\&#34;,\n     color = \&#34;gray40\&#34;,\n     arrowsize = \&#34;0.5\&#34;]\n\n  \&#34;1\&#34; [label = \&#34;1\&#34;] \n  \&#34;2\&#34; [label = \&#34;2\&#34;] \n  \&#34;3\&#34; [label = \&#34;3\&#34;] \n\&#34;1\&#34;-&gt;\&#34;2\&#34; [id = \&#34;1\&#34;] \n\&#34;1\&#34;-&gt;\&#34;3\&#34; [id = \&#34;2\&#34;] \n}&#34;,&#34;config&#34;:{&#34;engine&#34;:&#34;dot&#34;,&#34;options&#34;:null}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;graph2 &amp;lt;- graph1 %&amp;gt;% 
  add_global_graph_attrs(
    &amp;quot;rankdir&amp;quot;, &amp;quot;TB&amp;quot;, &amp;quot;graph&amp;quot;
  ) %&amp;gt;% 
  add_global_graph_attrs(
    &amp;quot;layout&amp;quot;, &amp;quot;dot&amp;quot;, &amp;quot;graph&amp;quot;
  )

render_graph(graph2)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-3&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;grViz html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-3&#34;&gt;{&#34;x&#34;:{&#34;diagram&#34;:&#34;digraph {\n\ngraph [layout = \&#34;dot\&#34;,\n       outputorder = \&#34;edgesfirst\&#34;,\n       rankdir = \&#34;TB\&#34;]\n\nnode [fontname = \&#34;Helvetica\&#34;,\n     fontsize = \&#34;10\&#34;,\n     shape = \&#34;circle\&#34;,\n     fixedsize = \&#34;true\&#34;,\n     width = \&#34;0.5\&#34;,\n     style = \&#34;filled\&#34;,\n     fillcolor = \&#34;aliceblue\&#34;,\n     color = \&#34;gray70\&#34;,\n     fontcolor = \&#34;gray50\&#34;]\n\nedge [len = \&#34;1.5\&#34;,\n     color = \&#34;gray40\&#34;,\n     arrowsize = \&#34;0.5\&#34;]\n\n  \&#34;1\&#34; [label = \&#34;1\&#34;] \n  \&#34;2\&#34; [label = \&#34;2\&#34;] \n  \&#34;3\&#34; [label = \&#34;3\&#34;] \n\&#34;1\&#34;-&gt;\&#34;2\&#34; [id = \&#34;1\&#34;] \n\&#34;1\&#34;-&gt;\&#34;3\&#34; [id = \&#34;2\&#34;] \n}&#34;,&#34;config&#34;:{&#34;engine&#34;:&#34;dot&#34;,&#34;options&#34;:null}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;公式ドキュメントが整備されていないので手探りでやりました。早く整備しないと…。&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>blogdownのTips</title>
      <link>https://kazutan.github.io/blog/2017/04/blogdown-tips/</link>
      <pubDate>Sun, 02 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/04/blogdown-tips/</guid>
      <description>&lt;p&gt;最近まわりで何かと&lt;strong&gt;blogdown&lt;/strong&gt;パッケージが話題です。このブログも&lt;strong&gt;blogdown&lt;/strong&gt;で作成していますし,紹介する記事も増えてきました。&lt;/p&gt;

&lt;p&gt;そこで自分の中で検証して,現時点でわかったことをTipsとしてまとめてみようと思います。また新たにわかったことは別記事にでも書こうかと思います。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;blogdown入門&#34;&gt;blogdown入門&lt;/h2&gt;

&lt;h3 id=&#34;blogdownとは&#34;&gt;blogdownとは&lt;/h3&gt;

&lt;p&gt;blogdownはRを使ってblogのような静的Webサイトを生成するためのパッケージです。サイト生成には&lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt;というサイト生成アプリケーションを利用しており,これはGo言語で書かれています。&lt;/p&gt;

&lt;h3 id=&#34;hugoについて&#34;&gt;Hugoについて&lt;/h3&gt;

&lt;p&gt;このHugoの特徴としては生成処理が早く,またモダンなデザインのテンプレートがいろいろあって,すぐに実用的なものが作成可能というのがあります。&lt;/p&gt;

&lt;p&gt;またHugoの重要なポイントとして,公式ドキュメントが非常に充実していることが挙げられます。blogdownでやりたいことや行き詰まることが出たら,Hugoの公式サイトを参照するのをおすすめします:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://gohugo.io/overview/introduction/&#34;&gt;Hugo - Introduction to Hugo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;blogdownのスタートアップ&#34;&gt;blogdownのスタートアップ&lt;/h3&gt;

&lt;p&gt;blogdownがどういうものか,そして導入の方法については,すでにいい記事がありますので,以下を参照してください:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ytake2.github.io/blog2/post/blogdown/&#34;&gt;RStudioではグラブれないけど、ブログれる&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.hoxo-m.com/2017/03/29/hello-world/&#34;&gt;ホクソエムブログの作り方&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;tips&#34;&gt;Tips&lt;/h2&gt;

&lt;p&gt;上記の記事に記載されていなくて,自分の中でメモしときたい内容をいくつか。&lt;/p&gt;

&lt;h3 id=&#34;blogdownの仕組みについて&#34;&gt;blogdownの仕組みについて&lt;/h3&gt;

&lt;p&gt;ちょっと込み入った内容です。&lt;/p&gt;

&lt;h4 id=&#34;blogdownの実体&#34;&gt;blogdownの実体&lt;/h4&gt;

&lt;p&gt;blogdownは,正直&lt;strong&gt;ほとんどHugoのR向けWrapper&lt;/strong&gt;です。&lt;/p&gt;

&lt;p&gt;例えばサイトを作成する&lt;code&gt;new_site()&lt;/code&gt;は,初期値を確認・設定した上で,それらを&lt;code&gt;hugo_cmd()&lt;/code&gt;に送っています。また,&lt;code&gt;new_content()&lt;/code&gt;もhugoへ新しいコンテツを作成するためのコマンドを送っています。そしてサイトを生成する&lt;code&gt;build_site()&lt;/code&gt;は設定などを整理・確認して&lt;code&gt;build_rmds()&lt;/code&gt;へ送り,Rmdを処理したうえで&lt;code&gt;hugo_build()&lt;/code&gt;でbuildしています。この&lt;code&gt;build_site()&lt;/code&gt;のコードおよびそこからの流れはblogdownの中身を把握する上でポイントとなるので,余力があるならぜひ覗いてみてください。&lt;/p&gt;

&lt;h4 id=&#34;rmd-or-md&#34;&gt;Rmd or md?&lt;/h4&gt;

&lt;p&gt;blogdownでbuildすると,content内にあるRmdやmdがレンダリングされて,自動的に最適な形で出力先へ出てくるようになります。つまりはblog記事はmdでもRmdでもどちらでも可能でhtmlが生成されます。ただし,&lt;strong&gt;この時用いられるレンダリングエンジンがRmdとmdで異なります&lt;/strong&gt;。詳しくは&lt;a href=&#34;https://bookdown.org/yihui/blogdown/output-format.html&#34;&gt;blogdownのドキュメントのここ&lt;/a&gt;を参照してください。&lt;/p&gt;

&lt;p&gt;Rmdの場合,通常のR Markdownと同様でknit - Pandocという処理を行います。この時ベースになるoutputは&lt;code&gt;blogdown::html_page()&lt;/code&gt;で,これは&lt;code&gt;bookdown::html_document2()&lt;/code&gt;でいくつかの設定をblog(hugo)向けに絞ったものとなっています。なのでいつものR Markdownのoutputオプションを指定したい場合,以下のように指定すればOKです:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;---
title: R Markdownでの諸々のテスト
author: kazutan
date: &#39;2017-03-22&#39;
slug: rmd-test
categories:
  - R
  - R Markdown
tags:
  - R
  - R Markdown
archives:
  - &amp;quot;2017&amp;quot;
  - &amp;quot;2017/03&amp;quot;
output:
  blogdown::html_page:
    toc: true
---
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;これはこのブログの&lt;a href=&#34;https://kazutan.github.io/blog/2017/03/rmd-test/&#34;&gt;この記事&lt;/a&gt;のyamlフロントマターで当てている内容です。このような設定は,Rmdで記事を作成した場合に有効です。&lt;/p&gt;

&lt;p&gt;なお,&lt;strong&gt;Rmdで作成するとHugoがmdレンダリングで使用する&lt;a href=&#34;https://github.com/russross/blackfriday&#34;&gt;Blackfliday&lt;/a&gt;の機能などが使えない&lt;/strong&gt;という制約がつきます。なのでよくHugo関連のドキュメントで書いてあるような拡張機能が使えない場合があるので注意してください。&lt;/p&gt;

&lt;p&gt;一方mdの場合,Hugoがmdをレンダリングします。Hugoは&lt;a href=&#34;https://github.com/russross/blackfriday&#34;&gt;Blackfliday&lt;/a&gt;を利用してレンダリングしています。またHugoが提供している拡張機能もそのままドキュメントに盛り込めます。例えば,&lt;code&gt;HUGOMORE42&lt;/code&gt;は手動で「続きを読む」みたいな区切りを設定するものですが,mdファイルであればこれを差し込むことで実装できます。ただし,Rmdファイルで記事を書いた場合には機能しません。&lt;/p&gt;

&lt;p&gt;では「Rmdとmdのどっちがいいの?」と聞かれそうですが,ケースバイケースと言わざるを得ません。Rチャンクなどを埋め込みたいのであればRmd一択になるでしょうし,Blackfridayなどを利用したいのであれば,mdも選択肢になる,と言った感じでしょうか。まだ私がそこまでBlackfridayなどに明るくないのでRmdにより多くのメリットを感じていますが,そのうち機会があれば調べてみたいとは思ってます。&lt;/p&gt;

&lt;h3 id=&#34;コメント機能の実装&#34;&gt;コメント機能の実装&lt;/h3&gt;

&lt;p&gt;Hugoは静的なサイトなので,CMSで標準で実装されているコメント機能などは難しくなります。ここはシンプルに外部サービスを利用するのが楽だと思います。&lt;/p&gt;

&lt;p&gt;このブログでは&lt;a href=&#34;https://disqus.com/&#34;&gt;disqus&lt;/a&gt;という外部サービスを利用しています。詳しくは&lt;code&gt;disque 使い方&lt;/code&gt;とかでググってもらえれば,アカウント登録のやり方など解説している記事がヒットするでしょう。有償版もありますが,無償版でも使えます。&lt;/p&gt;

&lt;p&gt;blogdown(というかhugo)では割と簡単に組み込むことができます。&lt;a href=&#34;https://gohugo.io/extras/comments/&#34;&gt;Hugo公式ドキュメントのこちら&lt;/a&gt;を参照してください。多分大抵のテーマでさくっといけるはずです。&lt;/p&gt;

&lt;h3 id=&#34;出力先ディレクトリの設定など&#34;&gt;出力先ディレクトリの設定など&lt;/h3&gt;

&lt;p&gt;blogdown(というかHugo)のデフォルトは&lt;code&gt;public/&lt;/code&gt;となっています。通常のWebサーバに設置したいのであれば,単にこの中身をまるっと設置すればOKなのですが,github.ioを利用するとなると面倒です。&lt;/p&gt;

&lt;p&gt;最初の方に紹介した2つの記事では「&lt;code&gt;public/&lt;/code&gt;の中身を&lt;code&gt;docs&lt;/code&gt;にコピーして&lt;code&gt;push&lt;/code&gt;」とありますが,これも手間です。もうちょっと簡単にやる方法が&lt;a href=&#34;https://gohugo.io/tutorials/github-pages-blog/&#34;&gt;Hugo公式ドキュメントのこちら&lt;/a&gt;に記載してありますので参照してください。&lt;/p&gt;

&lt;p&gt;なお,単に出力先を&lt;code&gt;docs/&lt;/code&gt;に変更したいだけなら,&lt;code&gt;config.toml&lt;/code&gt;に以下の一行を追加してください:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-toml&#34;&gt;publishDir = &amp;quot;docs&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;またgh-pagesブランチで運用したいなら,先ほど紹介したリンク先に詳細手順が紹介してあります。多少gitの知識が入りますが,丁寧な解説なのでそれほど苦しくはないと思います。&lt;/p&gt;

&lt;h3 id=&#34;hugoでcjk対応&#34;&gt;Hugoでcjk対応&lt;/h3&gt;

&lt;p&gt;英語オンリーなブログであれば不要なのですが,日本語ベースでblogdown(Hugo)を利用するならcjk対応をさせておくほうがいいでしょう(cjkは中国語&amp;copy;,日本語(j),韓国語(k)のこと)。これを設定しておかないと,トップページなどで記事一覧を出した時,記事の要約が自動でうまく処理してくれずに面倒なこととなります。&lt;/p&gt;

&lt;p&gt;設定方法は,&lt;code&gt;config.toml&lt;/code&gt;に以下の一文を記述してください:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-toml&#34;&gt;hasCJKLanguage = true
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;その他の全体設定について&#34;&gt;その他の全体設定について&lt;/h3&gt;

&lt;p&gt;Hugoではいわゆるブログ全体設定というものがかなりたくさんありますし,拡張機能もたくさん準備してあります。詳しくは公式ドキュメントをざっと見てみてください。&lt;/p&gt;

&lt;p&gt;ただし,&lt;strong&gt;Hugoはテーマテンプレートによって設定項目がかなり変わってくる&lt;/strong&gt;のを注意してください。正直これがかなり面倒で,&lt;strong&gt;必ず設定したテーマのドキュメントをよく読んでください&lt;/strong&gt;。このブログで設定しているテーマは&lt;a href=&#34;http://themes.gohugo.io/hugo-tranquilpeak-theme/&#34;&gt;Tranquilpeak&lt;/a&gt;で,多機能でいろいろカスタマイズ可能ということで選びました。&lt;/p&gt;

&lt;h3 id=&#34;新規postはrstudio-addinで&#34;&gt;新規PostはRStudio Addinで&lt;/h3&gt;

&lt;p&gt;最近のblogdownなら,&lt;strong&gt;新規Postを準備するためのRStudio Addinが準備されています&lt;/strong&gt;。RStudioの&lt;strong&gt;Addin&amp;hellip;&lt;/strong&gt;ボタンから,&lt;strong&gt;New Post&lt;/strong&gt;を選択してください:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://kazutan.github.io/blog/img/new_post.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;このようなダイアログボックスが出てきます。基本的に必要な事項はここで設定できます。設定したら右下の&lt;strong&gt;OK&lt;/strong&gt;をクリックすれば,新規Post用のファイルが自動的に適切な場所に生成されます。&lt;/p&gt;

&lt;p&gt;なおCategoriesやtagsもここで設定できますし,これらですでに使ったことがあるものであればクリックで選択して入力していくことが可能ですし,新規で作ることも可能です。いちいち他のところで設定しなくても後でBuildした時にHugoが自動的に対応してくれます。便利です。&lt;/p&gt;

&lt;h3 id=&#34;下書き-draft&#34;&gt;下書き(draft)&lt;/h3&gt;

&lt;p&gt;上記のようにRStudioのAddinで作成した場合,yamlフロントマターに&lt;code&gt;draft: yes&lt;/code&gt;というのが自動で組み込まれているかと思います。これはまさにdraft機能で,yesなので下書きモードとなっています。&lt;/p&gt;

&lt;p&gt;下書きモードがONになっていると,&lt;code&gt;build_site()&lt;/code&gt;を実行してもその記事はサイトには組み込まれない(publicには入ってこない)ようになります。私の場合,記事を書きながらknitを実行して表示を確認し,書き終えたら&lt;code&gt;draft: false&lt;/code&gt;に書き換えて&lt;code&gt;serve_site()&lt;/code&gt;で確認するようにしています。&lt;/p&gt;

&lt;p&gt;また,記事を書いていく時に「ちょっと今さくっとどんな感じになるか確認したいな」と思ったら,&lt;code&gt;knit&lt;/code&gt;を実行してください。テーマなどは当たりませんが,チャンクが実行されてhtmlが生成され,確認することができます。毎度毎度buildしたりしなくていいので楽ちんですよ。&lt;/p&gt;

&lt;h3 id=&#34;build-site-と-serve-site-について&#34;&gt;&lt;code&gt;build_site()&lt;/code&gt;と&lt;code&gt;serve_site()&lt;/code&gt;について&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;serve_site()&lt;/code&gt;を実行するとbuildされ,RStudioのViewerペインに表示されます。実際何をしているかといういと,まず&lt;code&gt;build_site(TRUE)&lt;/code&gt;を実行し,&lt;code&gt;servr::httw()&lt;/code&gt;にてローカルサーバーを立てて表示させています。つまり,&lt;strong&gt;&lt;code&gt;serve_site()&lt;/code&gt;を実行するとLocal用にbuildして,それをローカルで表示させている&lt;/strong&gt;を実行しています。&lt;/p&gt;

&lt;p&gt;blog設定や内容にもよりますが,&lt;code&gt;serve_site()&lt;/code&gt;はあくまでローカルでの表示用にbuildしていますので,そのまま公開するとうまく表示されない場合があります。このようなことがあるので,公開用に設置する前に一度&lt;code&gt;build_site()&lt;/code&gt;を実行する手順を加えておくことをおすすめします。&lt;/p&gt;

&lt;h2 id=&#34;参考資料&#34;&gt;参考資料&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://bookdown.org/yihui/blogdown/&#34;&gt;blogdown: Creating Websites with R Markdown&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;blogdown公式ドキュメント&lt;/li&gt;
&lt;li&gt;でも全然整備されていない…つらい&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gohugo.io/overview/introduction/&#34;&gt;Hugo - Introduction to Hugo&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Hugoの公式ドキュメント&lt;/li&gt;
&lt;li&gt;非常に充実&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Getting Started&lt;/strong&gt;, &lt;strong&gt;Content&lt;/strong&gt;, &lt;strong&gt;Themes&lt;/strong&gt;のところはぜひ読んでください&lt;/li&gt;
&lt;li&gt;いろいろやりたくなったら,&lt;strong&gt;Template&lt;/strong&gt;, &lt;strong&gt;Taxonomies&lt;/strong&gt;, &lt;strong&gt;Extras&lt;/strong&gt;に手を出してください&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;その他わからないところや詰まったところがあったらr-wakalangの#rmarkdownチャンネルなどで質問するといいかも。&lt;/p&gt;

&lt;p&gt;またいろいろTipsみつけたら続編を書くかもしれません。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>R Markdownのhtml出力にスライドを埋め込む方法</title>
      <link>https://kazutan.github.io/blog/2017/03/embed-slide-into-rmd/</link>
      <pubDate>Thu, 30 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/03/embed-slide-into-rmd/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a&gt;やりたかったこと&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;成果&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;解説&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#slideshare&#34;&gt;slideshareについて&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#speakerdeck&#34;&gt;SpeakerDeckについて&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#html&#34;&gt;その他のHTMLスライドについて&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;実際の関数のコードについて&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#todo&#34;&gt;ToDo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;タイトルのまんまです。&lt;/p&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;やりたかったこと&lt;/h2&gt;
&lt;p&gt;R Markdownで解説ページをしていると，slideshareやspeakerdeck，あるいはrevealjsなどで作成したhtmlスライドを埋め込みたいと思うことが頻出しました。大抵のslide公開サービスだと埋め込み用のタグを生成してくれたりするのですが，どうも面倒に感じたため，色々調べたり実装したりしてみました。&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;成果&lt;/h2&gt;
&lt;p&gt;自分専用にコツコツ作ってきた&lt;a href=&#34;https://github.com/kazutan/zousan&#34;&gt;zousan&lt;/a&gt;パッケージに，&lt;code&gt;embed_slide()&lt;/code&gt;関数を準備しました。cranにはないので以下のようにインストールします:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# devtoolsの場合
devtools::install_github(&amp;quot;kazutan/zousan&amp;quot;)
# githubinstallでもOK
githubinstall::githubinstall(&amp;quot;zousan&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;以下のように&lt;strong&gt;閲覧用のurl&lt;/strong&gt;を渡すと，html出力した際に自動で埋め込まれます:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(zousan)
embed_slide(&amp;quot;http://www.slideshare.net/makotohirakawa3/osakastan2-chap51&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;iframe src=&#34;https://www.slideshare.net/slideshow/embed_code/key/aCQxCPihKjMxYk&#34; width=&#34;427&#34; height=&#34;356&#34; frameborder=&#34;0&#34; marginwidth=&#34;0&#34; marginheight=&#34;0&#34; scrolling=&#34;no&#34; style=&#34;border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;&#34; allowfullscreen&gt; &lt;/iframe&gt; &lt;div style=&#34;margin-bottom:5px&#34;&gt; &lt;strong&gt; &lt;a href=&#34;https://www.slideshare.net/makotohirakawa3/osakastan2-chap51&#34; title=&#34;Osaka.stan#2 chap5-1&#34; target=&#34;_blank&#34;&gt;Osaka.stan#2 chap5-1&lt;/a&gt; &lt;/strong&gt; from &lt;strong&gt;&lt;a target=&#34;_blank&#34; href=&#34;https://www.slideshare.net/makotohirakawa3&#34;&gt;Makoto Hirakawa&lt;/a&gt;&lt;/strong&gt; &lt;/div&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;embed_slide(&amp;quot;https://speakerdeck.com/yamano357/tokyor49-stringr-stringi&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;iframe allowfullscreen=&#34;true&#34; allowtransparency=&#34;true&#34; frameborder=&#34;0&#34; height=&#34;596&#34; id=&#34;talk_frame_306451&#34; mozallowfullscreen=&#34;true&#34; src=&#34;https://speakerdeck.com/player/df3979c0ad814170904106053f7073be&#34; style=&#34;border:0; padding:0; margin:0; background:transparent;&#34; webkitallowfullscreen=&#34;true&#34; width=&#34;710&#34;&gt;&lt;/iframe&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;embed_slide(&amp;quot;https://kazutan.github.io/methoken201702/Rmd_workshop.html#/&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;iframe src=&#34;https://kazutan.github.io/methoken201702/Rmd_workshop.html#/&#34; width=&#34;672&#34; height=&#34;400px&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;解説&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;knitr::include_url()&lt;/code&gt;という関数があり，この関数にurlを渡すとそのアドレスをiframeでいい感じで埋め込むように加工してtagオブジェクトを返してくるようになってます。これを応用しました。&lt;/p&gt;
&lt;div id=&#34;slideshare&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;slideshareについて&lt;/h3&gt;
&lt;p&gt;slideshareの埋め込み用コードはわりと簡単な構造をしていて，上記のひとつ目の分なら以下のようにできます:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;knitr::include_url(&amp;quot;https://www.slideshare.net/slideshow/embed_code/key/aCQxCPihKjMxYk&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;iframe src=&#34;https://www.slideshare.net/slideshow/embed_code/key/aCQxCPihKjMxYk&#34; width=&#34;672&#34; height=&#34;400px&#34;&gt;
&lt;/iframe&gt;
&lt;p&gt;ただ，実際にこれをやろうと思うと,&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;公開スライドのページヘアクセス&lt;/li&gt;
&lt;li&gt;埋め込み用のアドレスを表示&lt;/li&gt;
&lt;li&gt;それをコピー&lt;/li&gt;
&lt;li&gt;&lt;code&gt;knitr::include_url()&lt;/code&gt;内に入れる&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;…となりちょっと面倒です。特に埋め込み用のurlがkeyになっててスライドタイトルが推測できなくなる，というのが苦痛でした。そこで&lt;strong&gt;oEmbed&lt;/strong&gt;のAPIを利用することにしました。これの内容については以下の記事を参照してください:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://syncer.jp/oembed-api-matome&#34;&gt;oEmbed APIの使い方まとめ！URLから埋め込みHTMLタグを作ろう！&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;slideshareはこのoEmbedに対応しています。詳しくは以下のドキュメントを参照してください:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.slideshare.net/developers/oembed&#34;&gt;OEmbed Documentation - SlideShare&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;これを利用して実装しました。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;speakerdeck&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;SpeakerDeckについて&lt;/h3&gt;
&lt;p&gt;SpeakerDeckの埋め込み用URLは中々に面倒で，はじめからoEmbedのAPIを利用しました:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://speakerdeck.com/faq#oembed&#34; class=&#34;uri&#34;&gt;https://speakerdeck.com/faq#oembed&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ただ，これで取得したとしても中々うまく出力してくれず，試行錯誤してなんとか実装しました。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;html&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;その他のHTMLスライドについて&lt;/h3&gt;
&lt;p&gt;revealjsなどのスライドはhtmlファイルなので，普通に&lt;code&gt;knitr::include_url()&lt;/code&gt;でそのまま引き渡しました&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;実際の関数のコードについて&lt;/h3&gt;
&lt;p&gt;具体的なコードはGitHubの該当ファイルを参照してしてください:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/kazutan/zousan/blob/master/R/embed_iframe.R#L24&#34; class=&#34;uri&#34;&gt;https://github.com/kazutan/zousan/blob/master/R/embed_iframe.R#L24&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;urlを見て，slideshareのサイトならそれ用に，SpeakerDeckのサイトならそれ用にoEmbedを利用して整形してtagオブジェクトとなるようにしています。パイプ演算子つかってたりその他かなり雑ですが，今のところうまくいっているのでいいかなと。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;todo&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;ToDo&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;埋め込みのサイズ調整&lt;/li&gt;
&lt;li&gt;他のプラットフォームへの対応(リクエストと技術的にいけるなら)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>R MarkdownでWebサイト作成</title>
      <link>https://kazutan.github.io/blog/2017/03/rmd-de-website/</link>
      <pubDate>Mon, 27 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/03/rmd-de-website/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;2017/03/25に&lt;a href=&#34;https://fukuoka-r.connpass.com/event/50986/&#34;&gt;fukuoka.R #7&lt;/a&gt;にて発表してきました。&lt;/p&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;資料置き場&lt;/h2&gt;
&lt;p&gt;GitHubに当日使った資料などを置いています:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kazutan/RmdSite_tuto&#34; class=&#34;uri&#34;&gt;https://github.com/kazutan/RmdSite_tuto&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;コメント&lt;/h2&gt;
&lt;div id=&#34;r-markdownweb&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;R MarkdownでWebサイトを構築する理由&lt;/h3&gt;
&lt;p&gt;まあ色々ありますが，当日口頭でしか伝えてなかったので補足しますと…&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Rを含むコードと実行結果をそのまま組み込んで公開できる&lt;/li&gt;
&lt;li&gt;静的なサイトなので公開がスムーズ&lt;/li&gt;
&lt;li&gt;CMSばりのことができる&lt;/li&gt;
&lt;li&gt;htmlをRで生成できる(プログラマブル)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;などです。すべてオープンソースでかなりのことができる，というのは大きいでしょう。&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;必要な技術・知識について&lt;/h3&gt;
&lt;p&gt;実のところ，R Markdownの知識や技術が一通り必要です。私が考えるR Markdownのスキルマップでは最後の方に位置づけています。こう言うと「やべぇめっちゃむずかしいんじゃねぇの手を出すのやめようか…」と思われそうですが，「Bootstrap組み込んでjQuery使えるようにしてページを部品化してプロジェクトとして管理して運用する」というのを実現しようとするなら，HTML, CSS, JavaScriptなどの相当な知識と技能が求められます。これらを習得しようとするよりも，はるかに簡単に到達することができるでしょう。&lt;/p&gt;
&lt;p&gt;必須になる技術・知識は以下のような感じです:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;R Markdownの記述方法
&lt;ul&gt;
&lt;li&gt;yamlフロントマターの基礎&lt;/li&gt;
&lt;li&gt;chunkオプションの基礎&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;navbarの記述方法&lt;/li&gt;
&lt;li&gt;公開するWebサーバーへの設置方法&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;さらに以下の技術・知識があると便利になるでしょう:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cssの記述方法&lt;/li&gt;
&lt;li&gt;pandocの仕様&lt;/li&gt;
&lt;li&gt;JavaScript(jQuery)の知識&lt;/li&gt;
&lt;li&gt;htmltoolsパッケージ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;だいたいこんな感じです。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;参考資料など&lt;/h2&gt;
&lt;p&gt;基本的には，公式ドキュメントを参照してください:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://rmarkdown.rstudio.com/rmarkdown_websites.html&#34; class=&#34;uri&#34;&gt;http://rmarkdown.rstudio.com/rmarkdown_websites.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;あとは私の上記GitHubのREADMEなどで紹介している記事を適宜参照してください。もしわからないところがありましたら，&lt;span class=&#34;citation&#34;&gt;[@kazutan]&lt;/span&gt;(&lt;a href=&#34;https://twitter.com/kazutan)へメンションやDM,あるいはr-wakalangに質問を投下してください&#34; class=&#34;uri&#34;&gt;https://twitter.com/kazutan)へメンションやDM,あるいはr-wakalangに質問を投下してください&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enjoy!&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>R Markdownでの諸々のテスト</title>
      <link>https://kazutan.github.io/blog/2017/03/rmd-test/</link>
      <pubDate>Wed, 22 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/03/rmd-test/</guid>
      <description>&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/jquery/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leaflet/leaflet.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leaflet/leaflet.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leafletfix/leafletfix.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leaflet-label/leaflet.label.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leaflet-label/leaflet.label.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/leaflet-binding/leaflet.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/viz/viz.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/DiagrammeR-styles/styles.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/grViz-binding/grViz.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/plotlyjs/plotly-htmlwidgets.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/plotlyjs/plotly-latest.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/plotly-binding/plotly.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;https://kazutan.github.io/blog/rmarkdown-libs/crosstalk/css/crosstalk.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/crosstalk/js/crosstalk.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://kazutan.github.io/blog/rmarkdown-libs/typedarray/typedarray.min.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a&gt;コードと出力について&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#plot&#34;&gt;plotについて&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#htmlwidgets&#34;&gt;htmlwidgets系のテスト&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#leaflet&#34;&gt;leaflet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#diagrammer&#34;&gt;DiagrammeR&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#plotly&#34;&gt;Plotly&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;ちょっとRの出力を色々試してみたいと思います。&lt;/p&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;コードと出力について&lt;/h2&gt;
&lt;p&gt;collapseで表(data.frame)をそのまま出力。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;x &amp;lt;- iris %&amp;gt;% 
  select(starts_with(&amp;quot;S&amp;quot;)) %&amp;gt;% 
  group_by(Species) %&amp;gt;% 
  head()
x
#&amp;gt;  Source: local data frame [6 x 3]
#&amp;gt;  Groups: Species [1]
#&amp;gt;  
#&amp;gt;    Sepal.Length Sepal.Width Species
#&amp;gt;           &amp;lt;dbl&amp;gt;       &amp;lt;dbl&amp;gt;  &amp;lt;fctr&amp;gt;
#&amp;gt;  1          5.1         3.5  setosa
#&amp;gt;  2          4.9         3.0  setosa
#&amp;gt;  3          4.7         3.2  setosa
#&amp;gt;  4          4.6         3.1  setosa
#&amp;gt;  5          5.0         3.6  setosa
#&amp;gt;  6          5.4         3.9  setosa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;knitr::kable()を利用して表を出力。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;knitr::kable(x)&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;right&#34;&gt;Sepal.Length&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Sepal.Width&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Species&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;5.1&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.5&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4.9&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4.7&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4.6&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.1&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;5.0&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.6&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;5.4&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3.9&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;setosa&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;plot&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;plotについて&lt;/h2&gt;
&lt;p&gt;簡単なものでテスト。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://kazutan.github.io/blog/post/2017-03-22-rmd-test_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;htmlwidgets&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;htmlwidgets系のテスト&lt;/h2&gt;
&lt;p&gt;やってみる。&lt;/p&gt;
&lt;div id=&#34;leaflet&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;leaflet&lt;/h3&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(leaflet)
leaflet() %&amp;gt;% 
  addTiles() %&amp;gt;% 
  addMarkers(lng = 135.0000, lat = 35.0000)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;leaflet html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;options&#34;:{&#34;crs&#34;:{&#34;crsClass&#34;:&#34;L.CRS.EPSG3857&#34;,&#34;code&#34;:null,&#34;proj4def&#34;:null,&#34;projectedBounds&#34;:null,&#34;options&#34;:{}}},&#34;calls&#34;:[{&#34;method&#34;:&#34;addTiles&#34;,&#34;args&#34;:[&#34;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#34;,null,null,{&#34;minZoom&#34;:0,&#34;maxZoom&#34;:18,&#34;maxNativeZoom&#34;:null,&#34;tileSize&#34;:256,&#34;subdomains&#34;:&#34;abc&#34;,&#34;errorTileUrl&#34;:&#34;&#34;,&#34;tms&#34;:false,&#34;continuousWorld&#34;:false,&#34;noWrap&#34;:false,&#34;zoomOffset&#34;:0,&#34;zoomReverse&#34;:false,&#34;opacity&#34;:1,&#34;zIndex&#34;:null,&#34;unloadInvisibleTiles&#34;:null,&#34;updateWhenIdle&#34;:null,&#34;detectRetina&#34;:false,&#34;reuseTiles&#34;:false,&#34;attribution&#34;:&#34;&amp;copy; &lt;a href=\&#34;http://openstreetmap.org\&#34;&gt;OpenStreetMap&lt;\/a&gt; contributors, &lt;a href=\&#34;http://creativecommons.org/licenses/by-sa/2.0/\&#34;&gt;CC-BY-SA&lt;\/a&gt;&#34;}]},{&#34;method&#34;:&#34;addMarkers&#34;,&#34;args&#34;:[35,135,null,null,null,{&#34;clickable&#34;:true,&#34;draggable&#34;:false,&#34;keyboard&#34;:true,&#34;title&#34;:&#34;&#34;,&#34;alt&#34;:&#34;&#34;,&#34;zIndexOffset&#34;:0,&#34;opacity&#34;:1,&#34;riseOnHover&#34;:false,&#34;riseOffset&#34;:250},null,null,null,null,null,null,null]}],&#34;limits&#34;:{&#34;lat&#34;:[35,35],&#34;lng&#34;:[135,135]}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;diagrammer&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;DiagrammeR&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;http://rich-iannone.github.io/DiagrammeR/graphviz_and_mermaid.html#examples&#34;&gt;公式ドキュメント&lt;/a&gt;にあるサンプルから。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(DiagrammeR)
grViz(&amp;quot;
digraph a_nice_graph {

# node definitions with substituted label text
node [fontname = Helvetica]
a [label = &amp;#39;@@1&amp;#39;]
b [label = &amp;#39;@@2-1&amp;#39;]
c [label = &amp;#39;@@2-2&amp;#39;]
d [label = &amp;#39;@@2-3&amp;#39;]
e [label = &amp;#39;@@2-4&amp;#39;]
f [label = &amp;#39;@@2-5&amp;#39;]
g [label = &amp;#39;@@2-6&amp;#39;]
h [label = &amp;#39;@@2-7&amp;#39;]
i [label = &amp;#39;@@2-8&amp;#39;]
j [label = &amp;#39;@@2-9&amp;#39;]

# edge definitions with the node IDs
a -&amp;gt; {b c d e f g h i j}
}

[1]: &amp;#39;top&amp;#39;
[2]: 10:20
&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-2&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;grViz html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-2&#34;&gt;{&#34;x&#34;:{&#34;diagram&#34;:&#34;\ndigraph a_nice_graph {\n\n# node definitions with substituted label text\nnode [fontname = Helvetica]\na [label = \&#34;top\&#34;]\nb [label = \&#34;10\&#34;]\nc [label = \&#34;11\&#34;]\nd [label = \&#34;12\&#34;]\ne [label = \&#34;13\&#34;]\nf [label = \&#34;14\&#34;]\ng [label = \&#34;15\&#34;]\nh [label = \&#34;16\&#34;]\ni [label = \&#34;17\&#34;]\nj [label = \&#34;18\&#34;]\n\n# edge definitions with the node IDs\na -&gt; {b c d e f g h i j}\n}&#34;,&#34;config&#34;:{&#34;engine&#34;:&#34;dot&#34;,&#34;options&#34;:null}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;plotly&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Plotly&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://plot.ly/r/box-plots/&#34;&gt;公式サイトにある例&lt;/a&gt;から一部修正して。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(plotly)
#&amp;gt;  
#&amp;gt;   次のパッケージを付け加えます: &amp;#39;plotly&amp;#39;
#&amp;gt;   以下のオブジェクトは &amp;#39;package:ggplot2&amp;#39; からマスクされています: 
#&amp;gt;  
#&amp;gt;       last_plot
#&amp;gt;   以下のオブジェクトは &amp;#39;package:stats&amp;#39; からマスクされています: 
#&amp;gt;  
#&amp;gt;       filter
#&amp;gt;   以下のオブジェクトは &amp;#39;package:graphics&amp;#39; からマスクされています: 
#&amp;gt;  
#&amp;gt;       layout
p &amp;lt;- ggplot2::diamonds[sample(nrow(diamonds), 5000),] %&amp;gt;% 
  plot_ly(y = ~price, color = ~cut, type = &amp;quot;box&amp;quot;)
p
#&amp;gt;  Warning in structure(x, class = unique(c(&amp;quot;AsIs&amp;quot;, oldClass(x)))): Calling &amp;#39;structure(NULL, *)&amp;#39; is deprecated, as NULL cannot have attributes.
#&amp;gt;    Consider &amp;#39;structure(list(), *)&amp;#39; instead.&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;1c6c29b1898c&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;plotly html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;1c6c29b1898c&#34;&gt;{&#34;x&#34;:{&#34;visdat&#34;:{&#34;1c6cb6db3af&#34;:[&#34;function () &#34;,&#34;plotlyVisDat&#34;]},&#34;cur_data&#34;:&#34;1c6cb6db3af&#34;,&#34;attrs&#34;:{&#34;1c6cb6db3af&#34;:{&#34;y&#34;:{},&#34;color&#34;:{},&#34;alpha&#34;:1,&#34;sizes&#34;:[10,100],&#34;type&#34;:&#34;box&#34;}},&#34;layout&#34;:{&#34;margin&#34;:{&#34;b&#34;:40,&#34;l&#34;:60,&#34;t&#34;:25,&#34;r&#34;:10},&#34;yaxis&#34;:{&#34;domain&#34;:[0,1],&#34;title&#34;:&#34;price&#34;},&#34;xaxis&#34;:{&#34;domain&#34;:[0,1]},&#34;dragmode&#34;:&#34;zoom&#34;,&#34;showlegend&#34;:true},&#34;source&#34;:&#34;A&#34;,&#34;config&#34;:{&#34;modeBarButtonsToAdd&#34;:[{&#34;name&#34;:&#34;Collaborate&#34;,&#34;icon&#34;:{&#34;width&#34;:1000,&#34;ascent&#34;:500,&#34;descent&#34;:-50,&#34;path&#34;:&#34;M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z&#34;},&#34;click&#34;:&#34;function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == &#39;?viewer_pane=1&#39;) {\n          alert(&#39;To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html&#39;);\n        } else {\n          window.open(&#39;https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html&#39;, &#39;_blank&#39;);\n        }\n      }&#34;}],&#34;cloud&#34;:false},&#34;data&#34;:[{&#34;y&#34;:[12494,929,2952,4199,4539,1599,10266,919,2330,1232,4027,880,9212,1187,4744,3601,4773,891,11975,977,767,1723,5200,978,972,4753,851,1664,483,9259,570,1755,522,5457,1948,1007,5879,1847,4667,4011,1193,583,957,3478,992,1822,2386,15386,10011,742,926,7697,3219,1765,807,2387,625,4243,3985,7329,1176,882,1956,628,5249,5007,453,1443,18029,4666,767,2091,945,911,990,16754,559,516,11182,1331,2089,689,449,2764,2561,5996,1263,663,516,1084,877,14857,1404,532,3937,958,3049,1944,2756,707,1192,6837,596,1867,4743,956,635,789,1676,6324,645,625,2307,3507,7916,805,727,5281,1184,758,1574,590,2991,1238,13178,11365,1649,5534,524,943,2381,781,491,3463,5461,650,5049,901,4754,1276,719,14691,436,544,873,1846,1154,3180,865,10454,1546,14674,3811,1367,1438,766,14482,1595,639,984,10070,545,791,681,1787,13397,1233,6586,1327,4919,394,988,1691,776,452,7701,703,2537,3423,489,7687,4620,5356,5412,1768,758,990,1585,5486,4721,11218,1753,6343,552,942,765,4788,2466,707,2776,871,684,2189,6563,2719,4989,438,2235,3616,1154,893,7345,3234,1223,764,1295,946,7631,988,518,9407,627,4964,6787,7253,3404,875,1016,698,4488,7983,814,637,900,612,5453,1258,396,589,540,4928,5699,2642,2907,765,5124,706,11078,2797,1223,450,734,776,2496,1650,11856,720,2487,880,734,928,6926,2981,12713,907,17204,15486,830,987,998,1227,1100,832,631,1694,4890,613,2666,652,720,4936,607,3478,12431,1859,1928,1881,1614,1629,1919,10521,863,4373,2929,556,1112,801,1295,1781,4596,1270,17820,703,3153,2751,9827,2972,4167,1169,4457,1304,5258,3198,2147,3205,4515,4068,8736,1192,911,779,1292,1628,853,1221,3332,4347,11605,668,3385,2558,4891,764,2657,863,4175,1754,4372,3283,1248,9335,2334,884,2778,579,7978,1746,3198,5367,12364,524,833,1002,1832,1427,2041,1789,591,3428,1053,8778,778,2206,1967,1176,4956,1694,2197,709,1341,1040,14174,7412,667,1956,745,1212,3448,1727,605,9359,571,5061,11596,1656,2680,830,1551,1003,10214,932,11089,2264,3562,3997,603,2335,5946,898,3685,1655,747,10002,7423,3114,1055,3161,816,16703,599,722,830,3145,1076,2276,7810,1760,931,507,5395,17649,868,898,3311,2167,1115,8131,3710,2630,2976,1024,1837,6632,1041,1061,758,1576,2877,816,867,2016,16130,816,1367,698,3306,945,1699,1665,1065,658,3715,1279,1163,886,645,680,642,1656,736,5277,6405,2738,645,2470,1607,3370,4666,534,692,1125,503,7123,2090,1200,1662,1024,4407,5277,2266,942,732,720,4007,1263,872,2061,764,1739,5390,1052,6112,2456,2024,2707,764,1209,6727,4617,8590,901,619,1091,4455,1303,6260,8985,1446,1815,9761,5158,1133,1631,864,13994,1067,1094,2039,11116,2873,1888,749,1599,2306,3133,599,5887,1822,680,924,786,918,14103,6456,1889,702,1292,1186,526,2202,1630,758,921,972,2524,2352,872,9788,7520,1628,5544,3879,645,2459,362,491,957,3588,765,854,6419,5325,5331,6837,967,3997,949,7986,1236,2654,6805,807,540,802,660,770,1145,15395,921,12154,2001,10685,4196,918,4937,995,929,2164,3713,2464,1851,764,921,8596,421,628,786,4515,3171,758,3067,1371,1229,5204,891,776,1865,6889,1711,2565,8110,6968,414,1255,1331,1353,672,5158,918,790,5416,6378,860,3777,509,1013,2259,5922,844,6981,495,8275,12776,863,660,758,5935,1813,969,2136,2635,792,2693,789,1153,6753,1819,1273,1911,2583,595,1728,1175,1826,1200,1882,1043,8233,3298,789,1295,1295,680,4678,13632,3049,964,6277,465,920,635,1712,4241,1368,12884,1056,828,905,802,802,1819,1781,15848,605,645,1019,5285,2718,1333,2162,2309,1574,959,4229,2231,842,2425,1140,868,847,14456,1314,605,1821,1682,1033,4551,2090,3926,885,789,7500,1120,17801,4812,6680,755,526,6129,776,1915,3537,1947,1093,5154,3200,1095,5948,1754,972,1721,2478,1914,805,1684,523,1079,5207,12314,816,1767,1661,12848,4971,8237,13713,477,1640,1126,6098,609,1031,1580,1884,794,6962,15942,3786,734,9479,498,1356,1683,807,1781,12087,7475,1662,1845,2496,706,665,1695,7472,972,9234,4513,14278,1684,1377,9414,5902,627,746,852,1695,936,3097,2527,5154,718,11654,942,3037,1063,975,5839,1350,854,863,772,665,838,6667,755,1308,1625,957,5610,420,1140,710,621,3361,898,2143,612,863,930,942,466,12956,9289,2768,666,4773,472,2138,1096,5411,2048,3759,1583,10349,723,3694,1087,698,5297,3300,1114,18780,838,9376,9261,707,1761,432,15197,633,6621,450,1431,526,1609,12459,3234,900,1286,854,1588,603,660,1397,1028,1413,624,4751,2416,857,440,7199,1763,808,3984,1877,1276,2233,1914,2337,665,1580,776,1654,1750,511,1755,17433,956,4724,3999,2841,8096,432,781,2200,14017,789,6633,814,7917,7130,10079,2232,749,438,9000,4693,1251,706,728,805,1280,999,6196,395,523,605,2908,464,1882,2394,1569,17590,10754,16904,862,723,1322,857,16562,2808,533,912,2141,9005,2656,702,878,776,1238,1915,2723,878,1797,3788,660,3330,767,2325,4877,13406,569,3189,748,6904,16900,1851,12433,3535,1858,2671,1438,7805,2338,2664,1125,1772,1286,5624,956,1190,12618,14040,367,5885,4452,670,10602,1333,1048,1812,661,6465,734,847,555,2270,4547,2369,2318,844,1948,1334,4234,1322,537,6857,1824,7780,561,1632,3544,2131,877,8253,1624,8972,847,1981,2110,1073,837,9565,4958,2372,816,565,1076,752,6472,671,4868,9009,1733,1107,3207,863,910,389,7243,921,802,3209,665,984,854,1144,1363,18128,11971,7955,1063,2757,3275,625,1052,814,779,885,1644,17760,601,14247,5171,3584,411,957,1846,815,890,1050,863,709,11826,906,2196,507,5816,2551,8282,2966,4803,1020,729,1321,2976,687,596,1000,827,734,730,14667,3256,1563,1291,1842,2515,1221,1116,2392,3979,678,1076,995,2633,3247,11435,842,6685,1059,1020,7485,6139,997,12978,3170,1326,2376,1076,2631,1766,4452,1131,3478,7409,625,6928,625,1050,1008,11988,2869,2449,2867,450,5909,732,2202,1580,1151,3089,1080,2866,3874,6852,18017,1915,12608,662,1728,4951,4353,742,461,2704,2499,7836,608,2701,919,2979,2536,1338,1848,666,1043,705,886,1825,816,2242,12195,4089,825,1097,3548,1607,6286,2660,753,13811,1065,3664,1781,1013,1082,2948,696,2662,945,915,965,1080,988,1452,625,5261,958,826,791,3087,928,886,1837,791,1017,518,1557,608,3468,10457,426,723,736,1368,705,2965,602,17141,5424,662,1639,2763,1133,731,1915,5666,2954,17360,581,10071,1819,714,432,773,5598,4919,666,2529,1687,1706,828,1132,9864,11114,943,9533,7325,1269,6078,895,1885,451,1041,1210,1963,789,6030,7464,873,1662,1619,622,5125,1865,853,4702,2380,17407,644,1740,1432,800,5534,5866,2099,789,10562,1741,602,527,10572,767,895,2365,15505,1404,972,921,1007,3901,3306,2061,1610,717,430,4963,1181,3251,11068,8904,5158,2100,5014,432,802,5908,814,929,3209,4276,14638,698,871,5342,719,852,2583,8981,2612,527,3018,2833,432,4973,2679,767,4173,907,915,1819,658,7117,2267,1082,1374,481,770,648,764,658,829,2085,1358,4764,2173,3189,1996,9596,2079,666,1136,1008,670,868,3146,2635,704,939,15092,1984,570,901,880,1814,924,918,706,842,1223,4237,1662,8869,552,6478,753,846,8193,16558,814,1076,5936,1956,6418,1643,779,489,3036,4808,645,7564,5313,2383,812,2365,1063,2457,8662,814,674,942,481,5156,5376,2054,9060,891,8726,6015,6720,14323,900,18508,2612,814,4586,1751,1911,1982,1668,1431,561,10412,1314,1436,715,758,12123,1240,1830,2724,6720,1819,12252,7701,436,3710,1630,10368,1013,1142,1814,2194,790,479,609,9596,4536,1065,698,595,992,9973,3461,3440,597,2090,5165,14308,645,11951,766,678,1433,3107,692,5867,1239,421,3549,6095,1698,688,1116,716,1939,605,1424,3881,521,942,2414,7721,1318,4719,12035,9251,9870,672,452,1385,877,918,1301,1577,1422,1195,790,4783,11419,5600,3615,789,886,459,6084,11840,8574,2960,12743,802,4325,1666,1793,15874,914,2693,1079,3373,1679,1418,4585,5887,884,12400,7209,1844,4221,2307,10738,1779,3248,942,14494,1104,8763,898,1087,1904,1720,9301,12009,6683,3321,15785,4553,905,9290,540,1359,1180,422,2909,8097,3585,753,1548,2612,1558,901,9408,789,630,8305,4925,820,4678,5395,4374,6426,2264,1557,7990,17555,5911,14616,625,2633,1094,658,6049,4478,432,863,1813,16147,13474,6209,5763,658,545,603,15124,438,3802,515,4357,3635,1063,10471,5888,1096,934,791,789,985,1612,1247,645,2120,1864,9257,4229,684,7820,931,14452,1660,1985,3299,1993,10145,2227,970,1129,4630,624,5550,670,707,18571,1619,2029,1007,8014,5911,522,464,9193,756,4162,673,570,2746,1123,2704,765,1928,1205,1332,975,6225,4191,514,844,4423,4676,1818,1832,3423,2146,2851,1698,1435,2234,837,1741,505,854,5206,4034,1235,787,738,872,3171,794,9444,2652,692,4397,716,8093,7063,1061,3397,5555,1752,950,12081,8479,2026,9587,561,1397,2016,1949,2066,1433,984,489,680,3864,1743,576,16224,1080,2513,1044,8620,1073,2354,5099,8231,11105,1094,2283,982,4277,1608,14725,8852,954,1368,1423,2487,6095,532,911,942,1963,10071,13171,6259,5798,836,1798,918,4854,868,2301,1105,10728,988,2706,2490,6183,9007,4642,3081,5509,2788,918,1840,14474,5321,709,1665,4536,4383,4283,1668,6479,17659,2068,1419,1815,1605,11437,895,10763,3442,8449,7629,626,5167,746,10137,5863,583,781,773,844,1153,4492,11428,917,1974,3745,5768,842,522,18312,649,705,2129,12958,565,645,734,658,756,2581,1721,10268,1608,3027,11419,2160,15301,4702,907,426,579,571,3710,3352,6190,505,686,1223,6468,2677,5278,878,1061,975,5562,1878,854,1689,2270,2208,2963,3215,766,1835,1591,789,759,2529,1682,529,639,1048,723,644,1007,643,2805,1148,669,538,952,2895,491,6891,1842,5220,5338,5393,3284,1021,954,5539,902,2426,694,1343,929,904,3183,2947,1442,1377,777,625,2973,11172,6760,2197,1214,1994,1343,3181,16789,773,1367,651,2409,4401,924,1300,593,6146,556,10333,4469,1783,776,820,6774,2551,4797,765,15776,8758,8158,475,1684,2995,947,716,929,2901,4983,1431,765,1720,14744,18050,4313,2232,938,1221,2850,2867,7491,854,4692,2822,628,14505,1982,12153,1845,965,3816,806,3858,6088,6303,1560,1662,716,628,3758,1066,1082,1153,3763,614,421,599,613,891,13234,733,8556,2242,8954,2701,1401,11019,8824,15974,1008,886,16507,4523,740,974,13809,502,2283,6469,420,1981,956,6653,1698,3135,648,914,6887,657,765,872,2531,3499],&#34;type&#34;:&#34;box&#34;,&#34;name&#34;:&#34;Ideal&#34;,&#34;line&#34;:{&#34;fillcolor&#34;:&#34;rgba(253,231,37,0.5)&#34;,&#34;color&#34;:&#34;rgba(253,231,37,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;y&#34;:[5363,9909,1637,833,6344,1546,15808,13009,740,2536,9757,4636,1754,2355,8997,18252,802,1243,1073,1991,591,9293,544,12242,6129,3317,680,17262,8820,9762,2331,576,410,2398,2737,13250,4808,5532,2311,3782,6256,957,6108,4435,4677,1650,7812,8058,895,4872,4974,765,2842,827,4197,3985,12968,6397,2776,10874,13991,1944,4295,7144,2550,3963,14188,608,14386,1153,2055,4558,3360,6838,17938,5434,6544,737,999,1007,1261,5751,3774,1994,8480,1838,1110,7722,3599,10577,14844,15977,1323,4972,2268,14982,2927,8930,732,18371,6333,12069,17999,2801,1710,10905,805,2060,3754,983,2866,5547,10219,3850,8747,2926,9789,1308,2789,3377,6468,2982,3864,2398,15920,2160,2658,5184,684,630,1698,1624,4326,9205,1021,6097,940,9551,649,2047,18166,4974,1050,4441,4366,5717,5096,1059,6352,719,1200,966,3508,15897,2250,6350,6021,765,5082,3634,601,7220,1383,866,4725,5278,5396,3749,855,557,1338,992,13477,668,1152,608,5344,7235,17436,1279,3482,675,2376,544,4318,8870,802,7550,911,14543,942,3091,3544,3899,9580,16075,523,1733,4953,4256,10625,3387,11415,803,3303,11646,961,14939,18423,506,5809,4672,8752,9847,680,605,961,737,2592,718,683,1219,876,1067,1007,14982,16857,593,5701,18342,1414,13811,8924,3898,1123,776,6037,4571,928,852,4497,982,1015,816,4416,1654,776,5436,12342,773,16499,9769,548,1112,866,2622,1056,17265,5329,16232,13813,957,4770,698,2371,10010,8718,1082,4719,926,945,4077,10688,2268,6702,758,6856,1760,8426,8163,759,668,984,789,737,596,4045,683,1817,5192,5050,1369,6446,5600,10797,10111,2389,1935,6154,14411,6202,1167,11899,421,12963,868,5690,3779,954,12052,765,1712,10433,2763,3018,978,5305,6670,5166,1815,5299,3101,4385,855,743,3545,8524,1064,2782,975,2825,1046,965,5204,1848,1040,3045,3407,1569,730,765,5088,14490,593,606,900,854,4385,7032,9157,4522,3942,334,4172,6328,2245,630,5606,769,2381,877,1138,880,540,2065,8512,2815,2388,1579,2167,4246,12681,3431,692,1915,1993,6442,13831,4692,1774,367,3822,4155,1781,852,1566,13157,709,628,14071,4672,473,4162,5544,4853,4334,917,1646,1073,17228,743,776,12338,2479,8333,1263,2415,743,4573,3040,5758,2579,725,10907,4953,8743,5458,1385,18117,1683,1016,5996,6316,3478,810,2513,10962,15991,9548,2350,4410,749,5599,9003,4164,5569,1249,2743,743,969,4191,421,596,1013,473,11360,6787,4460,10874,689,855,675,945,9081,3704,3898,2310,769,984,15169,720,1080,2393,4062,3607,6140,810,459,8669,2519,7459,3266,4743,5088,1153,1007,1637,558,3133,11621,3294,6790,907,5405,689,1857,7302,3913,6589,8693,523,4347,2202,723,5706,968,767,1007,1904,4472,1024,992,2369,3599,4007,1845,5839,12098,1760,3024,4561,1828,4044,4196,7557,13930,2492,2386,11428,1736,1444,648,4088,2753,698,4827,1559,5005,8176,4444,2961,6863,1115,3091,580,1286,12048,3084,898,894,1020,6256,14574,5134,4155,2648,11825,1061,4892,4717,4284,4064,977,583,4082,5294,18279,6403,1654,5292,1595,3062,2832,6702,14488,802,4498,4788,5963,4077,4749,1000,675,6097,658,1846,1173,650,3492,954,6562,11654,982,625,10758,7240,8879,816,13400,4872,1709,4379,6048,14763,1243,956,5832,2394,1024,979,7802,2962,10580,1777,3841,1443,2683,5821,4768,12196,776,4989,8467,830,8030,13320,4601,1668,7455,776,835,4838,5876,5950,8936,5236,2320,788,5631,15818,1819,5412,2826,833,12576,3740,5266,2049,4764,9450,5799,882,2512,5677,965,11113,2661,480,4987,11360,3574,941,14925,3024,3730,2789,537,6194,1607,15323,5488,2401,2706,3675,1619,6169,1851,10809,1845,7472,1687,14352,1094,1121,2317,9016,6177,3414,1910,9471,790,2857,1080,7328,3904,3174,1013,2435,668,2441,16975,540,18179,1413,3016,3984,3642,7392,4965,4662,1372,5292,4513,724,18291,9779,1838,3889,1123,1113,7757,4118,5039,4248,11188,761,5055,5250,3685,1125,9697,447,10080,833,1821,1814,3675,840,4160,802,7848,802,5407,3662,2207,1966,4879,5717,544,9716,4949,11255,1415,5555,16340,752,18295,780,6499,1024,5292,3682,5701,11233,5186,2520,13574,8113,4725,625,5292,11037,3342,698,544,2797,765,4855,591,1073,1122,2524,816,7755,15217,5156,2753,1173,5167,4830,4059,12891,1114,7005,765,4751,2100,2386,3618,14330,7780,894,4627,1020,6694,675,1636,400,6210,5008,1040,4418,18034,1089,2153,1948,1076,16137,2329,14947,4524,7338,3975,3082,7485,1013,1838,2203,1307,17554,1002,1760,3579,12707,911,9120,5410,5044,1915,1940,2394,11329,2867,5096,7133,829,4830,4650,1125,2698,7358,3528,7553,2777,4639,1088,2378,9275,612,4249,1103,1356,2403,7573,802,4197,10222,1875,5774,8596,7560,1827,1061,957,984,5666,1073,651,7604,1202,1286,3387,626,10499,968,8518,726,4486,5756,9664,791,5373,836,7816,1026,594,576,5556,4530,3082,936,2309,14961,1013,874,10687,6165,11263,7800,574,4471,4331,7602,6319,4233,561,855,4704,984,15520,828,14844,3323,854,1280,789,1071,2838,16960,3226,4991,734,2501,720,4879,3205,2169,2295,14224,552,4065,1078,928,8722,1443,953,14108,7404,8456,1181,942,2536,2777,1723,10164,2856,1349,15543,13556,540,1195,4278,9173,7340,2862,475,2401,1593,608,1235,876,710,1629,4437,574,623,13365,746,1095,1645,2331,4242,3587,7812,11048,14192,5466,6124,1273,4514,6271,3813,5226,1438,2822,8688,765,9188,3135,952,3326,2961,5280,14410,4854,1017,403,2169,1112,12308,1556,2155,3545,2399,4052,11437,5535,1013,5821,882,6160,720,776,849,1436,2239,4381,9970,4771,1061,4735,5458,596,8040,968,2234,4297,7353,5202,2328,770,719,9858,686,6056,4372,932,1159,5080,6947,12492,7989,5927,7441,1091,788,919,4102,956,3300,507,1662,4138,11113,1977,4138,3365,2482,540,3652,832,10963,2817,8445,1069,15837,5250,1752,5058,964,1116,5556,4933,2817,3450,2753,4387,1766,720,12794,15312,756,1153,4816,3291,1052,6468,4032,3058,5744,18522,558,9225,2354,4694,18735,14855,5457,789,5268,5320,7507,14451,2862,11520,720,2391,1940,864,5544,668,2671,13333,434,1602,2683,7056,1113,2760,8640,5089,740,3271,4701,6963,6639,1081,3992,1053,4038,675,5466,2735,1011,13307,4871,6215,2956,7816,2391,3701,5645,666,791,2870,3984,2052,4862,772,6685,984,579,2777,7759,4113,4559,1068,9025,17835,4873,3062,2268,926,726,1819,2088,2447,461,2994,571,3282,6355,7532,15475,5557,4047,14156,4459,868,6290,10494,6027,6441,10483,3665,975,4328,7421,3047,1431,982,4209,626,4878,2364,3016,16049,3218,12341,3349,6458,2515,5949,6532,1650,1813,828,5656,540,8590,2306,1016,6140,645,844,9216,5741,2999,557,1699,16709,1758,1582,14375,15426,874,12454,1063,489,1061,2657,18359,1651,488,1624,3276,669,4082,14952,2699,4113,9550,2822,4958,5704,5822],&#34;type&#34;:&#34;box&#34;,&#34;name&#34;:&#34;Premium&#34;,&#34;line&#34;:{&#34;fillcolor&#34;:&#34;rgba(93,200,99,0.5)&#34;,&#34;color&#34;:&#34;rgba(93,200,99,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;y&#34;:[4114,5014,3563,4286,2263,591,4064,16442,402,1861,2070,1786,11823,3084,388,2310,4624,3923,1397,3580,2335,4082,2039,605,7371,882,4989,10800,827,1773,11189,3787,12100,11379,4580,1316,402,7125,11792,3476,845,5701,5902,1959,3053,9053,1446,1128,1414,795,2737,1590,1233,924,5049,6642,8575,746,926,1443,4438,4503,10130,485,621,4540,5175,1415,755,11190,6795,4304,658,602,1550,560,5335,6070,4173,1237,4633,5411,688,7432,12862,533,4348,5752,1234,4898,834,753,2130,859,500,5000,8475,2442,8315,9246,2278,2335,15694,789,2910,2528,790,2598,792,14403,17772,6694,6628,3332,878,462,524,921,904,597,2145,4481,6447,2617,408,6593,1629,650,16582,4307,873,530,9740,11153,707,4711,5259,2198,2925,7040,5930,645,707,4422,840,1754,3655,6458,792,3452,4476,2178,1662,991,2794,2803,5351,886,10165,627,3936,579,2704,2170,689,7453,1027,610,661,2601,5455,698,2433,10730,1632,819,14527,1599,3812,1004,729,982,3700,749,954,14639,2512,2482,645,2177,924,909,3023,3977,13923,13622,6931,848,12098,12906,11176,3258,3461,608,548,3603,631,3997,522,1350,2961,1648,2565,1438,17247,847,3243,2005,446,2437,6139,1817,1931,12768,3726,2585,844,1250,5002,2726,680,526,2196,561,1199,9557,4580,9343,4588,879,453,7365,775,2715,2925,6022,752,7113,2701,630,1436,14792,5142,3497,805,5294,6867,13970,633,1122,2972,1010,1358,3378,3432,1309,1155,765,2793,526,2338,2462,4830,1720,18236,9168,1653,18430,16988,7416,5789,4060,6793,6825,3288,808,4852,2431,1013,3723,1569,620,4022,5018,1689,642,6386,2062,684,5132,1308,921,6525,1913,4348,2593,978,14341,17203,8870,2513,6776,866,675,1338,1106,4193,525,2682,8795,4157,788,871,3888,1013,6289,13225,597,2164,526,6917,3975,1368,13630,3001,1116,921,605,1442,434,472,6152,13945,2251,645,3394,6530,2492,1875,865,4119,5416,1066,4284,4200,8291,2175,851,485,11161,1049,1892,9804,6441,4185,807,7147,2066,942,1425,1080,1152,2035,11352,5518,683,1331,4997,2952,9237,5513,4640,2200,1255,2862,1244,10822,956,1715,2496,4303,904,957,5628,1795,544,2406,2563,1662,1112,792,668,2675,17153,4400,5939,2812,471,2671,2168,3563,2744,798,6710,435,631,579,2482,6480,14936,11764,8561,3580,6497,1408,1186,6043,12648,2904,863,3481,643,1561,423,4045,4332,2939,827,452,1968,2394,686,11946,5633,2549,882,1736,439,574,16169,3088,787,1333,4337,801,575,1859,1429,3127,5257,13379,1781,2573,430,2753,575,1812,2234,4608,2238,3762,2617,516,2584,3379,790,4637,755,3664,4620,5929,2390,4821,11146,526,4260,5000,694,2326,5291,6350,15083,5371,2359,7412,421,1717,737,4398,10654,6159,14256,7677,666,4899,452,666,14842,647,11557,429,16462,3125,1408,1629,3459,605,6064,5192,3228,3018,944,8596,1122,3816,730,2377,446,7350,2923,1906,5042,1786,4916,2930,4419,537,876,767,8637,2114,1657,7092,710,7031,9885,14028,2218,620,1774,1254,1583,1154,10112,3880,5107,1975,1041,4437,1214,8227,800,4588,2386,3070,9965,5598,3261,10428,789,419,434,3234,1331,7312,1644,12401,545,892,4769,647,7418,773,14482,15086,1715,8358,470,641,1776,608,504,525,752,926,4823,844,4692,6301,2345,2749,1015,963,707,4032,8415,7725,3002,1180,6189,14763,823,1023,807,16111,581,530,4468,2395,6387,10029,700,16811,1647,7481,967,3099,2228,1404,15424,3763,828,2334,4826,2745,1445,15225,18489,1261,732,506,3334,6239,1034,6559,18557,2070,4904,2564,3207,648,3603,4539,1066,5260,4291,8415,636,776,5988,877,1030,2652,3881,575,8058,4586,4892,3964,402,13001,6288,3489,2283,12141,3618,2575,681,487,2035,3584,613,5224,1080,4384,8758,4959,7141,2904,766,4957,596,1979,1129,552,1326,1675,3314,6047,3324,2021,518,1392,16294,8361,7171,17425,5361,5491,4009,2860,2697,12874,710,4304,5122,754,380,6987,579,566,540,3235,452,920,12998,524,17138,10727,1436,4653,552,429,3211,3549,3884,1436,2243,1160,2405,16914,1197,2240,1265,1760,7010,3787,1625,4235,10873,4939,16613,722,612,2517,1143,505,666,2557,705,1261,1598,4432,1926,4320,622,1351,2999,1989,1217,402,576,1676,12005,665,1374,18281,1239,866,17952,1193,477,605,2843,1659,1044,1320,5815,1637,9243,790,3170,6632,1106,1173,1006,1561,1007,551,6098,484,4309,4037,701,2293,5072,1778,900,3495,17019,14066,4059,6887,753,8089,4208,689,2668,5698,3158,18803,5543,8525,4098,672,672,625,675,2171,3816,2147,1426,962,2921,5019,11475,561,8893,570,3810,651,855,3160,3569,15658,2993,1295,5073,517,3994,11133,399,5759,5627,3795,11537,6517,5040,6892,707,6546,1641,16092,8184,13152,2929,477,2320,4712,6031,5597,445,7975,11631,505,548,6183,2569,1379,3965,835,5733,9451,1712,4010,10915,866,3014,925,591,3033,619,530,3472,4430,1995,12084,5461,5759,2745,2513,789,1986,1972,7539,909,15249,6806,5593,2206,1778,7532,2670,9972,2885,2066,533,2095,906,536,3992,944,1716,827,15851,4560,4118,16286,5598,7985,1983,4316,4717,1749,661,2055,526,725,4443,7415,920,10424,8553,2437,3752,7281,1014,5140,12196,656,4707,1628,3726,431,3644,3369,7006,774,3494,5102,4276,1623,3570,2591,3045,7695,868,4842,605,5393,7743,4188,737,8020,6120,10051,591,3833,11216,3880,1938,775,818,4960,2270,7267,4316,5082,544,2708,16728,15649,905,2400,4996,4158,2246,608,3882,5600,2591,583,2642,6449,2905,5832,500,2475,2274,1640,6666,1237,11025,10947,1247,907,2677,3131,2264,2368,573,14217,2125,1896,10255,869,4186,610,13631,3203,2428,3365,421,2310,1592,504,2443,1657,10973,2246,5600,2444,15848,14931,738,499,640,1715,11406,4876,4769,4092,596,3644,530,720,8442,854,4162,5883,732,4788,16422,651,5553,3760,8437,723,2396,6125,4373,3903,766,948,5302,680,832,487,742,1197,3499,2905,1867,394,6704,990,6162,15444,2137,14275,584,8564,6130,2236,675,3668,4581,1966,6075,4186,590,6097,6563,4211,6652,3205,2513,1337,6399,3008,5497,4816,9033,792,561,555,432,4135,6564,17530,754,10329,6803,6071,2519,755,2540,3314,5940,8537,4325,1742,5192,8391,675,2539,1063,500,3903,1973,1049,4961,3275,9704,544,3596,904,4239,2184,2737,551,6911,2763,1918,3586,10314,5456,608,1401,625,6103,4108,4284,575,3226,4218],&#34;type&#34;:&#34;box&#34;,&#34;name&#34;:&#34;Very Good&#34;,&#34;line&#34;:{&#34;fillcolor&#34;:&#34;rgba(33,144,140,0.5)&#34;,&#34;color&#34;:&#34;rgba(33,144,140,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;y&#34;:[2033,1140,2974,7501,3734,1748,4268,17151,2964,707,1397,3954,8108,3775,4712,4710,473,403,5543,3465,3701,4020,2253,3282,638,4318,4315,3993,1882,537,675,5646,2053,8736,3676,5951,830,1088,959,5146,552,1697,2525,1163,1561,6335,1422,1269,2680,567,3584,4135,5272,4381,446,3018,5251,8780,1778,9954,1172,4851,11554,442,8282,5497,2788,467,544,3193,507,15618,671,3880,5927,625,492,4054,596,3597,2088,3931,599,732,7314,4140,5601,3909,605,6882,776,4054,8099,476,1172,2447,3555,4276,802,489,1799,3959,662,4588,2777,645,565,5147,3744,600,1061,738,3838,4427,3743,11182,7519,4138,571,574,3569,7059,1155,576,4238,653,409,5597,684,17497,3948,755,3192,1214,711,705,3291,2370,12467,3756,9451,5082,3139,2549,2699,2144,2853,1227,2226,18541,2137,1056,1760,462,11746,4368,7741,2065,3696,1037,4265,2608,1155,867,2649,820,3477,1120,720,14426,9581,14998,5575,605,1023,3398,5055,1244,3780,4242,432,4095,593,6440,588,1625,858,3284,5899,986,5701,5232,490,6189,491,4201,1242,10164,9336,1764,5819,3941,2569,2079,492,5141,1662,1951,1635,597,3918,4712,4468,882,3116,892,616,9620,1170,4321,1771,722,9702,1280,9069,351,2577,612,739,1299,3577,616,15287,3880,606,4992,2606,8951,1268,1929,889,5829,505,6429,5096,717,1033,7177,1132,6288,6187,13587,4204,1750,3001,462,6315,4668,8742,489,2772,7260,9784,684,15587,6474,7722,7154,4369,1976,1922,1000,7572,4435,15081,3980,3752,1818,3139,9774,776,2074,605,6223,421,1318,681,5701,2305,2008,2435,6936,491,3342,2331,10000,8190,1712,1436,1144,10696,16036,3823,2215,1674,6703,7556,2109,1363,6279,4702,882,12283,7815,4210,2234,2451,1565,721,4488,1307,2401,15919,7304,18468,11818,3196,5331,3312,2058,904,597,963,5449,4309,2363,9069,773,981,4004,435,760,2620,4611,12117,2685,878,4158,7303,16304,2096,3470,6088,1660,910,4717,14042,3734,570,1841,1678,2074,1101,719,696,394,724,2827,9122,5765,4646,7666,6364,849,1914,2016,2393,10937,1150,2441,1607,923,842,2111,3952,2311,4620,6080,4381,1060,14426,632,6025,3061,9234,4187,4989,626,4129,8778,1365,4452,3512,2143,1361,646,2226,477,3105,4744,4967,3669,1964,4194,4190,4672,1341,11400,3886,1728,621,526,3277,489,7370,4108,8854,4218,4743,1436,473,4493,4179,462,524,4727,8780,2184,12319,10664,1845,1258,13919,2855,826,622,4381,2268,561,1218,18069,644,4469,1863,3611,2020,4124,3916,3074,9405,4326,3344,6499],&#34;type&#34;:&#34;box&#34;,&#34;name&#34;:&#34;Good&#34;,&#34;line&#34;:{&#34;fillcolor&#34;:&#34;rgba(59,82,139,0.5)&#34;,&#34;color&#34;:&#34;rgba(59,82,139,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null},{&#34;y&#34;:[6147,1631,15827,11102,4860,11202,3170,7214,4328,10553,2717,1789,1138,2757,3387,1712,956,3387,3160,593,4758,13853,1949,6596,10577,3540,2129,2318,3871,2334,1001,17995,1410,8666,12907,3175,12787,6353,3403,6597,7083,3689,3276,2144,1415,2035,1437,2974,1430,4791,13370,1792,3187,2131,1138,4516,3700,5673,798,7644,7056,6397,3564,2297,2996,2724,3326,2867,3226,2964,3669,3633,3304,893,3278,11263,5027,4004,16386,3763,5096,5919,4441,1446,6250,12633,1102,5074,3916,11739,2856,1974,829,630,7139,5801,10711,4375,1066,3631,919,3250,1770,3011,13764,4765,4482,1956,640,584,6272,3780,6221,15282,4984,2575,4368,992,1932,1002,536,2686,2278,2942,1712,7727,2280,3407,2352,4646,2396,5628,5554,3288,4704,1389,2167,3332,14799,4925,3167,3136,2317],&#34;type&#34;:&#34;box&#34;,&#34;name&#34;:&#34;Fair&#34;,&#34;line&#34;:{&#34;fillcolor&#34;:&#34;rgba(68,1,84,0.5)&#34;,&#34;color&#34;:&#34;rgba(68,1,84,1)&#34;},&#34;xaxis&#34;:&#34;x&#34;,&#34;yaxis&#34;:&#34;y&#34;,&#34;frame&#34;:null}],&#34;highlight&#34;:{&#34;on&#34;:&#34;plotly_selected&#34;,&#34;off&#34;:&#34;plotly_relayout&#34;,&#34;persistent&#34;:false,&#34;dynamic&#34;:false,&#34;selectize&#34;:false,&#34;opacityDim&#34;:0.2,&#34;selected&#34;:{&#34;opacity&#34;:1},&#34;ctGroups&#34;:[]},&#34;base_url&#34;:&#34;https://plot.ly&#34;},&#34;evals&#34;:[&#34;config.modeBarButtonsToAdd.0.click&#34;],&#34;jsHooks&#34;:{&#34;render&#34;:[{&#34;code&#34;:&#34;function(el, x) { var ctConfig = crosstalk.var(&#39;plotlyCrosstalkOpts&#39;).set({\&#34;on\&#34;:\&#34;plotly_selected\&#34;,\&#34;off\&#34;:\&#34;plotly_relayout\&#34;,\&#34;persistent\&#34;:false,\&#34;dynamic\&#34;:false,\&#34;selectize\&#34;:false,\&#34;opacityDim\&#34;:0.2,\&#34;selected\&#34;:{\&#34;opacity\&#34;:1}}); }&#34;,&#34;data&#34;:null}]}}&lt;/script&gt;
&lt;p&gt;ひとますはこの辺で。だいたいいけそうです。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>ブックレビュー「Rによるスクレイピング入門」</title>
      <link>https://kazutan.github.io/blog/2017/03/book-r-scraping/</link>
      <pubDate>Wed, 22 Mar 2017 00:00:00 +0000</pubDate>
      
      <guid>https://kazutan.github.io/blog/2017/03/book-r-scraping/</guid>
      <description>&lt;!-- BLOGDOWN-HEAD --&gt;
&lt;!-- /BLOGDOWN-HEAD --&gt;

&lt;!-- BLOGDOWN-BODY-BEFORE --&gt;
&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a&gt;本書の構成と全体的な印象&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a&gt;構成&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;全体的な印象&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;早く手にしたかった理由&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a&gt;スクレイピングから位置情報を取得・可視化&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#api&#34;&gt;APIを叩いてデータを取得&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a&gt;さいごに&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!-- /BLOGDOWN-BODY-BEFORE --&gt;
&lt;p&gt;著者の方より，標記の書籍をご恵贈いただきました:&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;ja&#34;&gt;
&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;
著者の方より「Rによるスクレイピング入門」 &lt;a href=&#34;https://t.co/XrLvK1QrjJ&#34;&gt;https://t.co/XrLvK1QrjJ&lt;/a&gt; をご恵贈いただきました。私が苦手なWeb技術の基礎や，APIの実践など，本当に貴重な情報と豊富なコード実例が盛り沢山で素晴らしいの一言です。ありがとうございます! &lt;a href=&#34;https://t.co/kLTsm33MkD&#34;&gt;pic.twitter.com/kLTsm33MkD&lt;/a&gt;
&lt;/p&gt;
— kazutan v3.3.3 (&lt;span class=&#34;citation&#34;&gt;@kazutan&lt;/span&gt;) &lt;a href=&#34;https://twitter.com/kazutan/status/844041232326254592&#34;&gt;2017年3月21日&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;p&gt;上記ツイート内に記述したのですが，非常に素晴らしい本です。著者の4名には日頃からRに関してお世話になっていて，よく公開されている資料を読んでは自分でスクレイピングやAPIを叩いたりしていました。&lt;/p&gt;
&lt;p&gt;ただ，本音を言うと，&lt;strong&gt;もっと早くこの書籍を手にしたかった&lt;/strong&gt;です。&lt;/p&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;本書の構成と全体的な印象&lt;/h2&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;構成&lt;/h3&gt;
&lt;p&gt;この書籍は6章編成となっています。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CHAPTER 01 ウェブスクレイピングの準備
&lt;ul&gt;
&lt;li&gt;R, RStudioの導入とデータハンドリングの基礎。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;CHAPTER 02 ウェブ技術の基礎
&lt;ul&gt;
&lt;li&gt;HTMLの基礎からXPATH, XML, JSONからHTTPプロトコルから認証といった，&lt;strong&gt;Web技術に関する基礎をRを使って説明するという画期的な内容&lt;/strong&gt;。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;CHAPTER 03 ウェブスクレイピング・API入門
&lt;ul&gt;
&lt;li&gt;比較的簡単な課題を用いて，実際にスクレイピングを実施したりAPIを叩いたり。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;CHAPTER 04 ウェブスクレイピング実践
&lt;ul&gt;
&lt;li&gt;ブログから情報抽出，抜き出したJSONから変換，そして&lt;strong&gt;ログイン認証が必要なサイトへの対応&lt;/strong&gt;などかなり実践的な内容。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;CHAPTER 05 API実践
&lt;ul&gt;
&lt;li&gt;e-StatやGitHubといったより実践的なAPIの利用と，そのデータの活用が解説。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;CHAPTER 06 オープンデータの活用
&lt;ul&gt;
&lt;li&gt;実際に公開されているオープンデータについて，紹介も含めデータ取得と整形および活用を紹介。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;思ったよりもコンパクトな書籍で全体的なページ量もそこまで多くありません。そして&lt;strong&gt;コードと実行結果がたくさんあります&lt;/strong&gt;。また第2章が最も分厚く，その次に第5章が多めです。&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;全体的な印象&lt;/h3&gt;
&lt;p&gt;まえがきにもあるのですが，この本は1章と2章の基礎編と，3章以降の応用編と明確に分かれています。そして&lt;strong&gt;この本を決定的に特徴づけるのは2章&lt;/strong&gt;だと私は考えます。&lt;/p&gt;
&lt;p&gt;スクレイピングと聞くと「豊富な実例やテクが大事!!」と思われますが，Webに関する基礎的なお話が理解できないと，いざ自分がやろうとした時にあっという間に止まります。書籍に何度も出てきますが，&lt;strong&gt;Webサイトの構成やAPIの仕様はもうバラバラ&lt;/strong&gt;で，それぞれで対応しないといけないことがたくさんあります。そのためにはドキュメントを読まなきゃいけないのですが，Web技術の基礎がなければお手上げです。私もこれまでこんな感じで，その度に解説資料などを読んでいきましたが，Web関連技術なんて雰囲気でやってきた私にはハードルが高くて何度も泣いてました。&lt;/p&gt;
&lt;p&gt;ところがこの書籍は「&lt;strong&gt;Rのコードを実行しながら学ぼうじゃないか&lt;/strong&gt;」と提案してくれるのです。感動です。またこの2章で説明したり使っているパッケージや関数がそのまま3章以降の実践でも活躍します。非常に綺麗な流れでスムーズに学べるなと思いました。&lt;strong&gt;もっと早くこの書籍を手にしたかった&lt;/strong&gt;です。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;早く手にしたかった理由&lt;/h2&gt;
&lt;p&gt;さっきからしつこく言っている理由ですが…ようするに毎度苦労しながらやってきたからです。&lt;/p&gt;
&lt;div class=&#34;section level3&#34;&gt;
&lt;h3&gt;スクレイピングから位置情報を取得・可視化&lt;/h3&gt;
&lt;p&gt;3章や4章あたりにあるこの流れですが，以前こんなことやってました:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://rpubs.com/kazutan/typhoon&#34;&gt;RPubs - 台風15号の予想進路&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rpubs.com/kazutan/typhoon2&#34;&gt;RPubs - 台風17号と18号&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rpubs.com/kazutan/typhoon3&#34;&gt;RPubs - 台風20号&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rpubs.com/kazutan/typhoon4&#34;&gt;RPubs - 台風21号&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rpubs.com/kazutan/typhoon5&#34;&gt;RPubs - 台風22号と23号&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;これらは気象庁HPの台風情報からスクレイピングして整形し，それを可視化したものです。&lt;strong&gt;こいつは一体何がしてくてこんなことしてたんだ&lt;/strong&gt;と今では自分でも思います。とはいえはじめてのスクレイピングで，&lt;strong&gt;この書籍の1章と2章を当時読めてたらどれだけ楽になったことか&lt;/strong&gt;と今なら思います。&lt;/p&gt;
&lt;p&gt;これが2015年後半で，以降趣味だけではなく調べものなどでも活用していくようになりました。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;api&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;APIを叩いてデータを取得&lt;/h3&gt;
&lt;p&gt;個人的な必要だったり，業務上必要になったりで，この1年半くらい頻繁にAPIを叩くようになりました。たとえばこんなことなど:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://kazutan.github.io/HijiyamaR4/e-stat_test.html&#34;&gt;e-statをRでたたいてみる&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://qiita.com/kazutan/items/08c3ad07f81caadd990e&#34;&gt;RでGitHubAPIを利用してリポジトリ情報などを取得する - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;はい，そうです。&lt;strong&gt;この2つとも5章で詳細に解説されています&lt;/strong&gt;。もちろん著者の方々がすでに公開されていた資料を元に進めていたのですが，&lt;strong&gt;基礎がないので四苦八苦してなんとかやってたけどこの書籍読めば一発だよね&lt;/strong&gt;と思いました。&lt;/p&gt;
&lt;p&gt;他にも最近では&lt;a href=&#34;https://habitica.com/static/front?lang=ja&#34;&gt;Habitica&lt;/a&gt;の&lt;a href=&#34;https://habitica.com/apidoc/&#34;&gt;API&lt;/a&gt;を叩いて自分の生活を可視化(して反省)しようと，Rからデータ取得したりした(内容は未公開)のですが，基礎的なことがわからず相当な時間を消費しました。&lt;strong&gt;2章と5章に書いてある内容を知っていれば&lt;/strong&gt;と今では思います。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;section level2&#34;&gt;
&lt;h2&gt;さいごに&lt;/h2&gt;
&lt;p&gt;スクレイピングという言葉に反応したRユーザーの皆さん，&lt;strong&gt;買いましょう&lt;/strong&gt;。&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>